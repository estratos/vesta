{"version":3,"sources":["reducers/MainNavigation/mainNavigationReducer.js","actions/MainNavigation/mainNavigationTypes.js","reducers/ControlPanelContent/controlPanelContentReducer.js","actions/ControlPanelContent/controlPanelContentTypes.js","reducers/Notification/notificationReducer.js","actions/Notification/notificationTypes.js","reducers/MenuCounters/menuCounterReducer.js","actions/MenuCounters/menuCounterTypes.js","reducers/UserSession/userSessionReducer.js","actions/UserSession/userSessionTypes.js","reducers/Session/sessionReducer.js","actions/Session/sessionTypes.js","reducers/Panel/panel.js","actions/Panel/panelTypes.js","reducers/rootReducer.js","components/Spinner/Spinner.jsx","components/Path/Dropdown/Dropdown.jsx","components/Path/Path.jsx","components/Lists/Row/Row.jsx","components/Lists/DirectoryList/DirectoryList.jsx","components/ProgressBar/ProgressBar.jsx","components/Hotkeys/Hotkeys.jsx","components/Modal/AddFile.jsx","components/Modal/AddDirectory.jsx","components/Modal/Rename.jsx","components/Modal/Delete.jsx","components/Modal/NothingSelected.jsx","components/Modal/Permissions.jsx","components/Modal/Move.jsx","components/Modal/Archive.jsx","components/Modal/Extract.jsx","components/Modal/Copy.jsx","components/Modal/Replace.jsx","components/Modal/Modal.jsx","components/Menu/Menu.jsx","FileManagerHelper.js","containers/FileManager/FileManager.js","components/Preview/Editor/Editor.jsx","components/Preview/Photo/Photo.jsx","components/Preview/Video/Video.jsx","components/Preview/Preview.jsx","actions/MainNavigation/mainNavigationActions.js","utils/token.js","ControlPanelService/Ip.js","components/ControlPanel/AddItemLayout/Form/SelectInput/SelectInput.jsx","components/ControlPanel/AddItemLayout/Form/TextInput/TextInput.jsx","components/ControlPanel/AddItemLayout/Form/Checkbox/Checkbox.jsx","components/ControlPanel/Container/Container.jsx","components/ControlPanel/AddItemLayout/AddItemLayout.jsx","components/MainNav/Toolbar/Toolbar.jsx","services/session.js","actions/MenuCounters/menuCounterActions.js","components/InternetProtocol/Edit/EditInternetProtocol.jsx","components/InternetProtocol/Add/AddInternetProtocol.jsx","components/ControlPanel/AddItemLayout/Form/TextArea/TextArea.jsx","ControlPanelService/Server.js","components/Server/Edit/Nginx/EditServerNginx.jsx","components/Server/Edit/Postgresql/Postgresql.jsx","ControlPanelService/Backup.js","components/Backup/Exclusion/Edit/index.jsx","actions/ControlPanelContent/controlPanelContentActions.js","components/MainNav/Toolbar/DropdownFilter/DropdownFilter.jsx","components/MainNav/Toolbar/SearchInput/SearchInput.jsx","ControlPanelService/Favorites.js","components/ControlPanel/ListItem/ListItem.jsx","components/InternetProtocol/InternetProtocol.jsx","components/MainNav/Toolbar/LeftButton/LeftButton.jsx","components/MainNav/Toolbar/Checkbox/Checkbox.jsx","components/MainNav/Toolbar/Select/Select.jsx","ControlPanelService/Select.js","components/ControlPanel/Modal/Modal.jsx","containers/InternetProtocols/InternetProtocols.jsx","ControlPanelService/Web.js","components/ControlPanel/AddItemLayout/Form/Password/Password.jsx","components/WebDomain/Add/AdditionalFtpForEditing/AdditionalFtpForEditing.jsx","components/WebDomain/Add/AdditionalFtpWrapper/AdditionalFtpWrapper.jsx","components/WebDomain/Add/SslSupport/SslSupport.jsx","components/WebDomain/Add/AdvancedOptions/AdvancedOptions.jsx","containers/GenerateCSR/index.jsx","components/WebDomain/Add/AddWebDomain.jsx","components/ControlPanel/AddItemLayout/Form/TextInputWithTextOnTheRight/TextInputWithTextOnTheRight.jsx","ControlPanelService/Db.js","components/Database/Edit/EditDatabase.jsx","ControlPanelService/Firewalls.js","components/Firewall/Edit/EditFirewall.jsx","components/ControlPanel/Hotkeys/Hotkeys.jsx","components/Database/Add/AddDatabase.jsx","components/Firewall/Add/AddFirewall.jsx","ControlPanelService/Cron.js","ControlPanelService/GeneratorOptions.js","components/CronJob/Generator/RunCommandSelect/RunCommandSelect.jsx","components/CronJob/Generator/OtherSelects/SecondTabSelects.jsx","components/CronJob/Generator/OtherSelects/ThirdTabSelects.jsx","components/CronJob/Generator/OtherSelects/FourthTabSelects.jsx","components/CronJob/Generator/OtherSelects/FifthTabSelects.jsx","components/CronJob/Generator/OtherSelects/SelectsWrapper.jsx","components/CronJob/Generator/Generator.jsx","components/CronJob/Edit/EditCronJob.jsx","components/ControlPanel/AddItemLayout/Form/TextInputWithExtraButton/TextInputWithExtraButton.jsx","components/ControlPanel/AddItemLayout/Form/NameServers/NameServers.jsx","ControlPanelService/Package.js","components/Package/Edit/EditPackage.jsx","components/Server/Edit/Httpd/EditHttpd.jsx","components/CronJob/Add/AddCronJob.jsx","components/Package/Add/AddPackage.jsx","components/Server/Edit/EditServerWebOption.jsx","components/Server/Edit/EditServerDnsOption.jsx","components/Server/Edit/EditVestaPlugins.jsx","components/Server/Edit/EditVestaSslOption.jsx","components/Server/Edit/EditDatabaseOption.jsx","components/Server/Edit/EditBackupOption.jsx","components/Server/Edit/EditMailOption.jsx","ControlPanelService/ResetPassword.js","actions/Session/sessionActions.js","components/Server/Edit/EditServer.jsx","components/Server/Edit/Dovecot/Dovecot.jsx","ControlPanelService/Mail.js","components/MailAccount/MailInfoBlock/MailInfoBlock.jsx","components/MailAccount/Edit/EditMailAccount.jsx","components/Mail/Edit/EditMail.jsx","containers/EditMailWrapper/EditMailWrapper.jsx","components/Server/Edit/Service/Service.jsx","components/MailAccount/Add/AddMailAccount.jsx","components/Mail/Add/AddMail.jsx","containers/AddMailWrapper/AddMailWrapper.jsx","ControlPanelService/Dns.js","components/DomainNameSystem/Edit/EditDomainNameSystem.jsx","components/DNSRecord/Edit/EditDNSRecord.jsx","containers/EditDNSWrapper/EditDNSWrapper.jsx","components/WebDomain/Edit/SslSupport/SslSupport.jsx","components/WebDomain/Edit/EditWeb.jsx","components/Server/Edit/PHP/EditPhp.jsx","components/Database/Database.jsx","containers/Databases/Databases.jsx","components/Firewall/Firewall.jsx","containers/Firewalls/Firewalls.jsx","ControlPanelService/Users.js","components/User/Edit/EditUser.jsx","components/Server/Edit/Bind9/Bind9.jsx","components/Server/Edit/Mysql/Mysql.jsx","ControlPanelService/UserNS.js","components/DomainNameSystem/Add/AdvancedOptions/AdvancedOptions.jsx","components/DomainNameSystem/Add/AddDomainNameSystem.jsx","components/DNSRecord/Add/AddDNSRecord.jsx","containers/AddDNSWrapper/AddDNSWrapper.jsx","components/Backup/RestoreSetting/RestoreSetting.jsx","components/Backup/RestoreSettings/BackupRestoreSettings.jsx","components/Backup/Backup.jsx","containers/Backups/Backups.jsx","containers/BackupWrapper/BackupWrapper.jsx","components/Firewall/Add/Banlist/index.jsx","components/CronJob/CronJob.jsx","containers/CronJobs/CronJobs.jsx","components/Package/Package.jsx","containers/Packages/Packages.jsx","ControlPanelService/Languages.js","components/User/Add/AddUser.jsx","ControlPanelService/Updates.js","components/Update/Update.jsx","containers/Updates/Updates.jsx","components/Server/ServerSys.jsx","components/Server/Server.jsx","containers/Servers/Servers.jsx","components/MainNav/Stat-menu/Menu.jsx","components/MainNav/Mobile/MobileTopNav.jsx","ControlPanelService/Notifications.js","components/MainNav/Panel/Notifications/Bell.jsx","components/MainNav/Panel/Notifications/BellUnread.jsx","components/MainNav/Panel/Notifications/Notifications.jsx","actions/Notification/notificationActions.js","components/MainNav/Panel/Panel.jsx","components/MainNav/MainNav.jsx","components/Backup/Exclusion/index.jsx","containers/Backups/Exclusions/index.jsx","components/MailAccount/MailAccount.jsx","containers/MailAccounts/MailAccounts.jsx","components/Mail/Mail.jsx","containers/Mails/Mails.jsx","containers/MailWrapper/MailWrapper.jsx","components/DNSRecord/DNSRecord.jsx","containers/DNSRecords/DNSRecords.jsx","components/DomainNameSystem/DomainNameSystem.jsx","containers/DomainNameSystems/DomainNameSystems.jsx","containers/DNSWrapper/DNSWrapper.jsx","ControlPanelService/Statistics.js","components/Statistic/Statistic.jsx","containers/Statistics/Statistics.jsx","components/User/User.jsx","containers/Users/Users.jsx","ControlPanelService/RRD.js","components/RRD/Timer/Timer.jsx","components/RRD/RRD.jsx","containers/RRDs/RRDs.jsx","components/Firewall/Ban/index.jsx","containers/Firewalls/Banlist/index.jsx","components/WebDomain/WebDomain.jsx","containers/Web/Web.jsx","ControlPanelService/Search.js","components/Searchitem/SearchItem.jsx","containers/Search/Search.jsx","ControlPanelService/Logs.js","components/Log/Log.jsx","containers/Logs/Logs.jsx","containers/ControlPanelContent/ControlPanelContent.jsx","components/TopPanel/TopPanel.jsx","ControlPanelService/WebLogs.js","containers/WebLogs/WebLogs.jsx","components/ControlPanel/LoginLayout/LoginLayout.jsx","components/Login/LoginForm.jsx","containers/ServiceInfo/index.jsx","components/ForgotPassword/index.jsx","containers/App/App.js","containers/App/serviceWorker.js","index.js","store.js"],"names":["INITIAL_STATE","focusedElement","activeElement","adminMenuTabs","userMenuTabs","reducer","state","action","type","value","controlPanelFocusedElement","notifications","notificationReducer","user","menuCounterReducer","session","userSessionReducer","token","error","i18n","userName","sessionReducer","panel","panelReducer","combineReducers","mainNavigation","mainNavigationReducer","controlPanelContent","controlPanelContentReducer","menuCounters","userSession","Spinner","className","role","aria-valuenow","aria-valuemin","aria-valuemax","style","width","Dropdown","props","sorting","useSelector","changeSorting","field","order","isActive","sort","size","date","name","class","data-toggle","aria-haspopup","aria-expanded","onClick","Path","path","openDirectory","history","useHistory","useEffect","push","openDirectoryHandler","index","pathArray","split","undefined","newPath","splice","join","HOME","splitPath","map","item","key","clickablePath","Row","componentDidMount","document","addEventListener","openOnEnter","componentWillUnmount","removeEventListener","e","activeRow","data","isActiveList","modalVisible","cursor","download","keyCode","isArchive","isFile","changePath","openItem","match","pathname","search","selectRow","permissions","selectMultiple","selectOnClick","ctrlKey","selected","length","sizeFormatter","bytes","decimals","dm","i","Math","floor","log","parseFloat","pow","toFixed","dateFormatter","fDate","Date","getDay","getDate","getMonth","timeFormatter","time","year","dayjs","currentYear","glyph","icon","faJs","faHtml5","faPhp","faSass","faCss3","this","owner","id","Component","connect","withRouter","DirectoryList","UNSAFE_componentWillMount","localStorage","getItem","list","setState","sortingType","orderType","handleLiSelection","moveBackOnButton","cacheSorting","setItem","moveBack","isHomeDirectory","rootDir","toggleActiveList","changePathAfterToggle","cacheActiveWindowAndPaths","passData","isSelected","itemsSelected","indexOf","listing","getDataBySortingType","shiftKey","addToSelection","resetData","passDataToParent","firstItem","addToPath","openCertainDirectory","sortByType","a","b","localeCompare","sortBySize","sortByDate","sortByName","sortData","forEach","filter","rows","listingItems","result","duplicate","passSelection","loading","ProgressBar","overflow","progress","Hotkeys","window","toggleShortcutsLit","reference","event","isSearchInputFocused","querySelector","toggleHotkeys","ref","Shortcuts","AddFile","useState","setValue","hasError","setHasError","onChange","target","close","Cancel","save","Create","AddDirectory","Rename","fName","autoFocus","defaultValue","Delete","items","NothingSelected","notAvailable","defaultPermissions","read","write","execute","group","others","Permissions","decodeSingleNumber","string","number","parseInt","inArray","onChangeForm","checkbox","permissionName","checked","inputRef","encode","changePermissions","handleInputChange","isValid","inputInvalid","decode","array","numbers","find","reduce","acc","permissionObject","roleObject","Object","values","n","inputClasses","classNames","maxLength","disabled","Move","Archive","Compress","onBlur","Extract","Copy","Replace","files","replace","Modal","closeOutside","hotkeys","closeModal","saveAndClose","onClose","onChangePermissions","onChangeValue","modal","getElementById","file","content","Menu","inputFile","useRef","handleUserKeyDown","useCallback","hotKeys","newFile","openModal","newDirectory","deleteFile","selection","rename","console","move","archive","extract","copy","itemType","stopPropagation","preventDefault","current","click","matchArchive","to","src","alt","aria-label","multiple","upload","UPLOAD","title","DOWNLOAD","RENAME","RIGHTS","COPY","MOVE","ARCHIVE","EXTRACT","DELETE","server","location","origin","validateAction","url","axios","get","changeDirectory","encodePath","getData","deleteItems","promisesArray","then","Promise","all","moveItems","targetPath","copyItems","FileManager","currentUser","parsedQueryString","QueryString","parse","ignoreQueryPrefix","substring","FM","currentPath","leftList","rightList","changeDirectoryOnLoading","switchActiveList","toggleActiveListOnTab","hotkeysListener","activeWindow","cachePaths","setStateAsync","updater","resolve","side","leftListResponse","rightListResponse","leftListing","rightListing","changeQuery","response","showError","message","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","itemName","open","checkExistingFileName","selectedFiles","leftListData","rightListData","selectedFileNames","existingFileNames","newFiles","includes","replaceFiles","formData","FormData","append","post","onUploadProgress","progressEvent","uploadPercent","round","loaded","total","onDelete","inputElement","newDir","onRename","modalInputValue","itemPermissions","archiveItem","extractItem","moveItem","targetDir","copyItem","lastIndexOf","activeList","oldPath","changeInputValue","hotkeysPanel","available","modalWindow","inp","Helmet","onDeleteFileHandler","el","hotkeysList","classList","toggle","Editor","code","hotKey","checkFileType","res","showToast","catch","err","text","success","options","mode","pop","getModeFromFileName","lineNumbers","Save","Close","newCode","Photo","activeSlide","photoGallery","imgClass","formatPath","carouselIndicators","imageClasses","data-target","data-slide-to","carouselPhotos","setPhotoGallery","setActiveImage","activeImage","activeImageIndex","data-ride","href","data-slide","aria-hidden","Video","autoPlay","loop","controls","Preview","lastOpenedDirectory","addFocusedElement","addActiveElement","setAuthToken","getAuthToken","BASE_URL","SelectInput","optionalTitle","htmlFor","option","TextInput","inputValue","setInputValue","readOnly","Checkbox","defaultChecked","checkedState","setCheckedState","Container","children","AddItemLayout","status","newDate","day","month","getFullYear","renderDate","Toolbar","toolbarHeight","setToolbarHeight","handleToolbar","changeToolbarHeight","documentElement","clientWidth","scrollTop","scrollY","newToolbarHeight","max","mobile","marginTop","checkAuth","uri","refreshCounters","dispatch","getState","reject","EditInternetProtocol","useDispatch","errorMessage","setErrorMessage","okMessage","setOkMessage","dedicated","ip","QS","fetchData","params","getInternetProtocolInfo","submitFormHandler","updatedIP","entries","keys","constructor","formDataObject","updateInternetProtocol","error_msg","ok_msg","IP","HtmlParser","onSubmit","netmask","interface","users","nat","Back","AddInternetProtocol","interfaces","newIp","addInternetProtocol","Add","TextArea","rest","handleAction","updateService","getServiceInfo","service","services","EditServerNginx","restart","setRestart","basicOptions","advancedOptions","toggleOptions","onUpdateConfig","regexp","RegExp","updatedConfig","config","SERVER","service_name","updatedService","worker_processes","worker_connections","client_max_body_size","send_timeout","proxy_connect_timeout","proxy_send_timeout","proxy_read_timeout","gzip","gzip_comp_level","charset","config_path","Postgresql","options_path","EditBackupExclusions","updatedExclusions","updateBackupExclusions","BACKUP","web","mail","db","userdir","addControlPanelContentFocusedElement","DropdownFilter","usersList","Username","Disk","Bandwidth","Starred","webList","Domain","dnsList","Expire","Records","mailList","Accounts","mailAccountList","dbList","Database","User","Host","cronList","Command","packagesList","internetProtocolsList","Netmask","Interface","Owner","firewallList","Action","Protocol","Port","Comment","searchList","Name","filterClassName","renderFilters","SearchInput","searchTerm","setSearchTerm","handleClick","handleSearchTerm","focusInput","focus","addFavorite","unitId","section","deleteFavorite","ListItem","starred","hasOwnProperty","Boolean","toggleItem","checkItem","outdated","suspended","stopped","focused","sysInfo","printDate","leftNameText","toggleFav","InternetProtocol","NAME","FOCUSED","isChecked","DATE","STARRED","NAT","NETMASK","INTERFACE","Domains","U_WEB_DOMAINS","Status","STATUS","OWNER","Users","U_SYS_USERS","edit","handleModal","delete_conf","LeftButton","showLeftMenu","renderIcon","toggleAll","toggled","Select","cronReports","listValues","select","rebuild","suspend","unsuspend","delete","backupList","updatesList","update","serverList","stop","start","backupDetailList","restore","banList","statisticsList","renderOptions","bulkAction","show","onSave","onCancel","showSaveButton","showCancelButton","tabindex","aria-labelledby","display","Confirmation","data-dismiss","OK","InternetProtocols","setLoading","visible","actionUrl","setModal","internetProtocols","ipFav","toggledAll","totalAmount","handleContentSelection","handleFocusedElementShortcuts","handleArrowUp","handleArrowDown","initFocusedElement","focusedElementPosition","findIndex","pack","nextFocusedElement","scrollIntoView","behavior","block","handleDelete","handleEdit","currentInternetProtocolData","displayModal","reformatData","internetProtocolsDuplicate","checkedItem","incomingItem","sortArray","sortingColumn","sortBy","ipFavDuplicate","ipNames","internetProtocol","refreshMenuCounters","modalCancelHandler","term","changeSearchTerm","generateCSRUri","getCsrInitialData","domain","Password","showGenerationButton","hidePassword","generatedPassword","passwordInputHandler","chars","randomNumber","random","substr","generatePassword","Generate","AdditionalFtpForEditing","onDeleteAdditionalFtp","prefixI18N","prePath","username","v_ftp_user","v_ftp_path","deleted","is_new","v_ftp_password","FTP","v_ftp_email","renderForm","AdditionalFtpWrapper","ftps","unCheckAdditionalFtpBox","ftpUserPrePath","additionalFtp","onDeleteFtp","updatedAdditionalFtps","ftp","additionalFtpArrayLength","additionalFtpsDuplicate","addAdditionalFtp","SslSupport","letsEncrypt","setLetsEncrypt","setModalVisible","sslKey","AdvancedOptions","sslSupport","statisticsAuthCheckbox","statisticsAuth","updatedDomain","aliases","transform","sslCertificate","bool","renderSslSupport","webStats","stat","GenerateSSL","generatedData","newCsr","generateCSR","crt","csr","prePopulateInputs","email","country","locality","org","AddWebDomain","dnsSupport","mailSupport","proxySupport","showAdvancedOptions","ssl_crt","ssl_key","proxy_ext","getInternetProtocolNames","ips","stats","prefix","ftp_pre_path","checkboxHandler","input","newWebDomain","addWeb","WEB","required","Aliases","PROXY_SYSTEM","renderAdvancedOptions","TextInputWithTextOnTheRight","dbCharsets","EditDatabase","databaseUserInputValue","database","getDatabaseInfo","dbuser","updatedDatabase","updateDatabase","DB","password","host","addBanIpsUri","EditFirewall","rule","getFirewallInfo","updateFirewall","FIREWALL","protocol","port","comment","AddDatabase","memo","dbTypes","dbHosts","maxCharLength","databaseInputValue","newDatabase","addDatabase","Type","dbType","dbHost","Charset","dbCharset","AddFirewall","actions","protocols","newFirewall","addFirewall","generatorOptions","minutesRunCommandsOptions","every","hoursRunCommandsOptions","daysRunCommandsOptions","hoursOptions","hourlyMinutesOptions","dailyMinutesOptions","weeklyRunCommandOptions","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","monthlyRunCommandOptions","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","dateOptions","RunCommandSelect","activeTab","selectName","SecondTabSelects","Minute","ThirdTabSelects","Hour","FourthTabSelects","FifthTabSelects","OtherSelects","renderSelects","Generator","formElement","activeClassName","tab","formatLink","job","Minutes","Hourly","Daily","Weekly","Monthly","generatedCronJob","iterableFormElement","EditMail","h_min","h_hour","h_day","h_wday","h_month","getCronJobInfo","min","hour","wday","updatedJob","updateCronJob","changeInput","updatedGeneratedCronJob","CRON","cmd","TextInputWithExtraButton","previousValue","NameServers","nameServersAmount","usersNS","initNameServersAmount","userNS","onDeleteNameServer","nameServersDuplicate","nameServer","nameServersLength","addNameServer","getPackageList","EditPackage","queryParams","package","pkg","toggleUnlimited","inputName","inputNameToUpdate","PACKAGE","updatedPackage","updatePackage","web_system","web_templates","web_template","web_backend","backend_templates","backend_template","proxy_system","proxy_templates","proxy_template","dns_system","dns_templates","dns_template","shells","shell","web_domains","web_aliases","dns_domains","dns_records","mail_domains","mail_accounts","databases","cron_jobs","backups","disk_quota","bandwidth","nameservers","EditHttpd","AddCronJob","newCronJob","addCronJob","Day","Month","AddPackage","webTemplates","webSystem","backendTemplates","backendSystem","proxySystem","proxyTemplates","dnsTemplates","dnsSystem","sshTemplates","webDomains","webAliases","dnsDomains","dnsRecords","mailDomains","mailAccounts","cronJobs","quota","ssh_access","newPackage","addPackage","EditServerWebOption","webBackend","webBackendPool","EditServerDnsOption","dnsCluster","cluster","EditVestaPluginsOption","lead","sftpValue","setSftpValue","fm_lead","fmValue","setFmValue","softaculousValue","setSoftaculousValue","version","firewall_system","sftp_license_key","licence_key","http_host","renderSftp","fm_license_key","fm_licence_key_option","rel","renderFm","softaculous_lead","fontWeight","renderSoftaculous","EditVestaSslOption","domainsVisible","setDomainsVisible","sslDomains","setSslDomains","ssl_domains","vesta_certificate","sys_ssl_crt","sys_ssl_key","sys_ssl_subject","sys_ssl_aliases","sys_ssl_not_before","sys_ssl_not_after","sys_ssl_signature","sys_ssl_pub_key","sys_ssl_issuer","EditDatabaseOption","DB_PMA_URL","DB_PGA_URL","mysql","mysql_hosts","printPhpMyAdminHosts","pgsql","pgsql_hosts","EditBackupOption","remoteBackup","setRemoteBackup","backup","backup_gzip","backup_dir","backup_type","backup_host","backup_username","backup_password","backup_bpath","EditMailOption","MAIL_URL","mailCertificateSystem","setMailCertificateSystem","mail_certificate","mail_system","antivirus_system","antispam_system","resetPassword","confirmPassword","login","signIn","loginAs","loginas","signInAs","logout","logout_response","removeItem","EditServer","webOption","dnsOption","mailOption","backupOption","sslOption","pluginsOption","dbOption","updatedServer","toLowerCase","toggleOption","hostname","timezones","timezone","languages","language","web_backend_pool","v_dns_cluster","dns_cluster","EditVestaPlugins","Dovecot","config1","config_path1","config2","config_path2","config3","config_path3","config4","config_path4","config5","config_path5","config6","config_path6","config7","config_path7","config8","config_path8","getMailList","MailInfoBlock","webMail","hostName","selectedOption","setSelectedOption","imapHostName","smtpHostName","imapEncryption","smtpEncryption","imapPort","smtpPort","mailInfoBlockSelectOptions","getCredentials","EditMailAccount","autoreplyChecked","setAutoreplyChecked","quotaValue","newMailDomain","account","editMailAccount","autoreply","MAIL","fwd","fwd_only","autoreply_message","send_email","webmail","getMailInfo","updateMail","antispam","antivirus","dkim","catchall","EditMailWrapper","isMailAccount","setIsMailAccount","Service","serviceName","AddMailAccount","addMailAccount","v_aliases","forward","AddMail","antiSpamChecked","antiVirusChecked","dkimChecked","addMail","AddMailWrapper","setDomain","updateDNS","recordId","record_id","EditDomainNameSystem","getDNSInfo","DNS","templates","template","exp","soa","ttl","EditDNSRecord","selectOptions","getDNSRecordInfo","updatedRecord","rec","val","priority","EditDNSWrapper","isDnsRecord","setIsDnsRecord","sslCertificateAuthority","sslSubject","sslAliases","sslNotBefore","sslNotAfter","sslSignature","sslPubKey","sslIssuer","EditWeb","webStat","statAuth","getDomainInfo","v_stats","ssl","letsencrypt","proxy","ftp_user","stats_user","updateWebDomain","onChangeAdditionalFtp","object","formatData","WEB_BACKEND","ssl_subject","ssl_aliases","ssl_not_before","ssl_not_after","ssl_signature","ssl_pub_key","ssl_issuer","ssl_ca","sslHome","ssl_home","ftp_users","ftp_user_prepath","EditPhp","max_execution_time","max_input_time","memory_limit","error_reporting","display_errors","post_max_size","upload_max_filesize","SUSPENDED","DATABASE","U_DISK","mb","U_DISK_PERCENT","DBUSER","CHARSET","HOST","TYPE","suspendedStatus","suspend_conf","handleSuspend","suspend_action","Databases","dbFav","dbAdmin","dbAdminLink","db_myadmin_link","db_pgadmin_link","currentDatabaseData","db_admin","db_admin_link","dbDuplicate","dbFavDuplicate","databasesDuplicate","dbNames","domainNameSystems","domainNameSystem","Firewall","ACTION","PROTOCOL","COMMENT","PORT","Firewalls","firewalls","firewallFav","firewallExtension","firewall","currentFirewallData","firewallsDuplicate","firewallFavDuplicate","firewallNames","bulkFirewallAction","EditUser","updatedUser","updateUser","USER","convertObjectOfObjectsToArrayOfObjects","packages","fname","lname","Bind9","Mysql","max_connections","max_user_connections","wait_timeout","interactive_timeout","max_allowed_packet","add","format","AddDomainNameSystem","addDomainNameSystem","AddDNSRecord","newDnsRecord","addDomainNameSystemRecord","AddDNSWrapper","RestoreSetting","checkItemFunc","restoreSetting","textTransform","displayBackupDetailName","restoreLinkParams","BackupRestoreSettings","backupDetailsData","setBackupDetailsData","backupDetails","handleRestore","restoreBackupSetting","reformattedData","cat","backupDetailsDuplicate","backupDetail","backupDetailNames","udir","bulkRestore","listBackups","Backup","SIZE","RUNTIME","UPDATED","faFileDownload","Backups","backupFav","configureRestoreSettings","currentBackupData","backup_fav","backupDuplicate","backupFavDuplicate","backupsDuplicate","backupNames","ok","BackupWrapper","isBackupSettings","setIsBackupSettings","AddBanIP","userLanguage","banIps","getBanIps","chain","newUser","addBanIp","Banlist","CronJob","CMD","Min","MIN","HOUR","DAY","MONTH","WDAY","CronJobs","cronFav","cronJob","currentCronJobData","cron_reports","cron_fav","cronDuplicate","cronFavDuplicate","cronJobsDuplicate","cronJobNames","handleCronNotifications","Package","FNAME","LNAME","WEB_TEMPLATE","PROXY_TEMPLATE","DNS_TEMPLATE","SHELL","WEB_DOMAINS","WEB_ALIASES","DNS_DOMAINS","DNS_RECORDS","MAIL_DOMAINS","MAIL_ACCOUNTS","DATABASES","CRON_JOBS","BACKUPS","BANDWIDTH","DISK_QUOTA","NS","Packages","packagesFav","currentPackageData","packagesDuplicate","packagesFavDuplicate","packageNames","AddUser","vEmail","vNotify","getAllPackages","getAllLanguages","getPackageNames","addUser","Email","Language","LANGUAGE","Update","isUpdated","DESCR","Version","VERSION","ARCH","Release","RELEASE","Updates","updates","autoUpdate","updatesDuplicate","updateNames","UPDATES","Server","HOSTNAME","OS","LOADAVERAGE","Uptime","UPTIME","configure","height","viewBox","fill","xmlns","fill-rule","d","STATE","SYSTEM","CPU","Memory","MEM","RTIME","action_url","Servers","servers","handleConfigure","handleRestart","handleStop","onHandleAction","sys","serversDuplicate","serverNames","menuHeight","handleState","statClassName","activeName","onKeyPress","look","U_USERS","spnd","SUSPENDED_USERS","domains","U_WEB_ALIASES","SUSPENDED_WEB","U_DNS_DOMAINS","records","U_DNS_RECORDS","SUSPENDED_DNS","U_MAIL_DOMAINS","accounts","U_MAIL_ACCOUNTS","SUSPENDED_MAIL","U_DATABASES","SUSPENDED_DB","jobs","U_CRON_JOBS","SUSPENDED_CRON","U_BACKUPS","MobileTopNav","extraClass","Graphs","Statistics","Log","FIREWALL_SYSTEM","FILEMANAGER_KEY","SOFTACULOUS","Apps","Bell","data-name","BellUnread","Notifications","ajax","notification","removeNotification","deleteNotification","TOPIC","ID","NOTICE","marginBottom","Panel","smallNavigationClass","toggleNavigation","showTopNav","signOut","renderNotifications","renderSmallNavigation","MainNav","tabs","controlFocusedTabWithCallback","currentActiveTabPositionInArray","newFocusedMenuTab","handleLeftArrowKey","handleRightArrowKey","handleTopNav","hideMenu","indexInArray","visibleNav","innerWidth","Exclusion","Array","isArray","ITEMS","renderExclusionItems","BackupExclusions","exclusions","exclusion","MailAccount","QUOTA","FWD","AUTOREPLY","MailAccounts","mailAccountsFav","mailAccount","currentMailData","mailAccountsDuplicate","mailAccountsFavDuplicate","mailAccountNames","bulkMailAccountAction","Mail","printStat","ANTIVIRUS","DKIM","ANTISPAM","CATCHALL","list_accounts_button","Mails","mails","mailFav","handleLogs","handleAddRecord","mailsDuplicate","mailFavDuplicate","mailNames","MailWrapper","mailDomain","setMailDomain","DnsRecord","dnsRecord","RECORD","PRIORITY","VALUE","DnsRecords","dnsRecordFav","dnsRecordsFav","dnsDuplicate","dns","dnsRecFavDuplicate","dnsRecordsDuplicate","dnsRecordNames","record","DomainNameSystem","RECORDS","SOA","TTL","Serial","SERIAL","Template","TPL","EXP","RECORDS_I18N","DomainNameSystems","dnsFav","currentDomainNameSystemData","Number","domainNameSystemsDuplicate","first","second","dnsFavDuplicate","domainNameSystemsNames","bulkDomainAction","DNSWrapper","isDnsRecords","setIsDnsRecords","Statistic","printName","U_BANDWIDTH","U_BANDWIDTH_PERCENT","Web","U_DISK_WEB","U_DISK_MAIL","U_DISK_DIRS","U_WEB_SSL","IP_OWNED","statistics","statistic","getStatisticsList","STATS","logOut","logInAs","U_BANDWIDTH_MEASURE","U_DISK_MEASURE","U_DISK_WEB_MEASURE","U_DISK_MAIL_MEASURE","U_DATABASES_MEASURE","U_DISK_DIRS_MEASURE","CONTACT","spnd_conf","spnd_action","userFav","addNewObject","handleLogin","currentUserData","logOutHandler","logInAsHandler","userDuplicate","userFavDuplicate","usersDuplicate","userNames","selectedUsers","generateImagePath","period","rrd","Timer","setIsActive","interval","setInterval","countDown","clearInterval","RRD","RRDs","setData","periodI18N","rrds","periodClass","changePeriod","Yearly","dataDuplicate","Ban","TIME","CHAIN","delete_confirmation","BanLists","banIp","currentBanIpData","delete_url","total_amount","banIpsDuplicate","banIpNames","WebDomain","ALIAS","U_BANDWIDTH_SIZE","U_DISK_SIZE","SSL","LETSENCRYPT","WEB_STATS","PROXY_SUPPORT","PROXY","BACKEND_SUPPORT","renderBackedSupport","BACKEND","spnd_confirmation","webFav","webDomain","currentWebDomainData","webDomainsDuplicate","webFavDuplicate","webDomainNames","SearchItem","RESULT","printLoginActionButton","edit_link","spnd_link","delete_link","Search","searchResults","sortByHandler","Logs","logs","LOG","ControlPanelContent","setHotkeysList","switchPanelTab","from","exact","component","scrollTo","top","TopPanel","menuItems","extraMenuItems","cls","route","renderMenuItems","link","renderExtraMenuItems","WebLogs","goBack","getWebLogs","LoginLayout","LoginForm","formValues","setFormValues","changeInputHandler","LOGIN","tabIndex","ServiceInfo","srv","service_log","ReactHtmlParser","ForgotPassword","useLocation","completeStep1","completeStep2","password_confirm","reset","Submit","Confirm","Reset","library","Icon","App","AuthenticatedRoute","authenticated","render","ReactDOM","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a9be926e.chunk.js","sourcesContent":["import { ADD_FOCUSED_ELEMENT, ADD_ACTIVE_ELEMENT, REMOVE_ACTIVE_ELEMENT, REMOVE_FOCUSED_ELEMENT } from '../../actions/MainNavigation/mainNavigationTypes';\n\nconst INITIAL_STATE = {\n  focusedElement: '',\n  activeElement: '',\n  adminMenuTabs: [\n    '/list/user/',\n    '/list/web/',\n    '/list/dns/',\n    '/list/mail/',\n    '/list/db/',\n    '/list/cron/',\n    '/list/backup/',\n    '/list/package/',\n    '/list/ip/',\n    '/list/rrd/',\n    '/list/stats/',\n    '/list/log/',\n    '/list/updates/',\n    '/list/firewall/',\n    '/list/directory/',\n    '/softaculous/',\n    '/list/server/'\n  ],\n  userMenuTabs: [\n    '/list/user/',\n    '/list/web/',\n    '/list/dns/',\n    '/list/mail/',\n    '/list/db/',\n    '/list/cron/',\n    '/list/backup/',\n    '/list/stats/',\n    '/list/log/',\n    '/list/directory/',\n    '/softaculous/',\n  ]\n};\n\nconst reducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case ADD_FOCUSED_ELEMENT:\n      return {\n        ...state, focusedElement: action.value,\n      };\n\n    case REMOVE_FOCUSED_ELEMENT:\n      return {\n        ...state, focusedElement: action.value,\n      };\n\n    case ADD_ACTIVE_ELEMENT:\n      return {\n        ...state, activeElement: action.value,\n      };\n\n    case REMOVE_ACTIVE_ELEMENT:\n      return {\n        ...state, activeElement: action.value,\n      };\n\n    default: return state;\n  }\n};\n\nexport default reducer;","export const ADD_FOCUSED_ELEMENT = 'ADD_FOCUSED_ELEMENT';\nexport const REMOVE_FOCUSED_ELEMENT = 'REMOVE_FOCUSED_ELEMENT';\nexport const ADD_ACTIVE_ELEMENT = 'ADD_ACTIVE_ELEMENT';\nexport const REMOVE_ACTIVE_ELEMENT = 'REMOVE_ACTIVE_ELEMENT';","import { ADD_CPANEL_FOCUSED_ELEMENT, REMOVE_CPANEL_FOCUSED_ELEMENT } from '../../actions/ControlPanelContent/controlPanelContentTypes';\n\nconst INITIAL_STATE = {\n  controlPanelFocusedElement: ''\n};\n\nconst reducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case ADD_CPANEL_FOCUSED_ELEMENT:\n      return {\n        ...state, controlPanelFocusedElement: action.value,\n      };\n\n    case REMOVE_CPANEL_FOCUSED_ELEMENT:\n      return {\n        ...state, controlPanelFocusedElement: '',\n      };\n\n    default: return state;\n  }\n};\n\nexport default reducer;","export const ADD_CPANEL_FOCUSED_ELEMENT = 'ADD_CPANEL_FOCUSED_ELEMENT';\nexport const REMOVE_CPANEL_FOCUSED_ELEMENT = 'REMOVE_CPANEL_FOCUSED_ELEMENT';","import { ADD_NOTIFICATIONS, REMOVE_NOTIFICATIONS } from 'src/actions/Notification/notificationTypes';\n\nconst INITIAL_STATE = {\n  notifications: []\n};\n\nconst notificationReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case ADD_NOTIFICATIONS:\n      return {\n        ...state,\n        notifications: action.value,\n      };\n\n    case REMOVE_NOTIFICATIONS:\n      return {\n        ...state,\n        notifications: action.value,\n      };\n\n    default: return state;\n  }\n};\n\nexport default notificationReducer;\n","export const ADD_NOTIFICATIONS = 'ADD_NOTIFICATIONS';\nexport const REMOVE_NOTIFICATIONS = 'REMOVE_NOTIFICATIONS';\n","import { REFRESH_COUNTERS } from 'src/actions/MenuCounters/menuCounterTypes';\n\nconst INITIAL_STATE = {\n  user: {},\n};\n\nconst menuCounterReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case REFRESH_COUNTERS:\n      return {\n        ...state,\n        user: action.value.user,\n      };\n\n    default: return state;\n  }\n};\n\nexport default menuCounterReducer;\n","export const REFRESH_COUNTERS = 'REFRESH_COUNTERS';","import { SET_USER_SESSION } from 'src/actions/UserSession/userSessionTypes';\n\nconst INITIAL_STATE = {\n  session: {}\n};\n\nconst userSessionReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SET_USER_SESSION:\n      return {\n        ...state,\n        session: action.value,\n      };\n\n    default: return state;\n  }\n};\n\nexport default userSessionReducer;\n","export const SET_USER_SESSION = 'SET_USER_SESSION';","import { LOGGED_OUT_AS, LOGIN, LOGOUT, CHECK_AUTH } from '../../actions/Session/sessionTypes';\n\nconst INITIAL_STATE = {\n  token: '',\n  error: '',\n  i18n: {},\n  userName: ''\n};\n\nconst sessionReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case LOGIN:\n      return {\n        ...state,\n        token: action.value.token,\n        userName: action.value.userName,\n        i18n: action.value.i18n || {},\n        error: action.value.error\n      };\n\n    case LOGOUT:\n      return {\n        ...state,\n        token: action.value.token,\n        userName: action.value.userName,\n        i18n: action.value.i18n || {},\n        error: action.value.error\n      };\n\n    case LOGGED_OUT_AS:\n      return {\n        ...state,\n        token: action.value.token,\n        userName: action.value.userName,\n        i18n: action.value.i18n || {},\n        error: action.value.error\n      };\n\n    case CHECK_AUTH: return {\n      ...state,\n      token: action.value.token,\n      userName: action.value.userName,\n      i18n: action.value.i18n || {},\n      error: action.value.error\n    };\n\n    default: return state;\n  }\n};\n\nexport default sessionReducer;\n","export const LOGIN = 'LOGIN';\nexport const LOGOUT = 'LOGOUT';\nexport const LOGIN_AS = 'LOGIN_AS';\nexport const CHECK_AUTH = 'CHECK_AUTH';\nexport const LOGGED_OUT_AS = 'LOGGED_OUT_AS';\nexport const RESET_PASSWORD = 'RESET_PASSWORD';","import { REFRESH_PANEL } from '../../actions/Panel/panelTypes';\n\nconst INITIAL_STATE = {\n  panel: {}\n};\n\nconst panelReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case REFRESH_PANEL:\n      return {\n        ...state,\n        panel: action.value.panel\n      };\n\n    default: return state;\n  }\n};\n\nexport default panelReducer;\n","export const REFRESH_PANEL = 'REFRESH_PANEL';\n","import { combineReducers } from 'redux';\nimport mainNavigationReducer from './MainNavigation/mainNavigationReducer';\nimport controlPanelContentReducer from './ControlPanelContent/controlPanelContentReducer';\nimport notificationReducer from './Notification/notificationReducer';\nimport menuCounterReducer from './MenuCounters/menuCounterReducer';\nimport userSessionReducer from './UserSession/userSessionReducer';\nimport sessionReducer from './Session/sessionReducer';\nimport panelReducer from './Panel/panel';\n\nexport default combineReducers({\n  mainNavigation: mainNavigationReducer,\n  controlPanelContent: controlPanelContentReducer,\n  notifications: notificationReducer,\n  menuCounters: menuCounterReducer,\n  userSession: userSessionReducer,\n  session: sessionReducer,\n  panel: panelReducer,\n});","import React from 'react';\nimport './Spinner.scss';\n\nconst Spinner = () => {\n  return (\n    <div className=\"spinner-wrapper\">\n      <div className=\"progress\">\n        <div className=\"progress-bar progress-bar-striped progress-bar-animated\" role=\"progressbar\" aria-valuenow=\"100\" aria-valuemin=\"0\" aria-valuemax=\"100\" style={{ width: \"100%\" }}></div>\n      </div>\n    </div>\n  );\n}\n\nexport default Spinner;","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport './Dropdown.scss';\n\nconst Dropdown = (props) => {\n  const { i18n } = useSelector(state => state.session);\n\n  const changeSorting = (field, order, props) => {\n    if (!props.isActive) {\n      return;\n    } else {\n      props.changeSorting(field, order);\n    }\n  }\n\n  const sort = (sorting) => {\n    if (sorting === \"Type\") {\n      return i18n.type;\n    } else if (sorting === \"Size\") {\n      return i18n.size;\n    } else if (sorting === \"Date\") {\n      return i18n.date;\n    } else if (sorting === \"Name\") {\n      return i18n.name;\n    }\n  }\n\n  const button = (sorting, order) => {\n    if (order === \"descending\") {\n      return (\n        <button type=\"button\" className=\"btn btn-secondary\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n          {sort(sorting)}\n          <span className=\"arrow-down\">&#8595;</span>\n        </button>\n      );\n    } else {\n      return (\n        <button type=\"button\" className=\"btn btn-secondary\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n          {sort(sorting)}\n          <span>&#8593;</span>\n        </button>\n      );\n    }\n  }\n\n  return (\n    <div class=\"btn-group\">\n      {button(props.sorting, props.order)}\n      <div class=\"dropdown-menu\">\n        <ul className=\"dropdown-list\">\n          <li>\n            <span className={props.sorting === \"Type\" && props.order === \"descending\" ? \"dropdown-item active\" : \"dropdown-item\"} onClick={() => changeSorting(\"Type\", \"descending\", props)}>{i18n.type}<span className=\"arrow-down\">&#8595;</span></span>\n            <span className={props.sorting === \"Type\" && props.order === \"ascending\" ? \"dropdown-item active\" : \"dropdown-item\"} onClick={() => changeSorting(\"Type\", \"ascending\", props)}><span>&#8593;</span></span>\n          </li>\n          <li>\n            <span className={props.sorting === \"Size\" && props.order === \"descending\" ? \"dropdown-item active\" : \"dropdown-item\"} onClick={() => changeSorting(\"Size\", \"descending\", props)}>{i18n.size}<span className=\"arrow-down\">&#8595;</span></span>\n            <span className={props.sorting === \"Size\" && props.order === \"ascending\" ? \"dropdown-item active\" : \"dropdown-item\"} onClick={() => changeSorting(\"Size\", \"ascending\", props)}><span>&#8593;</span></span>\n          </li>\n          <li>\n            <span className={props.sorting === \"Date\" && props.order === \"descending\" ? \"dropdown-item active\" : \"dropdown-item\"} onClick={() => changeSorting(\"Date\", \"descending\", props)}>{i18n.date}<span className=\"arrow-down\">&#8595;</span></span>\n            <span className={props.sorting === \"Date\" && props.order === \"ascending\" ? \"dropdown-item active\" : \"dropdown-item\"} onClick={() => changeSorting(\"Date\", \"ascending\", props)}><span>&#8593;</span></span>\n          </li>\n          <li>\n            <span className={props.sorting === \"Name\" && props.order === \"descending\" ? \"dropdown-item active\" : \"dropdown-item\"} onClick={() => changeSorting(\"Name\", \"descending\", props)}>{i18n.name}<span className=\"arrow-down\">&#8595;</span></span>\n            <span className={props.sorting === \"Name\" && props.order === \"ascending\" ? \"dropdown-item active\" : \"dropdown-item\"} onClick={() => changeSorting(\"Name\", \"ascending\", props)}><span>&#8593;</span></span>\n          </li>\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default Dropdown;","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\n\nimport Dropdown from './Dropdown/Dropdown';\nimport './Path.scss';\n\nconst Path = ({ path, isActive, className, openDirectory, changeSorting, sorting, order }) => {\n  const { user } = useSelector(state => state.menuCounters);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (!user) return history.push('/login');\n  }, [user]);\n\n  const clickablePath = () => {\n    let splitPath = path.split('/');\n    splitPath.splice(0, 3);\n\n    if (path !== user.HOME) {\n      return (\n        splitPath.map((item, index) => <span className=\"clickable\" key={index} onClick={() => openDirectoryHandler(index)}>&nbsp;/&nbsp;{item}</span>)\n      );\n    }\n  }\n\n  const openDirectoryHandler = index => {\n    let pathArray = path.split('/');\n\n    if (!isActive) {\n      return;\n    } else {\n      if (index !== undefined) {\n        let newPathArray = pathArray.splice(0, index + 4);\n        let newPath = newPathArray.join('/');\n        openDirectory(newPath);\n      }\n    }\n  }\n\n  return (\n    <div className={className}>\n      <div className=\"clickable-wrapper\">\n        <span className=\"clickable-path\">\n          <span className=\"clickable\" onClick={() => openDirectory(user.HOME)}>{user.HOME}</span>\n          {clickablePath()}\n        </span>\n      </div>\n      <Dropdown changeSorting={changeSorting} sorting={sorting} order={order} isActive={isActive} />\n    </div>\n  );\n}\n\nexport default Path;\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faJs, faCss3, faPhp, faHtml5, faSass } from '@fortawesome/free-brands-svg-icons';\nimport './Row.scss';\nimport { connect } from 'react-redux';\nimport dayjs from 'dayjs'\n\nclass Row extends Component {\n  static propTypes = {\n    selectMultiple: PropTypes.func,\n    selectOnClick: PropTypes.func,\n    openDirectory: PropTypes.func,\n    modalVisible: PropTypes.bool,\n    isActiveList: PropTypes.bool,\n    activeRow: PropTypes.bool,\n    selected: PropTypes.func,\n    download: PropTypes.func,\n    cursor: PropTypes.number,\n    path: PropTypes.string,\n    key: PropTypes.number,\n    data: PropTypes.array\n  }\n\n  componentDidMount = () => {\n    document.addEventListener(\"keydown\", this.openOnEnter);\n  }\n\n  componentWillUnmount = () => {\n    document.removeEventListener(\"keydown\", this.openOnEnter);\n  }\n\n  openOnEnter = (e) => {\n    const { activeRow, data: { name, type }, isActiveList, modalVisible, openDirectory, cursor, download, path } = this.props;\n\n    if (modalVisible || !activeRow || !isActiveList) {\n      return;\n    }\n\n    if (e.keyCode === 13) {\n      if (this.isArchive(name) || type === \"l\") {\n        download();\n      } else if (this.isFile(type) && cursor !== 0) {\n        this.changePath(path, name);\n      } else {\n        openDirectory(name);\n      }\n    }\n  }\n\n  openItem = () => {\n    const { data: { type, name }, openDirectory, download, path, isActiveList } = this.props;\n\n    if (!isActiveList) {\n      return;\n    }\n\n    if (this.isArchive(name) || type === \"l\" || name.match('.mp4')) {\n      return download();\n    } else if (this.isFile(type)) {\n      return this.changePath(path, name);\n    } else if (type === 'd') {\n      return openDirectory(name);\n    }\n  }\n\n  changePath = (path, name) => {\n    this.props.history.push({\n      pathname: '/list/directory/preview/',\n      search: `?path=${path}/${name}`\n    });\n  }\n\n  selectRow = (e) => {\n    const { data: { name, permissions, type }, selectMultiple, selectOnClick, cursor, activeRow } = this.props;\n\n    if (e.ctrlKey && cursor !== 0) {\n      selectMultiple();\n    }\n\n    if (activeRow) {\n      return;\n    }\n\n    selectOnClick(cursor, name, permissions, type);\n  }\n\n  className = () => {\n    const { activeRow, selected, isActiveList } = this.props;\n\n    if (isActiveList) {\n      let isActive = activeRow ? 'active' : '';\n      let isSelected = selected ? 'selected' : '';\n      return isActive.length ? isActive : isSelected;\n    } else {\n      let isActive = activeRow ? 'inactive' : '';\n      let isSelected = selected ? 'inactive-selected' : '';\n      return isActive.length ? isActive : isSelected;\n    }\n  }\n\n  sizeFormatter = (bytes, decimals) => {\n    if (bytes === undefined || this.props.data.type === \"d\") {\n      return null;\n    };\n\n    if (bytes === \"0\") {\n      return <span className=\"value\">0 <span className=\"unit\">b</span></span>;\n    }\n\n    let k = 1024,\n      dm = decimals <= 0 ? 0 : decimals || 2,\n      sizes = ['b', 'kb', 'Mb', 'GB'],\n      i = Math.floor(Math.log(bytes) / Math.log(k));\n    return (<span className=\"value\">{parseFloat((bytes / Math.pow(k, i)).toFixed(dm))} <span className=\"unit\">{sizes[i]}</span></span>);\n  }\n\n  dateFormatter = (fDate) => {\n    if (fDate === undefined) {\n      return null;\n    }\n\n    let date = new Date(fDate),\n      months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n      getDay = date.getDate(),\n      getMonth = this.props.session.i18n[months[date.getMonth()]];\n    return (<span className=\"date\">{getMonth} {getDay}</span>);\n  }\n\n  timeFormatter = (date = new Date(), time) => {\n    const year = dayjs(date).year()\n    const currentYear = dayjs().year()\n    if (year === currentYear) return time\n    return year\n  }\n\n  glyph = () => {\n    const { data: { type, name } } = this.props;\n\n    if (type === 'd') {\n      return <FontAwesomeIcon icon=\"folder-open\" className=\"folder-open\" />;\n    }\n\n    if (this.isFile(type)) {\n      if (this.isArchive(name)) {\n        return <FontAwesomeIcon icon=\"book\" className=\"archive\" />;\n      } else if (name.match(/png|jpg|jpeg|gif/g)) {\n        return <FontAwesomeIcon icon=\"image\" className=\"image\" />;\n      } else if (name.match('.mp4') !== null) {\n        return <FontAwesomeIcon icon=\"download\" className=\"download\" />;\n      } else if (name.match('.txt')) {\n        return <FontAwesomeIcon icon=\"file-alt\" className=\"file-alt\" />;\n      } else if (name.match('.js')) {\n        return <FontAwesomeIcon icon={faJs} className=\"js\" />;\n      } else if (name.match('.html')) {\n        return <FontAwesomeIcon icon={faHtml5} className=\"html5\" />;\n      } else if (name.match('.php')) {\n        return <FontAwesomeIcon icon={faPhp} className=\"php\" />;\n      } else if (name.match(/.scss/i)) {\n        return <FontAwesomeIcon icon={faSass} className=\"sass\" />;\n      } else if (name.match(/.css/i)) {\n        return <FontAwesomeIcon icon={faCss3} className=\"css3\" />;\n      } else {\n        return <FontAwesomeIcon icon=\"file\" className=\"file\" />;\n      }\n    }\n\n    if (type === \"l\") {\n      return <FontAwesomeIcon icon=\"download\" className=\"download\" />;\n    }\n  }\n\n  isArchive(name) {\n    return name.match(/zip|tgz|tar.gz|gzip|tbz|tar.bz|gz|zip|tar|rar/g);\n  }\n\n  isFile(type) {\n    return type === 'f';\n  }\n\n  render() {\n    const { data: { name, owner, permissions, size, date, time } } = this.props;\n    return (\n      <li className={this.className()} onClick={this.selectRow} id={name}>\n        <span className=\"marker\"></span>\n        {this.glyph()}\n        <span className=\"fName\"><span className=\"name\" onClick={(e) => this.openItem(e)}>{this.props.cursor === 0 ? \"..\" : name}</span></span>\n        <span className=\"fPermissions\">{permissions}</span>\n        <span className=\"fOwner\">{owner}</span>\n        <span className=\"fSize\">{this.sizeFormatter(size)}</span>\n        <span className=\"fDate\">{this.dateFormatter(date)}</span>\n        <span className=\"fTime\">{this.timeFormatter(date, time)}</span>\n      </li>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    session: state.session\n  }\n}\n\nexport default connect(mapStateToProps)(withRouter(Row));\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Spinner from '../../Spinner/Spinner';\nimport Path from '../../Path/Path';\nimport Row from '../Row/Row';\nimport '../List.scss';\n\nclass DirectoryList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      orderType: \"descending\",\n      sortingType: \"Type\",\n      itemsSelected: [],\n      listingItems: [],\n      cursor: 0\n    };\n  }\n\n  static propTypes = {\n    changePathAfterToggle: PropTypes.func,\n    openCertainDirectory: PropTypes.func,\n    openDirectory: PropTypes.func,\n    passSelection: PropTypes.func,\n    modalVisible: PropTypes.bool,\n    changePath: PropTypes.func,\n    addToPath: PropTypes.func,\n    history: PropTypes.object,\n    isActive: PropTypes.bool,\n    cursor: PropTypes.number,\n    passData: PropTypes.func,\n    download: PropTypes.func,\n    moveBack: PropTypes.func,\n    onClick: PropTypes.func,\n    loading: PropTypes.bool,\n    path: PropTypes.string,\n    list: PropTypes.string,\n    data: PropTypes.array\n  }\n\n  UNSAFE_componentWillMount = () => {\n    if (localStorage.getItem(`${this.props.list}Sorting`) && localStorage.getItem(`${this.props.list}Order`)) {\n      this.setState({ sortingType: localStorage.getItem(`${this.props.list}Sorting`), orderType: localStorage.getItem(`${this.props.list}Order`) });\n    }\n  }\n\n  componentDidMount = () => {\n    document.addEventListener(\"keydown\", this.handleLiSelection);\n    document.addEventListener(\"keydown\", this.moveBackOnButton);\n  }\n\n  componentWillUnmount = () => {\n    document.removeEventListener(\"keydown\", this.handleLiSelection);\n    document.removeEventListener(\"keydown\", this.moveBackOnButton);\n  }\n\n  cacheSorting = () => {\n    localStorage.setItem(`${this.props.list}Sorting`, this.state.sortingType);\n    localStorage.setItem(`${this.props.list}Order`, this.state.orderType);\n  }\n\n  moveBackOnButton = (e) => {\n    if (e.keyCode === 8 && !this.props.modalVisible && this.props.isActive) {\n      this.moveBack();\n    }\n  }\n\n  moveBack = () => {\n    if (this.isHomeDirectory()) {\n      return;\n    }\n\n    this.props.moveBack();\n  }\n\n  isHomeDirectory = () => {\n    return this.props.path === this.props.rootDir;\n  }\n\n  toggleActiveList = () => {\n    const { history, path, list, onClick, changePathAfterToggle, isActive } = this.props;\n\n    if (!isActive) {\n      onClick(list);\n      changePathAfterToggle(path);\n      history.push({\n        pathname: '/list/directory/',\n        search: `?path=${path}`\n      });\n      this.cacheActiveWindowAndPaths();\n      this.passData();\n    }\n  }\n\n  cacheActiveWindowAndPaths = () => {\n    localStorage.setItem(\"activeWindow\", this.props.list);\n    localStorage.setItem(`${this.props.list}ListPath`, this.props.path);\n    localStorage.setItem(`${this.props.list}ListPath`, this.props.path);\n  }\n\n  isSelected = (i) => {\n    return this.state.itemsSelected.indexOf(i) !== -1;\n  }\n\n  addToSelection(i) {\n    const { itemsSelected } = this.state;\n    const result = [...itemsSelected];\n    const duplicate = itemsSelected.indexOf(i);\n    if (duplicate !== -1) {\n      result.splice(duplicate, 1);\n    } else {\n      if (i === \"\") {\n        return;\n      }\n\n      result.push(i)\n    }\n\n    this.setState({ itemsSelected: result });\n    this.props.passSelection(result);\n  }\n\n  handleLiSelection = (e) => {\n    const { isActive, modalVisible, changePath, path } = this.props;\n    const { cursor } = this.state;\n    const { listing } = this.getDataBySortingType()\n\n    if (!isActive || modalVisible) {\n      return;\n    }\n\n    if (e.keyCode === 40) {\n      if (cursor === listing.length - 1) {\n        return;\n      }\n\n      if (e.shiftKey) { \n        let name = listing[cursor].name;\n        this.addToSelection(name);\n      }\n\n      this.setState({ cursor: cursor + 1 });\n      this.passData();\n      changePath(path);\n    }\n\n    if (e.keyCode === 38) {\n      if (cursor === 0) {\n        return;\n      }\n\n      if (e.shiftKey) {\n        let name = listing[cursor - 1].name;\n        this.addToSelection(name);\n      }\n\n      this.setState({ cursor: cursor - 1 });\n      this.passData();\n      changePath(path);\n    }\n  }\n\n  resetData = () => {\n    this.setState({ cursor: 0, itemsSelected: [] });\n  }\n\n  passData = () => {\n    const { passData: passDataToParent } = this.props;\n    const { firstItem, listing } =  this.getDataBySortingType()\n    if (this.state.cursor === 0) {\n      const { name, permissions, type } = firstItem;\n      passDataToParent(this.state.cursor, name, permissions, type);\n    } else {\n      const { name, permissions, type } = listing[this.state.cursor - 1];\n      passDataToParent(this.state.cursor, name, permissions, type);\n    }\n  }\n\n  openDirectory = (name) => {\n    const { history, path, addToPath, openDirectory } = this.props;\n\n    history.push({\n      pathname: '/list/directory/',\n      search: `?path=${path}/${name}`\n    });\n    addToPath(name);\n    openDirectory();\n    this.setState({ cursor: 0 });\n  }\n\n  openCertainDirectory = (path) => {\n    const { history, openCertainDirectory, changePath } = this.props;\n\n    if (this.isHomeDirectory()) {\n      return;\n    }\n\n    history.push({\n      pathname: '/list/directory/',\n      search: `?path=${path}`\n    });\n    changePath(path);\n    openCertainDirectory();\n  }\n\n  changeSorting = (sortingType, orderType) => {\n    this.setState({ sortingType, orderType }, () => this.cacheSorting());\n  }\n\n  sortByType = (a, b) => {\n    if (this.state.orderType === \"descending\" && a.name !== \"\") {\n      return a.type.localeCompare(b.type);\n    } else if (this.state.orderType === \"ascending\" && b.name !== \"\") {\n      return b.type.localeCompare(a.type);\n    }\n  }\n\n  sortBySize = (a, b) => {\n    if (this.state.orderType === \"descending\" && a.name !== \"\") {\n      return a.size - b.size;\n    } else if (this.state.orderType === \"ascending\" && b.name !== \"\") {\n      return b.size - a.size;\n    }\n  }\n\n  sortByDate = (a, b) => {\n    if (this.state.orderType === \"descending\" && a.name !== \"\") {\n      return new Date(a.date) - new Date(b.date);\n    } else if (this.state.orderType === \"ascending\" && a.name !== \"\") {\n      return new Date(b.date) - new Date(a.date);\n    }\n  }\n\n  sortByName = (a, b) => {\n    if (this.state.orderType === \"descending\" && a.name !== \"\") {\n      return a.name.localeCompare(b.name);\n    } else if (this.state.orderType === \"ascending\" && b.name !== \"\") {\n      return b.name.localeCompare(a.name);\n    }\n  }\n\n  sortData = (a, b) => {\n    switch (this.state.sortingType) {\n      case \"Type\": return this.sortByType(a, b);\n      case \"Size\": return this.sortBySize(a, b);\n      case \"Date\": return this.sortByDate(a, b);\n      case \"Name\": return this.sortByName(a, b);\n      default: return this.sortByType(a, b);\n    }\n  }\n\n  getDataBySortingType = () => {\n    let firstItem, listing = [];\n    this.props.data.listing.forEach(item => {\n      if (item.name === '' && item.type === 'd') {\n        firstItem = item\n      } else {\n        listing.push(item)\n      }\n    })\n    if (this.state.sortingType !== 'Type') {\n      listing = [\n        ...listing.filter(item => item.type === 'd').sort((a, b) => this.sortByName(a, b)),\n        ...listing.filter(item => item.type === 'f').sort((a, b) => this.sortData(a, b))\n      ]\n    } else {\n      listing = listing.sort((a, b) => this.sortData(a, b))\n    }\n    return { firstItem, listing }\n  }\n\n  rows = () => {\n    const { isActive, modalVisible, path, download } = this.props;\n    const { cursor } = this.state;\n    const { listing, firstItem } = this.getDataBySortingType()\n\n    if (listing.length || firstItem) {\n      return (\n        <>\n          <Row\n            selectOnClick={(cursor, name, permissions, type) => {\n              this.setState({ cursor });\n              this.props.passData(cursor, name, permissions, type);\n            }}\n            openDirectory={this.moveBack}\n            modalVisible={modalVisible}\n            activeRow={0 === cursor}\n            isActiveList={isActive}\n            cursor={0}\n            data={firstItem}\n            path={path} />\n          {\n            listing.map((item, key) => (\n              <Row\n                key={key + 1}\n                selectOnClick={(cursor, name, permissions, type) => {\n                  this.setState({ cursor });\n                  this.props.passData(cursor, name, permissions, type);\n                }}\n                selectMultiple={() => this.addToSelection(item.name)}\n                selected={this.isSelected(item.name)}\n                openDirectory={this.openDirectory}\n                modalVisible={modalVisible}\n                activeRow={key + 1 === cursor}\n                isActiveList={isActive}\n                download={download}\n                cursor={key + 1}\n                data={item}\n                path={path} />\n            ))\n          }\n        </>\n      );\n    }\n  }\n\n  render() {\n    const { isActive, path, loading } = this.props;\n    return (\n      <div className={isActive ? \"list active\" : \"list\"} onClick={this.toggleActiveList}>\n        <Path className={isActive ? \"active-path\" : \"path\"}\n          openDirectory={this.openCertainDirectory}\n          changeSorting={this.changeSorting}\n          sorting={this.state.sortingType}\n          order={this.state.orderType}\n          isActive={isActive}\n          path={path} />\n        <div className=\"list-container\">\n          <ul>\n            {loading && isActive ? <Spinner /> : this.rows()}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default DirectoryList;\n","import React from 'react';\nimport './ProgressBar.scss';\n\nconst ProgressBar = (props) => {\n  return (\n    <div class=\"progress upload\" style={{ overflow: props.progress !== \"0\" ? 'visible' : 'hidden' }}>\n      <div class=\"progress-bar\" role=\"progressbar\" style={{ width: `${props.progress}%` }} aria-valuenow={props.progress} aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n    </div>\n  );\n}\n\nexport default ProgressBar;\n","import React, { useEffect } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useSelector } from 'react-redux';\nimport './Hotkeys.scss';\n\nconst Hotkeys = props => {\n  const { i18n } = useSelector(state => state.session);\n\n  useEffect(() => {\n    window.addEventListener(\"keyup\", toggleShortcutsLit);\n\n    return () => window.removeEventListener(\"keyup\", toggleShortcutsLit);\n  }, [props.reference]);\n\n  const toggleShortcutsLit = event => {\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus');\n\n    if (event.keyCode === 72 && !isSearchInputFocused) {\n      props.toggleHotkeys();\n    }\n  }\n\n  return (\n    <div className=\"hotkeys-list hide\" ref={props.reference}>\n      <div className=\"head\">\n        <div className=\"name\">{i18n.Shortcuts}</div>\n        <div className=\"close\" onClick={() => props.toggleHotkeys()}><FontAwesomeIcon icon=\"times\" /></div>\n      </div>\n      <div className=\"body\">\n        <ul>\n          <li>\n            <span className=\"name\">u</span>\n            <span className=\"description\">{i18n['Upload']}</span>\n          </li>\n          <li>\n            <span className=\"name\">n</span>\n            <span className=\"description\">{i18n['New File']}</span>\n          </li>\n          <li>\n            <span className=\"name\">F6</span>\n            <span className=\"description\">{i18n['New Folder']}</span>\n          </li>\n          <li>\n            <span className=\"name\">d</span>\n            <span className=\"description\">{i18n['Download']}</span>\n          </li>\n          <li className=\"space-top\">\n            <span className=\"name\">F2 / Shift + F6</span>\n            <span className=\"description\">{i18n['Rename']}</span>\n          </li>\n          <li>\n            <span className=\"name\">m</span>\n            <span className=\"description\">{i18n['Move']}</span>\n          </li>\n          <li>\n            <span className=\"name\">F5</span>\n            <span className=\"description\">{i18n['Copy']}</span>\n          </li>\n          <li>\n            <span className=\"name\">F8 / Del</span>\n            <span className=\"description\">{i18n['Delete']}</span>\n          </li>\n          <li>\n            <span className=\"name\">F2</span>\n            <span className=\"description\">{i18n['Save File (in text editor)']}</span>\n          </li>\n          <li>\n            <span className=\"name\">h</span>\n            <span className=\"description\">{i18n['Display/Close shortcuts']}</span>\n          </li>\n          <li>\n            <span className=\"name\">Esc</span>\n            <span className=\"description\">{i18n['Close Popup / Cancel']}</span>\n          </li>\n          <li>\n            <span className=\"name\">F10</span>\n            <span className=\"description\">{i18n['Close Preview / Editor']}</span>\n          </li>\n        </ul>\n        <ul>\n          <li>\n            <span className=\"name\">&#8593;</span>\n            <span className=\"description\">{i18n['Move Cursor Up']}</span>\n          </li>\n          <li>\n            <span className=\"name\">&#8595;</span>\n            <span className=\"description\">{i18n['Move Cursor Down']}</span>\n          </li>\n          <li>\n            <span className=\"name\">&#8592;</span>\n            <span className=\"description\">{i18n['Switch to Left Tab']}</span>\n          </li>\n          <li>\n            <span className=\"name\">&#8594;</span>\n            <span className=\"description\">{i18n['Switch to Right Tab']}</span>\n          </li>\n          <li>\n            <span className=\"name\">a</span>\n            <span className=\"description\">{i18n['Archive']}</span>\n          </li>\n          <li>\n            <span className=\"name\">Enter</span>\n            <span className=\"description\">{i18n['Open File / Enter Directory']}</span>\n          </li>\n          <li>\n            <span className=\"name\">F3</span>\n            <span className=\"description\">{i18n['Edit File']}</span>\n          </li>\n          <li>\n            <span className=\"name\">Backspace</span>\n            <span className=\"description\">{i18n['Go to Parent Directory']}</span>\n          </li>\n          <li>\n            <span className=\"name\">Ctr + Click</span>\n            <span className=\"description\">{i18n['Add File to the Current Selection']}</span>\n          </li>\n          <li>\n            <span className=\"name\">Shift + Cursor up/down</span>\n            <span className=\"description\">{i18n['Select Bunch of Files']}</span>\n          </li>\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default Hotkeys;\n","import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nconst AddFile = (props) => {\n  const [value, setValue] = useState(null)\n  const { i18n } = useSelector(state => state.session);\n  const [hasError, setHasError] = useState(value !== null && !value.length)\n\n  const onChange = (e) => {\n    setValue(e.target.value)\n  }\n\n  const save = () => {\n    if (!value) {\n      setHasError(true)\n      return;\n    }\n    props.save()\n  }\n\n  const cancel = () => {\n    props.close()\n  }\n\n  return (\n    <div className=\"modal-content\">\n      <div className=\"modal-header\">\n        <h3 className=\"modal-title\" >{i18n['Create file']}</h3>\n      </div>\n      <div className=\"modal-body\">\n        <input type=\"text\" onChange={onChange} ref={props.reference}></input>\n        {hasError && <small className='error'>{i18n['File name cannot be empty']}</small>}\n      </div>\n      <div className=\"modal-footer\">\n        <button type=\"button\" className=\"btn btn-danger mr-auto\" onClick={cancel}>{i18n.Cancel}</button>\n        <button type=\"button\" className=\"btn btn-primary\" onClick={save}>{i18n.Create}</button>\n      </div>\n    </div>\n  );\n}\n\nexport default AddFile;","import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\n\n\nconst AddDirectory = (props) => {\n  const [value, setValue] = useState(null)\n  const { i18n } = useSelector(state => state.session);\n  const [hasError, setHasError] = useState(value !== null && !value.length)\n\n  const onChange = (e) => {\n    setValue(e.target.value)\n  }\n\n  const save = () => {\n    if (!value) {\n      setHasError(true)\n      return;\n    }\n    props.save()\n  }\n\n  const cancel = () => {\n    props.close()\n  }\n\n  return (\n    <div className=\"modal-content\">\n      <div className=\"modal-header\">\n        <h3 className=\"modal-title directory\" >{i18n['Create directory']}</h3>\n      </div>\n      <div className=\"modal-body\">\n        <input type=\"text\" onChange={onChange} ref={props.reference}></input>\n        {hasError && <small className='error'>{i18n['Directory name cannot be empty']}</small>}\n      </div>\n      <div className=\"modal-footer\">\n        <button type=\"button\" className=\"btn btn-danger mr-auto\" onClick={cancel}>{i18n.Cancel}</button>\n        <button type=\"button\" className=\"btn btn-primary\" onClick={save}>{i18n.Create}</button>\n      </div>\n    </div>\n  );\n}\n\nexport default AddDirectory;","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nconst Rename = (props) => {\n  const { i18n } = useSelector(state => state.session);\n\n  return (\n    <div className=\"modal-content rename\">\n      <div className=\"modal-header\">\n        <h3 className=\"modal-title rename\">{i18n['Rename']} <span className=\"quot\">&quot;{props.fName}&quot;</span></h3>\n      </div>\n      <div className=\"modal-body\">\n        <input type=\"text\" autoFocus defaultValue={props.fName} onChange={props.onChange} ref={props.reference}></input>\n      </div>\n      <div className=\"modal-footer\">\n        <button type=\"button\" className=\"btn btn-danger mr-auto\" onClick={props.close}>{i18n['Cancel']}</button>\n        <button type=\"button\" className=\"btn btn-primary\" onClick={props.save}>{i18n['Rename']}</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Rename;","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nconst Delete = (props) => {\n  const { i18n } = useSelector(state => state.session);\n\n  return (\n    <div className=\"modal-content delete\">\n      <div className=\"modal-header\">\n        {props.items > 0 ?\n          <h3>{i18n['Delete items']} <span className=\"quot\">({props.items})</span> ?</h3> :\n          <h3>{i18n['Are you sure you want to delete']} <span className=\"quot\">&quot;{props.fName}&quot;</span>?</h3>}\n      </div>\n      <div className=\"modal-footer lower\">\n        <button type=\"button\" className=\"btn btn-danger mr-auto\" onClick={props.close}>{i18n['Cancel']}</button>\n        <button type=\"button\" className=\"btn btn-primary\" onClick={props.save} autoFocus>{i18n['Delete']}</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Delete;","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nconst NothingSelected = (props) => {\n  const { i18n } = useSelector(state => state.session);\n\n  return (\n    <div className=\"modal-content nothing-selected\">\n      <div className=\"header\">\n        {props.notAvailable ? <h3>{i18n['Directory download not available in current version']}</h3> : <h3>{i18n['No file selected']}</h3>}\n      </div>\n      <div className=\"modal-footer\">\n        <button type=\"button\" className=\"btn btn-danger mr-auto\" onClick={props.close}>{i18n['Close']}</button>\n      </div>\n    </div>\n  );\n}\n\nexport default NothingSelected;","import React, { Component } from 'react';\nimport classNames from 'classname';\nimport { connect } from 'react-redux';\n\nconst defaultPermissions = {\n  owner: {\n    read: 0,\n    write: 0,\n    execute: 0,\n  },\n  group: {\n    read: 0,\n    write: 0,\n    execute: 0,\n  },\n  others: {\n    read: 0,\n    write: 0,\n    execute: 0,\n  },\n}\n\nclass Permissions extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      permissions: this.decode(this.props.permissions) || defaultPermissions,\n      inputInvalid: false,\n    }\n  }\n\n  inArray(number, array) {\n    return !!~array.indexOf(number);\n  }\n\n  decodeSingleNumber = (string) => {\n    const number = parseInt(string, 0);\n\n    return {\n      read: this.inArray(number, [4, 5, 6, 7]) ? 4 : 0,\n      write: this.inArray(number, [2, 3, 6, 7]) ? 2 : 0,\n      execute: this.inArray(number, [1, 3, 5, 7]) ? 1 : 0\n    };\n  }\n\n  isValid(numbers = '') {\n    if (numbers.length !== 3 || numbers === '000' || numbers.match(/[A-Za-z]/)) {\n      return false;\n    }\n\n    return numbers.split('').find((number) => parseInt(number, 0) < 0 || parseInt(number, 0) > 7) === undefined;\n  }\n\n  decode(numbers) {\n    if (!this.isValid(numbers)) {\n      return null;\n    }\n\n    const numbersArray = numbers.split('');\n    const result = numbersArray.map(this.decodeSingleNumber);\n    return { owner: result[0], group: result[1], others: result[2] };\n  }\n\n  encode() {\n    function sumPermissions(permissionObject) {\n      return Object.values(permissionObject).map((number) => parseInt(number, 0)).reduce((acc, n) => acc + n, 0);\n    }\n    return ['owner', 'group', 'others'].reduce((acc, role) => {\n      const roleObject = this.state.permissions[role];\n      return acc + sumPermissions(roleObject);\n    }, '');\n  }\n\n  onChangeForm = (event) => {\n    const checkbox = event.target;\n    const [role, permissionName] = checkbox.name.split('_');\n    this.setState({\n      permissions: {\n        ...this.state.permissions,\n        [role]: {\n          ...this.state.permissions[role],\n          [permissionName]: checkbox.checked ? checkbox.value : 0,\n        }\n      }\n    }, (state) => {\n      this.inputRef.value = this.encode();\n      this.props.changePermissions(this.inputRef.value);\n    });\n  }\n\n  handleInputChange = (event) => {\n    const value = event.target.value;\n    if (!this.isValid(value)) {\n      return this.setState({ inputInvalid: true });\n    }\n\n    this.setState({\n      permissions: this.decode(value),\n      inputInvalid: false,\n    });\n    this.props.changePermissions(this.inputRef.value);\n  }\n\n  render() {\n    const { i18n } = this.props.session;\n    const { inputInvalid } = this.state;\n    const { close, save, fName } = this.props;\n    const inputClasses = classNames({\n      'form-control total': true,\n      'error': inputInvalid,\n    });\n\n    return (\n      <div className=\"modal-content permissions\">\n        <div className=\"modal-header\">\n          <h3 className=\"modal-title perms\">{i18n['Change Rights']} <span className=\"quot\">&quot;{fName}&quot;</span></h3>\n        </div>\n        <form name=\"form\" onChange={this.onChangeForm}>\n          <div>\n            <label><input type=\"checkbox\" name={'owner_read'} value=\"4\" checked={!!this.state.permissions[\"owner\"].read} id=\"read\" />{i18n['read by owner']}</label>\n            <label><input type=\"checkbox\" name={'owner_write'} value=\"2\" checked={!!this.state.permissions[\"owner\"].write} />{i18n['write by owner']}</label>\n            <label><input type=\"checkbox\" name={'owner_execute'} value=\"1\" checked={!!this.state.permissions[\"owner\"].execute} />{i18n['execute/search by owner']}</label>\n          </div>\n          <div>\n            <label><input type=\"checkbox\" name={'group_read'} value=\"4\" checked={!!this.state.permissions[\"group\"].read} id=\"read\" />{i18n['read by group']}</label>\n            <label><input type=\"checkbox\" name={'group_write'} value=\"2\" checked={!!this.state.permissions[\"group\"].write} />{i18n['write by group']}</label>\n            <label><input type=\"checkbox\" name={'group_execute'} value=\"1\" checked={!!this.state.permissions[\"group\"].execute} />{i18n['execute/search by group']}</label>\n          </div>\n          <div>\n            <label><input type=\"checkbox\" name={'others_read'} value=\"4\" checked={!!this.state.permissions[\"others\"].read} id=\"read\" />{i18n['read by others']}</label>\n            <label><input type=\"checkbox\" name={'others_write'} value=\"2\" checked={!!this.state.permissions[\"others\"].write} />{i18n['write by others']}</label>\n            <label><input type=\"checkbox\" name={'others_execute'} value=\"1\" checked={!!this.state.permissions[\"others\"].execute} />{i18n['execute/search by others']}</label>\n          </div>\n        </form>\n        <input type=\"text\" className={inputClasses} defaultValue={this.encode()} ref={(ref) => this.inputRef = ref} onChange={this.handleInputChange} maxLength=\"3\" />\n        <div className=\"modal-footer\">\n          <button type=\"button\" className=\"btn btn-danger mr-auto\" onClick={close}>{i18n['Cancel']}</button>\n          <button type=\"button\" className=\"btn btn-primary\" onClick={save} disabled={inputInvalid}>{i18n['OK']}</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    session: state.session\n  }\n}\n\nexport default connect(mapStateToProps)(Permissions);\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nconst Move = (props) => {\n  const { i18n } = useSelector(state => state.session);\n\n  return (\n    <div className=\"modal-content\">\n      <div className=\"modal-header\">\n        {props.items > 0 ?\n          <h3 className=\"modal-title\">{i18n['Move files']} <span className=\"quot\">({props.items})</span> {i18n['into']}:</h3> :\n          <h3 className=\"modal-title rename\">{i18n['Move']} <span className=\"quot\">&quot;{props.fName}&quot;</span> {i18n['into']}:</h3>}\n      </div>\n      <div className=\"modal-body\">\n        <input type=\"text\" autoFocus defaultValue={props.path} onChange={props.onChange} ref={props.reference}></input>\n      </div>\n      <div className=\"modal-footer\">\n        <button type=\"button\" className=\"btn btn-danger mr-auto\" onClick={props.close}>{i18n['Cancel']}</button>\n        <button type=\"button\" className=\"btn btn-primary\" onClick={props.save}>{i18n['Move']}</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Move;","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nconst Archive = (props) => {\n  const { i18n } = useSelector(state => state.session);\n\n  return (\n    <div className=\"modal-content\">\n      <div className=\"modal-header\">\n        {props.items > 0 ?\n          <h3 className=\"modal-title\">{i18n.Compress} <span className=\"quot\">({props.items})</span>?</h3> :\n          <h3 className=\"modal-title rename\">{i18n.Compress} <span className=\"quot\">&quot;{props.fName}&quot;</span>?</h3>}\n      </div>\n      <div className=\"modal-body\">\n        <input type=\"text\" autoFocus defaultValue={`${props.path}/${props.fName}.tar.gz`} onBlur={props.onChange} ref={props.reference}></input>\n      </div>\n      <div className=\"modal-footer\">\n        <button type=\"button\" className=\"btn btn-danger mr-auto\" onClick={props.close}>{i18n.Cancel}</button>\n        <button type=\"button\" className=\"btn btn-primary\" onClick={props.save}>{i18n.Compress}</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Archive;","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nconst Extract = (props) => {\n  const { i18n } = useSelector(state => state.session);\n\n  return (\n    <div className=\"modal-content\">\n      <div className=\"modal-header\">\n        <h3 className=\"modal-title rename\">{i18n['Extract']} <span className=\"quot\">&quot;{props.fName}&quot;</span>{i18n['into']}</h3>\n      </div>\n      <div className=\"modal-body\">\n        <input type=\"text\" autoFocus defaultValue={props.path} onBlur={props.onChange} ref={props.reference}></input>\n      </div>\n      <div className=\"modal-footer\">\n        <button type=\"button\" className=\"btn btn-danger mr-auto\" onClick={props.close}>{i18n['Cancel']}</button>\n        <button type=\"button\" className=\"btn btn-primary\" onClick={props.save}>{i18n['Extract']}</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Extract;","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nconst Copy = (props) => {\n  const { i18n } = useSelector(state => state.session);\n\n  return (\n    <div className=\"modal-content\">\n      <div className=\"modal-header\">\n        {props.items > 0 ?\n          <h3 className=\"modal-title\">{i18n['Copy files']} <span className=\"quot\">({props.items})</span> {i18n['into']}:</h3> :\n          <h3 className=\"modal-title rename\">{i18n['Copy']} <span className=\"quot\">&quot;{props.fName}&quot;</span> {i18n['into']}:</h3>}\n      </div>\n      <div className=\"modal-body\">\n        <input type=\"text\" autoFocus defaultValue={props.path} onChange={props.onChange} ref={props.reference}></input>\n      </div>\n      <div className=\"modal-footer\">\n        <button type=\"button\" className=\"btn btn-danger mr-auto\" onClick={props.close}>{i18n['Cancel']}</button>\n        <button type=\"button\" className=\"btn btn-primary\" onClick={props.save}>{i18n['Copy']}</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Copy;","import React from 'react';\n\nconst Replace = (props) => {\n  return (\n    <div className=\"modal-content replace\">\n      <div className=\"modal-header\">\n        {props.files.length > 1 ?\n          <div><h3>These files already exist</h3>\n            {props.files.map(item =>\n              <span className=\"quot\">&quot;{item.name}&quot; </span>\n            )}\n          </div> :\n          <div><h3>This file already exists</h3>\n            <span className=\"quot\">&quot;{props.files[0].name}&quot;</span>\n          </div>\n        }\n      </div>\n      <div className=\"modal-footer\">\n        <button type=\"button\" className=\"btn btn-primary mr-auto\" onClick={props.close}>Cancel</button>\n        <button type=\"button\" className=\"btn btn-danger\" onClick={() => props.replace(props.files)}>Overwrite</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Replace;","import React, { useEffect } from 'react';\nimport AddFile from './AddFile';\nimport AddDirectory from './AddDirectory';\nimport Rename from './Rename';\nimport Delete from './Delete';\nimport NothingSelected from './NothingSelected';\nimport Permissions from './Permissions';\nimport Move from './Move';\nimport Archive from './Archive';\nimport Extract from './Extract';\nimport Copy from './Copy';\nimport Replace from './Replace';\nimport './Modal.scss';\n\nconst Modal = (props) => {\n  useEffect(() => {\n    window.addEventListener(\"click\", closeOutside);\n    document.addEventListener(\"keydown\", hotkeys);\n\n    return () => {\n      window.removeEventListener(\"click\", closeOutside);\n      document.removeEventListener(\"keydown\", hotkeys);\n    }\n  }, [])\n\n  const hotkeys = (e) => {\n    if (e.keyCode === 27) {\n      closeModal();\n    } else if (e.keyCode === 13) {\n      saveAndClose();\n    }\n  }\n\n  const saveAndClose = () => {\n    props.onClick();\n    props.onClose();\n  }\n\n  const changePermissions = (permissions) => {\n    props.onChangePermissions(permissions);\n  }\n\n  const replace = (file) => {\n    props.onClick(file);\n    props.onClose();\n  }\n\n  const onChange = (e) => {\n    props.onChangeValue(e.target.value);\n  }\n\n  const closeModal = () => {\n    props.onClose();\n  }\n\n  const closeOutside = (e) => {\n    let modal = document.getElementById(\"modal\");\n    if (e.target === modal) {\n      props.onClose();\n    }\n  }\n\n  const content = () => {\n    const { type, reference, fName, permissions, items, path, files, notAvailable } = props;\n    switch (type) {\n      case 'Copy': return <Copy close={closeModal} save={saveAndClose} reference={reference} onChange={onChange} name={type} fName={fName} items={items} path={path} />;\n      case 'Move': return <Move close={closeModal} save={saveAndClose} reference={reference} onChange={onChange} name={type} fName={fName} items={items} path={path} />;\n      case 'Permissions': return <Permissions close={closeModal} save={saveAndClose} changePermissions={changePermissions} fName={fName} permissions={permissions} />;\n      case 'Extract': return <Extract close={closeModal} save={saveAndClose} reference={reference} onChange={onChange} name={type} fName={fName} path={path} />;\n      case 'Archive': return <Archive close={closeModal} save={saveAndClose} reference={reference} onChange={onChange} items={items} name={type} fName={fName} path={path} />;\n      case 'Rename': return <Rename close={closeModal} save={saveAndClose} reference={reference} onChange={onChange} name={type} fName={fName} />;\n      case 'Add directory': return <AddDirectory close={closeModal} save={saveAndClose} reference={reference} />;\n      case 'Delete': return <Delete close={closeModal} save={saveAndClose} fName={fName} items={items} />;\n      case 'Add file': return <AddFile close={closeModal} save={saveAndClose} reference={reference} />;\n      case 'Replace': return <Replace close={closeModal} replace={(files) => replace(files)} files={files} />\n      case 'Nothing selected': return <NothingSelected close={closeModal} notAvailable={notAvailable} />;\n      default:\n        break;\n    }\n  }\n\n  return (\n    <div>\n      <div className=\"modal\" id=\"modal\">\n        {content()}\n      </div>\n    </div>\n  );\n}\n\nexport default Modal;","import React, { useCallback, useEffect, useRef } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport './Menu.scss'\nimport { useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nconst Menu = (props) => {\n  const { i18n } = useSelector((state) => state.session)\n  const inputFile = useRef()\n\n  const handleUserKeyDown = useCallback((event) => hotKeys(event), [props])\n\n  useEffect(() => {\n    document.addEventListener('keydown', handleUserKeyDown)\n    return () => document.removeEventListener('keydown', handleUserKeyDown)\n  }, [handleUserKeyDown])\n\n  const newFile = () => {\n    props.openModal('Add file')\n  }\n\n  const newDirectory = () => {\n    props.openModal('Add directory')\n  }\n\n  const deleteFile = () => {\n    const { selection, openModal, cursor } = props\n    if (selection.length === 0) {\n      if (cursor === 0) {\n        openModal('Nothing selected')\n      } else {\n        openModal('Delete')\n      }\n    } else {\n      openModal('Delete', selection.length)\n    }\n  }\n\n  const rename = () => {\n    console.log(props)\n    if (props.cursor === 0) {\n      props.openModal('Nothing selected')\n    } else {\n      props.openModal('Rename')\n    }\n  }\n\n  const permissions = () => {\n    if (props.cursor === 0) {\n      props.openModal('Nothing selected')\n    } else {\n      props.openModal('Permissions')\n    }\n  }\n\n  const move = () => {\n    const { selection, openModal, cursor } = props\n    if (selection.length === 0) {\n      if (cursor === 0) {\n        openModal('Nothing selected')\n      } else {\n        openModal('Move')\n      }\n    } else {\n      openModal('Move', selection.length)\n    }\n  }\n\n  const archive = () => {\n    const { selection, openModal, cursor } = props\n\n    if (selection.length === 0) {\n      if (cursor === 0) {\n        openModal('Nothing selected')\n      } else {\n        openModal('Archive')\n      }\n    } else {\n      openModal('Archive', selection.length)\n    }\n  }\n\n  const extract = () => {\n    if (props.cursor === 0) {\n      props.openModal('Nothing selected')\n    } else {\n      props.openModal('Extract')\n    }\n  }\n\n  const copy = () => {\n    const { selection, openModal, cursor } = props\n    if (selection.length === 0) {\n      if (cursor === 0) {\n        openModal('Nothing selected')\n      } else {\n        openModal('Copy')\n      }\n    } else {\n      openModal('Copy', selection.length)\n    }\n  }\n\n  const upload = (e) => {\n    if (e.target.files.length === 0) {\n      return\n    }\n\n    props.upload(e.target.files)\n  }\n\n  const download = () => {\n    if (props.cursor === 0) {\n      props.openModal('Nothing selected')\n    } else if (props.itemType === 'd') {\n      props.openModal('Nothing selected', null, true)\n    } else {\n      props.download()\n    }\n  }\n\n  const hotKeys = (e) => {\n    e.stopPropagation()\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus')\n    if (props.modalVisible || isSearchInputFocused) return\n    if (e.shiftKey && e.keyCode === 118) {\n      e.preventDefault()\n      rename()\n      return\n    }\n\n    switch (e.keyCode) {\n      // u\n      case 85:\n        e.preventDefault();\n        return inputFile.current.click()\n      // n\n      case 78:\n        e.preventDefault()\n        return newFile()\n      // F6\n      case 118:\n        e.preventDefault()\n        return newDirectory()\n      // d\n      case 68:\n        e.preventDefault()\n        return download()\n      // F2\n      case 113:\n        e.preventDefault()\n        return rename()\n      // m\n      case 77:\n        e.preventDefault()\n        return move()\n      // F4\n      case 115:\n        e.preventDefault()\n        return copy()\n      // a\n      case 65:\n        e.preventDefault()\n        return archive()\n      // F8\n      case 119:\n        e.preventDefault()\n        return deleteFile()\n      // Del\n      case 46:\n        e.preventDefault()\n        return deleteFile()\n      // F3\n      case 114:\n        e.preventDefault()\n        return permissions()\n      default:\n        break\n    }\n  }\n\n  let matchArchive = props.name.match(/.zip|.tgz|.tar.gz|.gzip|.tbz|.tar.bz|.gz|.zip|.tar|.rar/g)\n\n  return (\n    <div className=\"menu\">\n      <div className=\"logo\">\n        <Link to=\"/\">\n          <img src=\"../../images/logo.png\" alt=\"Logo\" />\n        </Link>\n      </div>\n      <div className=\"btn-group\" role=\"group\" aria-label=\"First group\">\n        <input type=\"file\" className=\"upload\" multiple onChange={upload} ref={inputFile} />\n        <button type=\"button\" className=\"btn btn-light\" id=\"upload\" onClick={() => inputFile.current.click()}>\n          {i18n.UPLOAD}\n        </button>\n        <button type=\"button\" className=\"btn btn-light big\" onClick={newFile}>\n          {i18n['NEW FILE']}\n        </button>\n        <button type=\"button\" className=\"btn btn-light small\" onClick={newFile} title={i18n['NEW FILE']}>\n          <FontAwesomeIcon icon=\"file\" className=\"icon file\" />\n        </button>\n        <button type=\"button\" className=\"btn btn-light big\" onClick={newDirectory}>\n          {i18n['NEW DIR']}\n        </button>\n        <button type=\"button\" className=\"btn btn-light small\" onClick={newDirectory} title={i18n['NEW DIR']}>\n          <FontAwesomeIcon icon=\"folder\" className=\"icon folder-close\" />\n        </button>\n        <button type=\"button\" className=\"btn btn-light big\" onClick={download}>\n          {i18n.DOWNLOAD}\n        </button>\n        <button type=\"button\" className=\"btn btn-light small\" onClick={download} title={i18n.DOWNLOAD}>\n          <FontAwesomeIcon icon=\"download\" className=\"icon download\" />\n        </button>\n        <button type=\"button\" className=\"btn btn-light big\" onClick={rename}>\n          {i18n.RENAME}\n        </button>\n        <button type=\"button\" className=\"btn btn-light small\" onClick={rename} title={i18n.RENAME}>\n          <FontAwesomeIcon icon=\"italic\" className=\"icon italic\" />\n        </button>\n        <button type=\"button\" className=\"btn btn-light big\" onClick={permissions}>\n          {i18n.RIGHTS}\n        </button>\n        <button type=\"button\" className=\"btn btn-light small\" onClick={permissions} title={i18n.RIGHTS}>\n          <FontAwesomeIcon icon=\"user\" className=\"icon user\" />\n        </button>\n        <button type=\"button\" className=\"btn btn-light big\" onClick={copy}>\n          {i18n.COPY}\n        </button>\n        <button type=\"button\" className=\"btn btn-light small\" onClick={copy} title={i18n.COPY}>\n          <FontAwesomeIcon icon=\"copy\" className=\"icon copy\" />\n        </button>\n        <button type=\"button\" className=\"btn btn-light big\" onClick={move}>\n          {i18n.MOVE}\n        </button>\n        <button type=\"button\" className=\"btn btn-light small\" onClick={move} title={i18n.MOVE}>\n          <FontAwesomeIcon icon=\"paste\" className=\"icon paste\" />\n        </button>\n        {matchArchive ? null : (\n          <button type=\"button\" className=\"btn btn-light big\" onClick={archive}>\n            {i18n.ARCHIVE}\n          </button>\n        )}\n        {matchArchive ? null : (\n          <button type=\"button\" className=\"btn btn-light small\" onClick={archive} title={i18n.ARCHIVE}>\n            <FontAwesomeIcon icon=\"book\" className=\"icon book\" />\n          </button>\n        )}\n        {matchArchive ? (\n          <button type=\"button\" className=\"btn btn-light big\" onClick={extract}>\n            {i18n.EXTRACT}\n          </button>\n        ) : null}\n        {matchArchive ? (\n          <button type=\"button\" className=\"btn btn-light small\" onClick={extract} title={i18n.EXTRACT}>\n            <FontAwesomeIcon icon=\"box-open\" className=\"icon open\" />\n          </button>\n        ) : null}\n        <button type=\"button\" className=\"btn btn-light big delete\" onClick={deleteFile}>\n          {i18n.DELETE}\n        </button>\n        <button type=\"button\" className=\"btn btn-light small\" onClick={deleteFile} title={i18n.DELETE}>\n          <FontAwesomeIcon icon=\"trash\" className=\"icon trash\" />\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default Menu\n","import axios from \"axios\";\nimport QueryString from \"qs\";\nconst server = window.location.origin + \"/file_manager/fm_api.php?\";\n\nexport function validateAction(url) {\n  return axios.get(url);\n}\n\nexport function cacheData(currentUser, history, rootDir) {\n  const parsedQueryString = QueryString.parse(history.location.search, { ignoreQueryPrefix: true });\n\n  if (parsedQueryString.path) {\n    localStorage.setItem(\"activeWindow\", \"left\");\n    localStorage.setItem(\"leftListPath\", parsedQueryString.path);\n    localStorage.setItem(\"rightListPath\", parsedQueryString.path);\n    return;\n  }\n\n  if (localStorage.getItem(\"lastUser\") === null || currentUser !== localStorage.getItem(\"lastUser\")) {\n    localStorage.setItem(\"lastUser\", currentUser);\n    localStorage.setItem(\"activeWindow\", \"left\");\n    localStorage.setItem(\"leftListPath\", rootDir);\n    localStorage.setItem(\"rightListPath\", rootDir);\n    return;\n  }\n\n  if (localStorage.getItem(\"activeWindow\") === null || localStorage.getItem(\"leftListPath\") === null || localStorage.getItem(\"rightListPath\") === null) {\n    let path = history.location.search.substring(6).split('/');\n    localStorage.setItem(\"activeWindow\", \"left\");\n    localStorage.setItem(\"leftListPath\", path);\n    localStorage.setItem(\"rightListPath\", rootDir);\n    return;\n  }\n}\n\nexport function changeDirectoryOnLoading(server, list) {\n  return axios.get(`${server}dir=${encodePath(localStorage.getItem(list))}&action=cd`);\n}\n\nexport function changeDirectory(server, path) {\n  return axios.get(`${server}dir=${encodePath(path)}&action=cd`);\n}\n\nexport function getData(path) {\n  return axios.get(`${server}dir=%2F${path}&action=cd`);\n}\n\nexport function checkExistingFileName(selectedFiles, activeWindow, leftListData, rightListData) {\n  let selectedFileNames = [];\n  let existingFileNames = [];\n  let newFiles = [];\n\n  for (let i = 0; i < selectedFiles.length; i++) {\n    selectedFileNames.push(selectedFiles[i]);\n  }\n\n  if (activeWindow === \"left\") {\n    for (let i = 0; i < selectedFileNames.length; i++) {\n      if (leftListData.map((item) => { return item.name }).includes(selectedFileNames[i].name)) {\n        existingFileNames.push(selectedFileNames[i]);\n      } else {\n        newFiles.push(selectedFileNames[i]);\n      }\n    }\n  } else {\n    for (let i = 0; i < selectedFileNames.length; i++) {\n      if (rightListData.map((item) => { return item.name }).includes(selectedFileNames[i].name)) {\n        existingFileNames.push(selectedFileNames[i]);\n      } else {\n        newFiles.push(selectedFileNames[i]);\n      }\n    }\n  }\n\n  return { existingFileNames, newFiles };\n}\n\nexport function encodePath(path) {\n  let splitPath = path.split('/');\n  let encodedPath = splitPath.join('%2F');\n  return encodedPath;\n}\n\nexport function activeWindowPath() {\n  if (localStorage.getItem(\"activeWindow\") === \"left\") {\n    let currentPath = localStorage.getItem(\"leftListPath\");\n    return currentPath;\n  } else if (localStorage.getItem(\"activeWindow\") === \"right\") {\n    let currentPath = localStorage.getItem(\"rightListPath\");\n    return currentPath;\n  }\n}\n\nexport function deleteItems(url, path, selection) {\n  if (!selection.length) {\n    return false;\n  }\n\n  const promisesArray = selection.map(item =>\n    validateAction(`${url}item=${path}%2F${item}&dir=${path}&action=delete_files`)\n      .then(() => { })\n  );\n\n  return Promise.all(promisesArray);\n}\n\nexport function moveItems(url, path, targetPath, selection) {\n  if (!selection.length) {\n    return false;\n  }\n\n  const promisesArray = selection.map(item =>\n    validateAction(`${url}item=${path}%2F${item}&target_name=${targetPath}&action=move_file`)\n      .then(() => { })\n  );\n\n  return Promise.all(promisesArray);\n}\n\nexport function copyItems(url, path, targetPath, selection) {\n  if (!selection.length) {\n    return false;\n  }\n\n  const promisesArray = selection.map(item =>\n    validateAction(`${url}item=${path}%2F${item}&filename=${item}&dir=${path}&dir_target=${targetPath}&action=copy_file`)\n      .then(() => { })\n  );\n\n  return Promise.all(promisesArray);\n}","import React, { Component } from 'react';\nimport DirectoryList from '../../components/Lists/DirectoryList/DirectoryList';\nimport ProgressBar from '../../components/ProgressBar/ProgressBar';\nimport { toast, ToastContainer } from 'react-toastify';\nimport Hotkeys from '../../components/Hotkeys/Hotkeys';\nimport Modal from '../../components/Modal/Modal';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { withRouter } from 'react-router-dom';\nimport Menu from '../../components/Menu/Menu';\nimport * as FM from '../../FileManagerHelper';\nimport axios from 'axios';\nimport { Helmet } from 'react-helmet';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport 'src/containers/App/App.scss';\nimport { connect } from 'react-redux';\n\nconst server = window.location.origin + \"/file_manager/fm_api.php?\";\nclass FileManager extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      leftList: {\n        path: '',\n        files: { listing: [] },\n      },\n      rightList: {\n        path: '',\n        files: { listing: [] },\n      },\n      currentPath: '',\n      currentUser: '',\n      activeWindow: \"left\",\n      modalWindow: null,\n      modalVisible: false,\n      cursor: 0,\n      itemName: \"\",\n      itemPermissions: \"\",\n      itemType: \"\",\n      itemsSelected: [],\n      modalInputValue: \"\",\n      uploadPercent: \"0\",\n      loading: false\n    }\n  }\n\n  UNSAFE_componentWillMount = () => {\n    if (!this.props.session.userName) return this.props.history.push('/login');\n\n    FM.cacheData(this.state.currentUser, this.props.history, this.props.menuCounters.user.HOME);\n    let currentPath = FM.activeWindowPath();\n    this.setState({\n      currentPath,\n      currentUser: this.props.menuCounters.user.HOME,\n      leftList: { ...this.state.leftList, path: this.props.menuCounters.user.HOME },\n      rightList: { ...this.state.rightList, path: this.props.menuCounters.user.HOME }\n    });\n    this.changeDirectoryOnLoading();\n  }\n\n  componentDidMount = () => {\n    window.addEventListener(\"keydown\", this.switchActiveList);\n    window.addEventListener(\"keydown\", this.toggleActiveListOnTab);\n    document.addEventListener(\"keydown\", this.hotkeysListener);\n\n    if (localStorage.getItem('activeWindow')) {\n      this.setState({ activeWindow: localStorage.getItem('activeWindow') });\n    }\n  }\n\n  componentWillUnmount = () => {\n    window.removeEventListener(\"keydown\", this.switchActiveList);\n    window.removeEventListener(\"keydown\", this.toggleActiveListOnTab);\n    document.removeEventListener(\"keydown\", this.hotkeysListener);\n  }\n\n  cachePaths = () => {\n    localStorage.setItem('activeWindow', this.state.activeWindow);\n    localStorage.setItem('leftListPath', this.state.leftList.path);\n    localStorage.setItem('rightListPath', this.state.rightList.path);\n  }\n\n  setStateAsync = updater => new Promise(resolve => this.setState(updater, resolve));\n\n  changeDirectoryOnLoading = async () => {\n    ['leftList', 'rightList'].map(async (side) => {\n      const result = await FM.changeDirectoryOnLoading(server, `${side}Path`);\n      let path = localStorage.getItem(`${side}Path`);\n      let listing = result.data.listing;\n      await this.setStateAsync({ [side]: { files: { listing }, path } });\n    });\n\n    await this.setStateAsync({ loading: false });\n  }\n\n  changeDirectory = () => {\n    const { leftList, rightList } = this.state;\n    Promise.all([FM.changeDirectory(server, leftList.path), FM.changeDirectory(server, rightList.path)])\n      .then(result => {\n        const [leftListResponse, rightListResponse] = result;\n        let leftListing = leftListResponse.data.listing;\n        let rightListing = rightListResponse.data.listing;\n\n        this.setState({ leftList: { ...leftList, files: { listing: leftListing } }, rightList: { ...rightList, files: { listing: rightListing } }, loading: false });\n\n        this.leftList.resetData();\n        this.rightList.resetData();\n      });\n  }\n\n  toggleActiveListOnTab = (e) => {\n    const { activeWindow, rightList, leftList, currentPath } = this.state;\n\n    if (this.state.modalVisible) {\n      return;\n    }\n\n    if (e.keyCode === 9) {\n      e.preventDefault();\n      if (activeWindow === \"left\") {\n        this.setState({ activeWindow: \"right\", currentPath: rightList.path });\n        this.rightList.passData();\n      } else {\n        this.setState({ activeWindow: \"left\", currentPath: leftList.path });\n        this.leftList.passData();\n      }\n      this.changeQuery(currentPath);\n      this.cachePaths();\n    }\n  }\n\n  passSelection = (itemsSelected) => {\n    this.setState({ itemsSelected });\n  }\n\n  toggleActiveList = (list) => {\n    this.setState({ activeWindow: list });\n  }\n\n  switchActiveList = (e) => {\n    if (this.state.modalVisible) {\n      return;\n    }\n\n    if (e.keyCode === 39) {\n      this.setState({ activeWindow: \"right\", currentPath: this.state.rightList.path });\n      this.changeQuery(this.state.currentPath);\n      this.rightList.passData();\n      this.cachePaths();\n    } else if (e.keyCode === 37) {\n      this.setState({ activeWindow: \"left\", currentPath: this.state.leftList.path });\n      this.changeQuery(this.state.currentPath);\n      this.leftList.passData();\n      this.cachePaths();\n    }\n  }\n\n  validateAction = async (url) => {\n    await this.setStateAsync({ loading: true });\n    let response = await FM.validateAction(url);\n    if (response.data.result) {\n      this.changeDirectory();\n    } else {\n      this.showError(response.data.message);\n    }\n  }\n\n  showError = (error) => {\n    toast.error(error, {\n      position: \"top-center\",\n      autoClose: 3000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true\n    });\n    this.setState({ loading: false });\n  }\n\n  download = () => {\n    const { cursor, currentPath, itemName } = this.state;\n\n    if (cursor !== 0) {\n      window.open('/api/v1/download/file/?path=' + currentPath + '/' + itemName);\n    }\n  }\n\n  checkExistingFileName = (selectedFiles) => {\n    const { activeWindow, leftList, rightList } = this.state;\n    const { existingFileNames, newFiles } = FM.checkExistingFileName(selectedFiles, activeWindow, leftList.files.listing, rightList.files.listing);\n\n    if (existingFileNames.length !== 0) {\n      this.modal(\"Replace\", existingFileNames);\n      this.upload(newFiles);\n    } else {\n      this.upload(selectedFiles);\n    }\n  }\n\n  replaceFiles = (selectedFiles) => {\n    for (let i = 0; i < selectedFiles.length; i++) {\n      this.validateAction(`${server}item=${FM.encodePath(this.state.currentPath)}%2F${selectedFiles[i].name}&dir=${FM.encodePath(this.state.currentPath)}&action=delete_files`);\n    }\n\n    this.upload(selectedFiles);\n  }\n\n  upload = (selectedFiles) => {\n    const formData = new FormData();\n\n    if (selectedFiles.length === 0) {\n      return;\n    }\n\n    for (let i = 0; i < selectedFiles.length; i++) {\n      formData.append('files[]', selectedFiles[i], selectedFiles[i].name);\n    }\n\n    this.setState({ loading: true }, () => {\n      axios.post(`${window.location.origin}/api/v1/upload/?dir=${this.state.currentPath}`, formData, {\n        onUploadProgress: progressEvent => {\n          let uploadPercent = Math.round(progressEvent.loaded / progressEvent.total * 100);\n          this.setState({ uploadPercent });\n        }\n      }).then(() => {\n        this.setState({ uploadPercent: \"0\" });\n        this.changeDirectory();\n      })\n    });\n  }\n\n  onDelete = async () => {\n    const { itemsSelected, itemName, currentPath } = this.state;\n    if (itemsSelected.length > 0) {\n      await this.setStateAsync({ loading: true });\n      await FM.deleteItems(server, FM.encodePath(currentPath), itemsSelected);\n      await this.setStateAsync({ itemsSelected: [] });\n      this.changeDirectory();\n    } else {\n      this.validateAction(`${server}item=${FM.encodePath(currentPath)}%2F${itemName}&dir=${FM.encodePath(currentPath)}&action=delete_files`);\n    }\n  }\n\n  newFile = () => {\n    let name = this.inputElement.value;\n    this.validateAction(`${server}filename=${name}&dir=${FM.encodePath(this.state.currentPath)}&action=create_file`);\n  }\n\n  newDir = () => {\n    let name = this.inputElement.value;\n    this.validateAction(`${server}dirname=${name}&dir=${FM.encodePath(this.state.currentPath)}&action=create_dir`);\n  }\n\n  onRename = () => {\n    const { modalInputValue, itemType, itemName, currentPath } = this.state;\n    let name = modalInputValue;\n    if (itemType === \"f\") {\n      this.validateAction(`${server}item=${itemName}&target_name=${name}&dir=${FM.encodePath(currentPath)}&action=rename_file`);\n    } else if (itemType === \"d\") {\n      this.validateAction(`${server}item=${itemName}&target_name=${name}&dir=${FM.encodePath(currentPath)}%2F&action=rename_directory`);\n    }\n  }\n\n  onChangePermissions = () => {\n    let permissions = this.state.modalInputValue;\n    this.validateAction(`${server}dir=${FM.encodePath(this.state.currentPath)}%2F&item=${this.state.itemName}&permissions=${permissions}&action=chmod_item`);\n    this.setState({ itemPermissions: permissions });\n  }\n\n  archiveItem = () => {\n    let name = this.inputElement.value;\n\n    if (this.state.itemsSelected.length > 0) {\n      this.setState({ loading: true }, () => {\n        let items = [];\n        for (let i = 0; i < this.state.itemsSelected.length; i++) {\n          let path = `${this.state.currentPath}/`;\n          items.push(path += this.state.itemsSelected[i]);\n        }\n        this.validateAction(`${server}items=${items}&dst_item=${FM.encodePath(name)}&action=pack_item`);\n        this.setState({ itemsSelected: [] });\n      })\n    } else {\n      this.validateAction(`${server}items=${FM.encodePath(this.state.currentPath)}%2F${this.state.itemName}&dst_item=${FM.encodePath(name)}&action=pack_item`);\n    }\n  }\n\n  extractItem = () => {\n    let name = this.inputElement.value;\n    this.validateAction(`${server}item=${FM.encodePath(this.state.currentPath)}%2F${this.state.itemName}&filename=${this.state.itemName}&dir=${FM.encodePath(this.state.currentPath)}&dir_target=${name}&action=unpack_item`);\n  }\n\n  moveItem = async () => {\n    const { currentPath, itemsSelected, itemName } = this.state;\n    let targetDir = this.inputElement.value;\n\n    if (itemsSelected.length > 0) {\n      await this.setStateAsync({ loading: true });\n      await FM.moveItems(server, FM.encodePath(currentPath), targetDir, itemsSelected);\n      await this.setStateAsync({ itemsSelected: [] });\n      this.changeDirectory();\n    } else {\n      this.validateAction(`${server}item=${currentPath}%2F${itemName}&target_name=${targetDir}&action=move_file`);\n    }\n  }\n\n  copyItem = async () => {\n    const { currentPath, itemsSelected, itemName } = this.state;\n    let targetDir = this.inputElement.value;\n\n    if (itemsSelected.length > 0) {\n      await this.setStateAsync({ loading: true });\n      await FM.copyItems(server, FM.encodePath(currentPath), targetDir, itemsSelected);\n      await this.setStateAsync({ itemsSelected: [] });\n      this.changeDirectory();\n    } else {\n      this.validateAction(`${server}item=${currentPath}%2F${itemName}&filename=${itemName}&dir=${currentPath}&dir_target=${targetDir}&action=copy_file`);\n    }\n  }\n\n  changeQuery = (path) => {\n    this.props.history.push({\n      pathname: '/list/directory/',\n      search: `?path=${path}`\n    });\n  }\n\n  openDirectory = () => {\n    this.setState({ loading: true }, () => {\n      this.changeDirectory();\n      this.cachePaths();\n    });\n  }\n\n  openCertainDirectory = () => {\n    this.setState({ loading: true }, () => {\n      this.changeDirectory();\n      this.cachePaths();\n    });\n  }\n\n  moveBack = () => {\n    const { activeWindow } = this.state;\n\n    let list = { ...this.state[`${activeWindow}List`] };\n    list.path = list.path.substring(0, list.path.lastIndexOf('/'));\n    this.setState({ [`${activeWindow}List`]: list, currentPath: list.path });\n    this.props.history.push({ search: `?path=${list.path}` })\n    this.openDirectory();\n  }\n\n  addToPath = (name) => {\n    const { activeWindow } = this.state;\n\n    let activeList = { ...this.state[`${activeWindow}List`] };\n    let oldPath = activeList.path;\n    activeList.path = `${oldPath}/${name}`;\n    this.setState({ [`${activeWindow}List`]: activeList, currentPath: activeList.path });\n  }\n\n  changeInputValue = (modalInputValue) => {\n    this.setState({ modalInputValue });\n  }\n\n  changePathAfterToggle = (currentPath) => {\n    this.setState({ currentPath });\n  }\n\n  changePath = (currentPath) => {\n    if (this.state.activeWindow === \"left\") {\n      this.setState({ leftList: { files: { ...this.state.leftList.files }, path: currentPath }, currentPath });\n    } else {\n      this.setState({ rightList: { files: { ...this.state.rightList.files }, path: currentPath }, currentPath });\n    }\n  }\n\n  passData = (cursor, itemName, itemPermissions, itemType) => {\n    this.setState({ cursor, itemName, itemPermissions, itemType });\n  }\n\n  closeModal = () => {\n    this.setState({ modalVisible: false });\n  }\n\n  hotkeysListener = (e) => {\n    if (this.state.modalVisible) {\n      return;\n    }\n\n    if (e.keyCode === 72) {\n      this.hotkeys();\n    }\n  }\n\n  hotkeys = () => {\n    if (this.state.hotkeysPanel === \"inactive\") {\n      this.setState({ hotkeysPanel: \"active\" });\n    } else {\n      this.setState({ hotkeysPanel: \"inactive\" });\n    }\n  }\n\n  modal = (type, items, available) => {\n    const { modalVisible, itemName, itemPermissions, currentPath } = this.state;\n    switch (type) {\n      case 'Copy': return this.setState({ modalWindow: <Modal modalVisible={modalVisible} type={type} fName={itemName} path={currentPath} onClick={this.copyItem} items={items} onClose={this.closeModal} onChangeValue={this.changeInputValue} reference={(inp) => this.inputElement = inp} />, modalVisible: true });\n      case 'Move': return this.setState({ modalWindow: <Modal modalVisible={modalVisible} type={type} fName={itemName} path={currentPath} onClick={this.moveItem} items={items} onClose={this.closeModal} onChangeValue={this.changeInputValue} reference={(inp) => this.inputElement = inp} />, modalVisible: true });\n      case 'Extract': return this.setState({ modalWindow: <Modal modalVisible={modalVisible} type={type} fName={itemName} onClick={this.extractItem} onClose={this.closeModal} onChangeValue={this.changeInputValue} path={currentPath} reference={(inp) => this.inputElement = inp} />, modalVisible: true });\n      case 'Archive': return this.setState({ modalWindow: <Modal modalVisible={modalVisible} type={type} fName={itemName} onClick={this.archiveItem} items={items} onClose={this.closeModal} onChangeValue={this.changeInputValue} path={currentPath} reference={(inp) => this.inputElement = inp} />, modalVisible: true });\n      case 'Permissions': return this.setState({ modalWindow: <Modal modalVisible={modalVisible} type={type} fName={itemName} onClick={this.onChangePermissions} onClose={this.closeModal} onChangePermissions={this.changeInputValue} permissions={itemPermissions} />, modalVisible: true });\n      case 'Rename': return this.setState({ modalWindow: <Modal modalVisible={modalVisible} type={type} fName={itemName} onChangeValue={this.changeInputValue} onClick={this.onRename} onClose={this.closeModal} reference={(inp) => this.inputElement = inp} />, modalVisible: true });\n      case 'Add directory': return this.setState({ modalWindow: <Modal modalVisible={modalVisible} type={type} onClick={this.newDir} onClose={this.closeModal} reference={(inp) => this.inputElement = inp} />, modalVisible: true });\n      case 'Add file': return this.setState({ modalWindow: <Modal modalVisible={modalVisible} type={type} onClick={this.newFile} onClose={this.closeModal} reference={(inp) => this.inputElement = inp} />, modalVisible: true });\n      case 'Delete': return this.setState({ modalWindow: <Modal modalVisible={modalVisible} type={type} fName={itemName} onClick={this.onDelete} onClose={this.closeModal} items={items} />, modalVisible: true });\n      case 'Nothing selected': return this.setState({ modalWindow: <Modal modalVisible={modalVisible} notAvailable={available} type={type} onClose={this.closeModal} onClick={this.closeModal} />, modalVisible: true });\n      case \"Replace\": return this.setState({ modalWindow: <Modal modalVisible={modalVisible} type={type} files={items} onClick={(files) => this.replaceFiles(files)} onClose={this.closeModal} />, modalVisible: true });\n      default:\n        break;\n    }\n  }\n\n  render() {\n    const { activeWindow, modalWindow, modalVisible, itemsSelected, itemName, loading, uploadPercent, itemType } = this.state;\n    return (\n      <div className=\"window\">\n        <Helmet>\n          <title>{this.props.session.i18n['File Manager']}</title>\n        </Helmet>\n        {uploadPercent !== \"0\" && <ProgressBar progress={uploadPercent} />}\n        <ToastContainer />\n        <Menu\n          onDelete={this.onDeleteFileHandler}\n          modalVisible={modalVisible}\n          download={this.download}\n          openModal={this.modal}\n          selection={itemsSelected}\n          itemType={itemType}\n          upload={this.checkExistingFileName}\n          cursor={this.state.cursor}\n          name={itemName} />\n        <div className=\"lists-container\">\n          {this.props.session.userName && ['left', 'right'].map((side) =>\n            <DirectoryList\n              changePathAfterToggle={this.changePathAfterToggle}\n              openCertainDirectory={this.openCertainDirectory}\n              isActive={activeWindow === side}\n              openDirectory={this.openDirectory}\n              passSelection={this.passSelection}\n              data={this.state[`${side}List`].files}\n              onClick={this.toggleActiveList}\n              changePath={this.changePath}\n              modalVisible={modalVisible}\n              addToPath={this.addToPath}\n              cursor={this.state.cursor}\n              passData={this.passData}\n              rootDir={this.props.menuCounters.user.HOME}\n              ref={el => this[`${side}List`] = el}\n              download={this.download}\n              moveBack={this.moveBack}\n              path={this.state[`${side}List`].path}\n              history={this.props.history}\n              loading={loading}\n              list={side} />\n          )}\n          <div className=\"fixed-buttons fm\">\n            <div className=\"hotkey-button\">\n              <button onClick={() => this.hotkeysList.classList.toggle('hide')}>\n                <FontAwesomeIcon icon=\"ellipsis-h\" />\n              </button>\n            </div>\n          </div>\n          <Hotkeys reference={(inp) => this.hotkeysList = inp} toggleHotkeys={() => this.hotkeysList.classList.toggle('hide')} />\n        </div>\n        {modalVisible && modalWindow}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    session: state.session,\n    menuCounters: state.menuCounters\n  }\n}\n\nexport default connect(mapStateToProps)(withRouter(FileManager));\n","import React, { useEffect, useState } from 'react';\nimport CodeMirror from 'react-codemirror';\nimport './Editor.scss';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/mode/javascript/javascript';\nimport 'codemirror/mode/markdown/markdown';\nimport 'codemirror/mode/php/php';\nimport 'codemirror/mode/css/css';\nimport 'codemirror/mode/htmlmixed/htmlmixed';\nimport axios from 'axios';\nimport Spinner from '../../Spinner/Spinner';\nimport { useHistory } from 'react-router-dom';\nimport { toast, ToastContainer } from 'react-toastify';\nimport { useSelector } from 'react-redux';\n\nconst Editor = ({ close, name }) => {\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const [state, setState] = useState({\n    code: '',\n    loading: false\n  });\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", hotKey);\n\n    let path = `${history.location.search.substring(6, history.location.search.lastIndexOf('/'))}/${name}`;\n    setState({ ...state, loading: true });\n\n    checkFileType(path)\n      .then(res => {\n        if (res.data.result) {\n          axios.get(`${window.location.origin}/api/v1/edit/file/?path=${encodePath(path)}`)\n            .then(result => {\n              if (result.data.error) {\n                return showToast(res.data.error);\n              }\n\n              setState({ ...state, code: result.data.content, loading: false });\n            })\n            .catch(err => console.error(err));\n        } else {\n          console.error('Something went wrong with file type!');\n        }\n      })\n      .catch(err => console.error(err));\n\n    return () => {\n      document.removeEventListener(\"keydown\", hotKey);\n    }\n  }, []);\n\n  const checkFileType = path => {\n    return axios.get(`${window.location.origin}/file_manager/fm_api.php?dir=${path}&action=check_file_type`);\n  }\n\n  const encodePath = path => {\n    return path.split('/').join('%2F');\n  }\n\n  const hotKey = e => {\n    if (e.keyCode === 113) {\n      save();\n    }\n  }\n\n  const save = () => {\n    let formData = new FormData();\n    let path = history.location.search.substring(6, history.location.search.lastIndexOf('/'));\n\n    formData.append('save', 'Save');\n    formData.append('contents', state.code);\n\n    setState({ ...state, loading: true });\n    axios.post(`${window.location.origin}/api/v1/edit/file/?path=${path}%2F${name}`, formData)\n      .then(res => {\n        if (res.data.error) {\n          showToast(res.data.error);\n        } else {\n          showToast('Saved successfully!');\n        }\n        setState({ ...state, loading: false });\n      })\n      .catch(err => console.error(err));\n  }\n\n  const showToast = text => {\n    toast.success(text, {\n      position: \"top-center\",\n      autoClose: 3000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true\n    });\n  }\n\n  const updateCode = newCode => {\n    setState({ ...state, code: newCode });\n  }\n\n  const getModeFromFileName = () => {\n    const fileExtension = name.split('.').pop();\n\n    switch (fileExtension) {\n      case 'js': return 'javascript';\n      case 'jsx': return 'javascript';\n      case 'php': return 'php';\n      case 'css': return 'css';\n      case 'scss': return 'css';\n      case 'html': return 'htmlmixed';\n      default: return 'markdown';\n    }\n  }\n\n  let options = {\n    mode: getModeFromFileName(),\n    lineNumbers: true\n  };\n\n  return (\n    <div className=\"editor\">\n      <ToastContainer />\n      <div className=\"panel-editor\">\n        <button type=\"button\" className=\"btn btn-primary\" onClick={save}>{i18n.Save}</button>\n        <button type=\"button\" className=\"btn btn-danger\" onClick={close}>{i18n.Close}</button>\n      </div>\n      {state.loading ? <Spinner /> : <CodeMirror value={state.code} onChange={updateCode} options={options} autoFocus />}\n    </div>\n  );\n}\n\nexport default Editor;\n","import React, { Component } from 'react';\nimport classNames from 'classname';\nimport * as FM from '../../../FileManagerHelper';\nimport './Photo.scss';\nimport Spinner from '../../Spinner/Spinner';\n\nclass Photo extends Component {\n  state = {\n    activeSlide: 0,\n    photoGallery: [],\n    loading: false\n  }\n\n  imgClass = (item) => {\n    if (item.match(/.gif/i)) {\n      return \"gif\";\n    } else {\n      return \"img\";\n    }\n  }\n\n  encodePath = (path) => {\n    let splitPath = path.split('/');\n    splitPath.splice(splitPath.length - 1, 1);\n    splitPath.splice(0, 1);\n    return splitPath.join('%2F');\n  }\n\n  formatPath = (path) => {\n    let splitPath = path.split('/');\n    splitPath.splice(splitPath.length - 1, 1);\n    return splitPath.join('/');\n  }\n\n  carouselIndicators = () => {\n    const gallery = this.state.photoGallery;\n    return gallery.map((item, i) => {\n      const imageClasses = classNames({ 'control-photo': true, 'active': i === this.state.activeSlide });\n      const result = (<div data-target=\"#photoGallery\" data-slide-to={i} key={i} className=\"indicator\">\n        <img src={`${window.location.origin}/api/v1/view/file/${this.formatPath(this.props.path)}/${item}&raw=true`} alt={i} className={imageClasses} />\n      </div>);\n      return result;\n    });\n  }\n\n  carouselPhotos = () => {\n    const gallery = this.state.photoGallery || [];\n    return gallery.map((item, i) => (\n      <div className={i === this.state.activeSlide ? 'carousel-item active' : 'carousel-item'} key={i}>\n        <div className=\"d-flex align-items-center justify-content-center min-vh-100\">\n          <img className={this.imgClass(item)} src={`${window.location.origin}/api/v1/view/file/${this.formatPath(this.props.path)}/${item}&raw=true`} alt={i} />\n        </div>\n      </div>\n    ));\n  }\n\n  setStateAsync = updater => new Promise(resolve => this.setState(updater, resolve));\n\n  setPhotoGallery = async () => {\n    await this.setStateAsync({ loading: true });\n    const result = await FM.getData(this.encodePath(this.props.path));\n    let photoGallery = [...this.state.photoGallery];\n    result.data.listing.filter(item => item.name.match(/.png|.jpg|.jpeg|.gif/g) && !item.name.match(/.zip|.tgz|.tar.gz|.gzip|.tbz|.tar.bz|.gz|.zip|.tar|.rar/g) ? photoGallery.push(item.name) : null)\n    await this.setStateAsync({ photoGallery, loading: false })\n    this.setActiveImage();\n  }\n\n  setActiveImage = () => {\n    let activeImage = this.props.activeImage;\n    let activeImageIndex = this.state.photoGallery.indexOf(activeImage);\n    this.setState({ activeSlide: activeImageIndex });\n  }\n\n  componentDidMount() {\n    this.setPhotoGallery();\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.loading ? <Spinner /> :\n          <div id=\"photoGallery\" className=\"carousel slide\" data-ride=\"carousel\">\n            <span className=\"close\" onClick={this.props.close}>&times;</span>\n            <div className=\"carousel-inner\">\n              {this.carouselPhotos()}\n            </div>\n            <div className=\"carousel-indicators\">\n              {this.carouselIndicators()}\n            </div>\n            <a className=\"carousel-control-prev\" href=\"#photoGallery\" role=\"button\" data-slide=\"prev\">\n              <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n              <span className=\"sr-only\">Previous</span>\n            </a>\n            <a className=\"carousel-control-next\" href=\"#photoGallery\" role=\"button\" data-slide=\"next\">\n              <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n              <span className=\"sr-only\">Next</span>\n            </a>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nexport default Photo;","import React from 'react';\n// import video from '../../../2.mp4';\nimport './Video.scss';\n\nconst Video = (props) => {\n  return (\n    <div className=\"video-preview\">\n      <span className=\"close\" onClick={props.closeModal}>&times;</span>\n      <video className=\"video\" autoPlay loop controls>\n        <source src=\"\" type=\"video/mp4\" />\n      </video>\n    </div>\n  );\n}\n\nexport default Video;","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport Editor from './Editor/Editor';\nimport Photo from './Photo/Photo';\nimport Video from './Video/Video';\n\nconst Preview = (props) => {\n  const {userName} = useSelector(state => state.session);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (!userName) history.push('/login');\n\n    document.addEventListener(\"keydown\", hotkeys);\n\n    return () => {\n      document.removeEventListener(\"keydown\", hotkeys);\n    }\n  }, []);\n\n  const hotkeys = e => {\n    if (e.keyCode === 121) {\n      onClose();\n    }\n  }\n\n  const onClose = () => {\n    let lastOpenedDirectory = history.location.search.substring(6, history.location.search.lastIndexOf('/'));\n    history.push({\n      pathname: '/list/directory',\n      search: `?path=${lastOpenedDirectory}`\n    })\n  }\n\n  const content = () => {\n    let split = history.location.search.split('/');\n    let name = split[split.length - 1];\n\n    if (history.location.pathname !== '/list/directory/preview/') {\n      return;\n    }\n\n    if (name.match('.mp4')) {\n      return <Video closeModal={onClose} />;\n    } else if (name.match(/png|jpg|jpeg|gif/g)) {\n      return <Photo closeModal={onClose} close={onClose} path={history.location.search} activeImage={name} />;\n    } else {\n      return <Editor close={onClose} name={name} />;\n    }\n  }\n\n  return (\n    <div>\n      {content()}\n    </div>\n  );\n}\n\nexport default Preview;","import { ADD_FOCUSED_ELEMENT, ADD_ACTIVE_ELEMENT, REMOVE_FOCUSED_ELEMENT, REMOVE_ACTIVE_ELEMENT } from './mainNavigationTypes';\n\nexport const addFocusedElement = value => {\n  return {\n    type: ADD_FOCUSED_ELEMENT,\n    value\n  };\n};\n\nexport const removeFocusedElement = () => {\n  return {\n    type: REMOVE_FOCUSED_ELEMENT,\n    value: ''\n  };\n};\n\nexport const addActiveElement = value => {\n  return {\n    type: ADD_ACTIVE_ELEMENT,\n    value\n  };\n};\n\nexport const removeActiveElement = () => {\n  return {\n    type: REMOVE_ACTIVE_ELEMENT,\n    value: ''\n  };\n};","const itemName = 'token';\n\nexport const setAuthToken = token => localStorage.setItem(itemName, token);\nexport const getAuthToken = () => localStorage.getItem(itemName);\nexport const resetAuthToken = () => localStorage.removeItem(itemName);\n","import axios from \"axios\";\nimport { getAuthToken } from \"src/utils/token\";\n\nconst BASE_URL = window.location.origin;\nconst webApiUri = '/api/v1/list/ip/index.php';\nconst addIpApiUri = '/api/v1/add/ip/index.php';\nconst additionalInfoUri = '/api/v1/add/ip/index.php';\nconst ipInfoUri = '/api/v1/edit/ip/index.php';\nconst updateIpUri = '/api/v1/edit/ip/index.php';\n\nexport const getIpList = () => {\n  return axios.get(BASE_URL + webApiUri);\n}\n\nexport const bulkAction = (action, internetProtocols) => {\n  const formData = new FormData();\n  formData.append(\"action\", action);\n  formData.append(\"token\", getAuthToken());\n\n  internetProtocols.forEach(internetProtocol => {\n    formData.append(\"ip[]\", internetProtocol);\n  });\n\n  return axios.post(BASE_URL + '/api/v1/bulk/ip/', formData);\n};\n\nexport const handleAction = uri => {\n  return axios.get(BASE_URL + uri, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const getAdditionalInfo = () => {\n  return axios.get(BASE_URL + additionalInfoUri);\n}\n\nexport const addInternetProtocol = data => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(BASE_URL + addIpApiUri, formDataObject);\n}\n\nexport const getInternetProtocolInfo = ip => {\n  return axios.get(BASE_URL + ipInfoUri, {\n    params: {\n      ip,\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const updateInternetProtocol = (data, ip) => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(BASE_URL + updateIpUri, formDataObject, {\n    params: {\n      ip,\n      token: getAuthToken()\n    }\n  });\n}","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nconst SelectInput = ({ options = [], id, name, title, optionalTitle = '', selected = '', onChange = () => { }, disabled = false }) => {\n  const { i18n } = useSelector(state => state.session);\n\n  const renderOptions = () => {\n    return options.map((option, index) =>\n      <option key={index} selected={selected === option} value={option === i18n['Disable and Cancel Licence'] ? 'cancel' : option}>\n        {option}\n      </option>\n    );\n  }\n\n  return (\n    <>\n      {\n        options\n          ? (\n            <div className=\"form-group select-group\">\n              <label className=\"label-wrapper\" htmlFor={id}>\n                {title}\n                <span>{optionalTitle}</span>\n              </label>\n              <select className=\"form-control\" id={id} name={name} disabled={disabled} onChange={event => onChange(event.target.value)}>\n                {disabled && <input type=\"hidden\" name={name} value={selected || options[0]} />}\n                {renderOptions()}\n              </select>\n            </div>\n          )\n          : null\n      }\n    </>\n  );\n}\n\nexport default SelectInput;\n","import React, { useEffect, useState } from 'react';\n\nconst TextInput = ({ id, name, title, optionalTitle = '', type = 'text', onChange = () => { }, value = '', disabled = false }) => {\n  const [inputValue, setInputValue] = useState('');\n\n  useEffect(() => {\n    if (value) {\n      setInputValue(value);\n    }\n  }, [value]);\n\n  const changeInputHandler = event => {\n    setInputValue(event.target.value);\n    onChange(event);\n  }\n\n  return (\n    <div className=\"form-group\">\n      <label className=\"label-wrapper\" htmlFor={id}>\n        {title}\n        <span>{optionalTitle}</span>\n      </label>\n      <input\n        type={type}\n        name={name}\n        id={id}\n        onChange={changeInputHandler}\n        readOnly={disabled}\n        value={inputValue}\n        className=\"form-control\" />\n    </div>\n  );\n}\n\nexport default TextInput;\n","import React, { useEffect, useState } from 'react';\n\nconst Checkbox = ({ name, id, title, defaultChecked = false, onChange = () => { }, checked }) => {\n  const [checkedState, setCheckedState] = useState(defaultChecked);\n\n  useEffect(() => {\n    setCheckedState(checked);\n  }, [checked]);\n\n  const changeCheckbox = event => {\n    setCheckedState(event.target.checked);\n    onChange(event.target.checked);\n  }\n\n  return (\n    <div className=\"form-group\">\n      <div className=\"checkbox-wrapper\">\n        <input\n          type=\"checkbox\"\n          name={name}\n          id={id}\n          checked={checkedState}\n          onChange={changeCheckbox}\n          defaultChecked={defaultChecked} />\n        <label htmlFor={id}>{title}</label>\n      </div>\n    </div>\n  );\n}\n\nexport default Checkbox;\n","import React from 'react';\nimport './Container.scss';\n\nconst Container = props => {\n  return(\n    <div className={props.className}>\n      {props.children}\n    </div>\n  );\n}\n\nexport default Container;","import React from 'react';\nimport Container from '../Container/Container';\n\nimport './AddItemLayout.scss';\n\nconst AddItemLayout = ({ date = '', time = '', status = '', children }) => {\n  const renderDate = () => {\n    if (date.length > 0) {\n      let newDate = new Date(date);\n      let day = newDate.getDate();\n      let month = newDate.getMonth();\n      let year = newDate.getFullYear();\n      let months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n\n      return <div className=\"date\">{day} &nbsp; {months[month]} &nbsp; {year}</div>;\n    }\n  }\n\n  return (\n    <div className=\"edit-item\">\n      <Container className=\"l-col w-14\">\n        {renderDate()}\n        <div className=\"time\">\n          {time}\n        </div>\n        <div className=\"status uppercase\">\n          {status}\n        </div>\n      </Container>\n      {children}\n    </div>\n  );\n}\n\nexport default AddItemLayout;","import React, { useEffect, useState } from 'react';\nimport './Toolbar.scss';\n\nconst Toolbar = props => {\n  const [toolbarHeight, setToolbarHeight] = useState(185);\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", handleToolbar);\n    document.addEventListener(\"scroll\", changeToolbarHeight);\n\n    return () => {\n      window.removeEventListener(\"resize\", handleToolbar);\n      document.removeEventListener(\"scroll\", changeToolbarHeight);\n    }\n  }, []);\n\n  const handleToolbar = () => {\n    if (document.documentElement.clientWidth < 900) {\n      setToolbarHeight(95);\n    } else {\n      setToolbarHeight(185);\n    }\n  }\n\n  const changeToolbarHeight = () => {\n    if (document.documentElement.clientWidth > 900) {\n      let scrollTop = window.scrollY;\n      let newToolbarHeight = Math.max(95, 185 - scrollTop);\n      setToolbarHeight(newToolbarHeight);\n    }\n  }\n\n  const className = () => {\n    const { className } = props;\n\n    if (className === \"justify-right\") {\n      return toolbarHeight === 95 ? \"toolbar t-shadow \" + className : \"toolbar \" + className;\n    }\n\n    return toolbarHeight === 95 ? \"toolbar t-shadow\" : \"toolbar\";\n  }\n\n  const style = () => {\n    if (props.mobile) {\n      return;\n    }\n\n    if (document.documentElement.clientWidth > 900) {\n      return { marginTop: toolbarHeight };\n    } else {\n      return { marginTop: 33 };\n    }\n  }\n\n  return (\n    <div className={className()} style={style()} id=\"v-toolbar\">\n      {props.children}\n    </div>\n  );\n}\n\nexport default Toolbar;","import axios from 'axios';\nimport { getAuthToken } from 'src/utils/token';\n\nconst BASE_URL = window.location.origin;\n\nexport const signIn = (data) => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  formDataObject.append(\"token\", getAuthToken());\n\n  return axios.post(`${BASE_URL}/api/v1/login/index.php`, formDataObject);\n};\n\nexport const checkAuth = () => {\n  let uri = '/api/v1/login/index.php';\n  const token = getAuthToken();\n\n  if (token) uri += `?token=${token}`;\n\n  return axios.get(`${BASE_URL}${uri}`);\n};\n\nexport const signInAs = (username) => {\n  return axios.get(`${BASE_URL}/api/v1/login/index.php`, {\n    params: {\n      loginas: username,\n      token: getAuthToken()\n    }\n  });\n};\n\nexport const signOut = () => {\n  return axios.get(`${BASE_URL}/api/v1/logout/index.php`);\n};\n\nexport const getMainData = () => {\n  let uri = `${BASE_URL}/api/v1/login/session.php`;\n\n  return axios.get(uri);\n};\n\nexport const checkAuthToken = token => {\n  let uri = `${BASE_URL}/api/v1/login/session.php`;\n\n  if (token) uri += `?token=${token}`;\n\n  return axios.get(uri);\n};\n","import { REFRESH_COUNTERS } from './menuCounterTypes';\nimport { checkAuth } from 'src/services/session';\nimport { setAuthToken } from 'src/utils/token';\nimport { REFRESH_PANEL } from '../Panel/panelTypes';\n\nexport const refreshCounters = () => (dispatch, getState) => {\n  return new Promise((resolve, reject) => {\n    checkAuth()\n      .then(res => {\n        const { data, token, panel } = res.data;\n\n        if (token) setAuthToken(token);\n\n        dispatch({\n          type: REFRESH_COUNTERS,\n          value: {\n            user: data\n          }\n        });\n\n        dispatch({\n          type: REFRESH_PANEL,\n          value: {\n            panel\n          }\n        });\n\n        resolve(token);\n      })\n      .catch(err => {\n        reject();\n        console.error(err);\n      });\n  });\n}\n","import React, { useEffect, useState } from 'react';\n\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport { getInternetProtocolInfo, updateInternetProtocol } from '../../../ControlPanelService/Ip';\nimport SelectInput from '../../ControlPanel/AddItemLayout/Form/SelectInput/SelectInput';\nimport TextInput from '../../ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport Checkbox from '../../ControlPanel/AddItemLayout/Form/Checkbox/Checkbox';\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Spinner from '../../../components/Spinner/Spinner';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport QS from 'qs';\n\nimport './EditInternetProtocol.scss';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport HtmlParser from 'react-html-parser';\n\nconst EditInternetProtocol = () => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [okMessage, setOkMessage] = useState('');\n  const [state, setState] = useState({\n    data: {},\n    loading: false,\n    dedicated: false\n  });\n\n  useEffect(() => {\n    let queryParams = QS.parse(history.location.search, { ignoreQueryPrefix: true });\n    const { ip } = queryParams;\n\n    dispatch(addActiveElement('/list/ip/'));\n    dispatch(removeFocusedElement());\n\n    if (ip) {\n      setState({ ...state, loading: true });\n      fetchData(ip);\n    }\n  }, []);\n\n  const fetchData = ip => {\n    getInternetProtocolInfo(ip)\n      .then(response => {\n        setState({\n          ...state,\n          data: response.data,\n          dedicated: !response.data.dedicated,\n          loading: false\n        });\n      })\n      .catch(err => {\n        setState({ ...state, loading: false });\n        console.error(err)\n      });\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let updatedIP = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      updatedIP[name] = value;\n    }\n\n    updatedIP['token'] = token;\n    updatedIP['save'] = 'save';\n    updatedIP['v_ip'] = state.data.ip;\n\n    if (Object.keys(updatedIP).length !== 0 && updatedIP.constructor === Object) {\n      setState({ ...state, loading: true });\n\n      updateInternetProtocol(updatedIP, state.data.ip)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg, ok_msg } = result.data;\n\n            if (error_msg) {\n              setErrorMessage(error_msg);\n              setOkMessage('');\n            } else {\n              dispatch(refreshCounters()).then(() => {\n                setErrorMessage('');\n                setOkMessage(ok_msg);\n              });\n            }\n          }\n        })\n        .then(() => fetchData(state.data.ip))\n        .catch(err => console.error(err));\n    }\n  }\n\n  const onChangeDedicated = value => {\n    setState({ ...state, dedicated: value });\n  }\n\n  return (\n    <div className=\"edit-template edit-ip\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.IP}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Editing IP Address']}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {errorMessage}\n          </span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout date={state.data.date} time={state.data.time} status={state.data.status}>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"edit-ip\">\n            <TextInput id=\"type\" name=\"v_ip\" title={i18n['IP address']} value={state.data.ip} disabled />\n\n            <TextInput id=\"type\" name=\"v_netmask\" title={i18n['Netmask']} value={state.data.netmask} disabled />\n\n            <TextInput id=\"type\" name=\"v_interface\" title={i18n['Interface']} value={state.data.interface} disabled />\n\n            <Checkbox onChange={onChangeDedicated} name=\"v_shared\" id=\"shared\" title={i18n['Shared']} defaultChecked={state.dedicated} />\n\n            {\n              !state.dedicated && (\n                <div className=\"dedicated-form-group\">\n                  <SelectInput\n                    options={state.data.users}\n                    selected={state.data.owner}\n                    title={i18n['Assigned user']}\n                    name=\"v_owner\"\n                    id=\"owner\" />\n                </div>\n              )\n            }\n\n            <TextInput id=\"type\" name=\"v_name\" title={i18n['Assigned domain']} value={state.data.name} optionalTitle={i18n['optional']} />\n\n            <TextInput id=\"type\" name=\"v_nat\" title={i18n['NAT IP association']} value={state.data.nat} optionalTitle={i18n['optional']} />\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Save}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/ip/')}>{i18n.Back}</button>\n            </div>\n\n          </form>\n        }\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default EditInternetProtocol;","import React, { useEffect, useState } from 'react';\n\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport { addInternetProtocol, getAdditionalInfo } from '../../../ControlPanelService/Ip';\nimport SelectInput from '../../ControlPanel/AddItemLayout/Form/SelectInput/SelectInput';\nimport TextInput from '../../ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport Checkbox from '../../ControlPanel/AddItemLayout/Form/Checkbox/Checkbox';\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport Spinner from '../../Spinner/Spinner';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './AddInternetProtocol.scss';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport HtmlParser from 'react-html-parser';\n\nconst AddInternetProtocol = props => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n, userName } = useSelector(state => state.session);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [state, setState] = useState({\n    loading: false,\n    dedicated: true,\n    okMessage: '',\n    errorMessage: '',\n    interfaces: [],\n    users: []\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/ip/'));\n    dispatch(removeFocusedElement());\n\n    setState({ ...state, loading: true });\n\n    fetchData();\n  }, []);\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let newIp = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      newIp[name] = value;\n    }\n\n    if (Object.keys(newIp).length !== 0 && newIp.constructor === Object) {\n      setState({ ...state, loading: true });\n      addInternetProtocol(newIp)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg: errorMessage, ok_msg: okMessage } = result.data;\n\n            if (errorMessage) {\n              setState({ ...state, errorMessage, okMessage, loading: false });\n            } else {\n              dispatch(refreshCounters()).then(() => {\n                setState({ ...state, okMessage, errorMessage: '', loading: false });\n              });\n            }\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const fetchData = () => {\n    getAdditionalInfo()\n      .then(result => {\n        setState({ ...state, interfaces: result.data.interfaces, users: result.data.users, loading: false });\n      })\n      .catch(err => console.error(err));\n  }\n\n  const onChangeDedicated = value => {\n    setState({ ...state, dedicated: value });\n  }\n\n  return (\n    <div className=\"edit-template add-ip\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.IP}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Adding Package']}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {state.errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            {state.errorMessage}</span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {state.okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            <span>{HtmlParser(state.okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        {state.loading ? <Spinner /> : (\n          <form onSubmit={event => submitFormHandler(event)}>\n            <input type=\"hidden\" name=\"ok\" value=\"add\" />\n            <input type=\"hidden\" name=\"v_owner\" value={userName} />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            <TextInput name=\"v_ip\" id=\"ipAddress\" title={i18n['IP address']} />\n\n            <TextInput name=\"v_netmask\" id=\"netmask\" title={i18n['Netmask']} />\n\n            <SelectInput\n              options={state.interfaces}\n              name=\"v_interface\"\n              id=\"interfaces\"\n              title={i18n['Interface']} />\n\n            <Checkbox onChange={onChangeDedicated} name=\"v_shared\" id=\"shared\" title={i18n['Shared']} defaultChecked={state.dedicated} />\n\n            {\n              !state.dedicated\n                ? (\n                  <div className=\"assigned-user\">\n                    <SelectInput\n                      options={state.users}\n                      name=\"v_owner\"\n                      id=\"users\"\n                      title={i18n['Assigned user']} />\n                  </div>\n                )\n                : null\n            }\n\n            <TextInput name=\"v_name\" id=\"name\" title={i18n['Assigned domain']} optionalTitle={i18n['optional']} />\n\n            <TextInput name=\"v_nat\" id=\"nat\" title={i18n['NAT IP association']} optionalTitle={i18n['optional']} />\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Add}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/ip/')}>{i18n.Back}</button>\n            </div>\n          </form>\n        )}\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default AddInternetProtocol;","import React from 'react';\n\nconst TextArea = ({ id, name, defaultValue = '', title, optionalTitle = '', rows = '3', disabled = false, ...rest }) => {\n  return (\n    <div className=\"form-group\">\n      <label className=\"label-wrapper\" htmlFor={id}>\n        {title}\n        <span>{optionalTitle}</span>\n      </label>\n      <textarea\n        className=\"form-control\"\n        id={id}\n        rows={rows}\n        name={name}\n        readOnly={disabled}\n        defaultValue={defaultValue}\n        {...rest}\n      >\n      </textarea>\n    </div>\n  );\n}\n\nexport default TextArea;\n","import axios from \"axios\";\nimport { getAuthToken } from \"src/utils/token\";\n\nconst BASE_URL = window.location.origin;\nconst webApiUri = '/api/v1/list/server/index.php';\nconst serverAdditionalInfoUri = '/api/v1/edit/server/index.php';\n\nexport const getServersList = () => {\n  return axios.get(BASE_URL + webApiUri);\n}\n\nexport const bulkAction = (action, services) => {\n  const formData = new FormData();\n  formData.append(\"action\", action);\n  formData.append(\"token\", getAuthToken());\n\n  services.forEach(service => {\n    formData.append(\"service[]\", service);\n  });\n\n  return axios.post(BASE_URL + '/api/v1/bulk/service/', formData);\n};\n\nexport const handleAction = uri => {\n  return axios.get(BASE_URL + uri, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const getServerAdditionalInfo = () => {\n  return axios.get(BASE_URL + serverAdditionalInfoUri, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const updateService = (data, uri = '') => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(BASE_URL + `/api/v1/edit/server/${uri}/index.php`, formDataObject, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const getServiceInfo = service => {\n  return axios.get(`${BASE_URL}/api/v1/edit/server/${service}/index.php`);\n}\n\nexport const getServiceLogs = service => {\n  return axios.get(`${BASE_URL}${webApiUri}?${service}`);\n}\n\nexport const services = [\n  'apache2',\n  'clamd',\n  'cron',\n  'crond',\n  'exim',\n  'exim4',\n  'fail2ban',\n  'iptables',\n  'mariadb',\n  'mysqld',\n  'named',\n  'php-fpm',\n  'php5-fpm',\n  'proftpd',\n  'spamassassin',\n  'spamd',\n  'vsftpd',\n];","import React, { useEffect, useState } from 'react';\nimport { addActiveElement, removeFocusedElement } from \"../../../../actions/MainNavigation/mainNavigationActions\";\nimport TextInput from '../../../ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport Checkbox from '../../../ControlPanel/AddItemLayout/Form/Checkbox/Checkbox';\nimport TextArea from '../../../ControlPanel/AddItemLayout/Form/TextArea/TextArea';\nimport AddItemLayout from '../../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { getServiceInfo, updateService } from 'src/ControlPanelService/Server';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Spinner from '../../../../components/Spinner/Spinner';\nimport Toolbar from '../../../MainNav/Toolbar/Toolbar';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './EditServerNginx.scss';\nimport { Helmet } from 'react-helmet';\nimport HtmlParser from 'react-html-parser';\n\nconst EditServerNginx = props => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [okMessage, setOkMessage] = useState('');\n  const [restart, setRestart] = useState(true);\n  const [state, setState] = useState({\n    data: {},\n    loading: false,\n    basicOptions: true,\n    advancedOptions: false\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/server/'));\n    dispatch(removeFocusedElement());\n\n    setState({ ...state, loading: true });\n    fetchData();\n  }, []);\n\n  const fetchData = () => {\n    getServiceInfo('nginx')\n      .then(response => {\n        setState({\n          ...state,\n          data: response.data,\n          loading: false\n        });\n      })\n      .catch(err => {\n        setState({ ...state, loading: false });\n        console.error(err)\n      });\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let updatedService = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      updatedService[name] = value;\n    }\n\n    if (Object.keys(updatedService).length !== 0 && updatedService.constructor === Object) {\n      setState({ ...state, loading: true });\n\n      updatedService['v_config'] = state.data.config;\n      updatedService['v_restart'] = restart ? 'yes' : 'no';\n\n      updateService(updatedService, '/nginx')\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg, ok_msg } = result.data;\n\n            if (error_msg) {\n              setErrorMessage(error_msg);\n              setOkMessage('');\n            } else {\n              setErrorMessage('');\n              setOkMessage(ok_msg);\n            }\n          }\n        })\n        .then(() => fetchData())\n        .catch(err => console.error(err));\n    }\n  }\n\n  const toggleOptions = () => {\n    setState({\n      ...state,\n      advancedOptions: !state.advancedOptions,\n      basicOptions: !state.basicOptions\n    });\n  }\n\n  const onUpdateConfig = ({ id, value }) => {\n    if (!value) return;\n\n    var regexp = new RegExp(`(${id})(.+)(${state.data[id]})`, 'gm');\n    const updatedConfig = state.data.config.replace(regexp, `$1$2${value}`);\n    setState({ ...state, data: { ...state.data, config: updatedConfig, [id]: value } });\n  }\n\n  return (\n    <div className=\"edit-template edit-nginx\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.SERVER}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Configuring Server']} / {state.data.service_name}</div>\n        <div className=\"link\"><Link to=\"/edit/server/php\">{i18n['Configure']} php.ini</Link></div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {errorMessage}\n          </span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"edit-mail\">\n            <input type=\"hidden\" name=\"save\" value=\"save\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            {\n              !state.basicOptions && (\n                <button type=\"button\" onClick={() => toggleOptions()}>\n                  {i18n['Basic options']}\n                  {state.basicOptions ? <FontAwesomeIcon icon=\"caret-up\" /> : <FontAwesomeIcon icon=\"caret-down\" />}\n                </button>\n              )\n            }\n\n            {\n              state.basicOptions && (\n                <>\n                  <TextInput\n                    id=\"worker_processes\"\n                    title=\"worker_processes\"\n                    name=\"v_worker_processes\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={state.data.worker_processes} />\n\n                  <TextInput\n                    id=\"worker_connections\"\n                    title=\"worker_connections\"\n                    name=\"v_worker_connections\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={state.data.worker_connections} />\n\n                  <TextInput\n                    id=\"client_max_body_size\"\n                    title=\"client_max_body_size\"\n                    name=\"v_client_max_body_size\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={state.data.client_max_body_size} />\n\n                  <TextInput\n                    id=\"send_timeout\"\n                    title=\"send_timeout\"\n                    name=\"v_send_timeout\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={state.data.send_timeout} />\n\n                  <TextInput\n                    id=\"proxy_connect_timeout\"\n                    title=\"proxy_connect_timeout\"\n                    name=\"v_proxy_connect_timeout\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={state.data.proxy_connect_timeout} />\n\n                  <TextInput\n                    id=\"proxy_send_timeout\"\n                    title=\"proxy_send_timeout\"\n                    name=\"v_proxy_send_timeout\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={state.data.proxy_send_timeout} />\n\n                  <TextInput\n                    id=\"proxy_read_timeout\"\n                    title=\"proxy_read_timeout\"\n                    name=\"v_proxy_read_timeout\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={state.data.proxy_read_timeout} />\n\n                  <TextInput\n                    id=\"gzip\"\n                    title=\"gzip\"\n                    name=\"v_gzip\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={state.data.gzip} />\n\n                  <TextInput\n                    id=\"gzip_comp_level\"\n                    title=\"gzip_comp_level\"\n                    name=\"v_gzip_comp_level\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={state.data.gzip_comp_level} />\n\n                  <TextInput\n                    id=\"charset\"\n                    title=\"charset\"\n                    name=\"v_charset\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={state.data.charset} />\n                </>\n              )\n            }\n\n            {\n              !state.advancedOptions && (\n                <button type=\"button\" onClick={() => toggleOptions()}>\n                  {i18n['Advanced options']}\n                  {state.advancedOptions ? <FontAwesomeIcon icon=\"caret-up\" /> : <FontAwesomeIcon icon=\"caret-down\" />}\n                </button>\n              )\n            }\n\n            <br />\n            <br />\n\n            {\n              state.advancedOptions && (\n                <>\n                  <TextArea\n                    defaultValue={state.data.config}\n                    title={state.data.config_path}\n                    onChange={e => setState({ ...state, data: { ...state.data, config: e.target.value } })}\n                    name=\"v_config\"\n                    id=\"v_config\"\n                    rows=\"25\" />\n\n                  <br />\n\n                  <Checkbox\n                    title={i18n['restart']}\n                    defaultChecked={true}\n                    onChange={checked => setRestart(checked)}\n                    name=\"v_restart\"\n                    id=\"restart\" />\n                </>\n              )\n            }\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Save}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/server/')}>{i18n.Back}</button>\n            </div>\n\n          </form>\n        }\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default EditServerNginx;","import React, { useEffect, useState } from 'react';\nimport { addActiveElement, removeFocusedElement } from \"../../../../actions/MainNavigation/mainNavigationActions\";\nimport Checkbox from '../../../ControlPanel/AddItemLayout/Form/Checkbox/Checkbox';\nimport TextArea from '../../../ControlPanel/AddItemLayout/Form/TextArea/TextArea';\nimport { getServiceInfo, updateService } from 'src/ControlPanelService/Server';\nimport AddItemLayout from '../../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Spinner from '../../../../components/Spinner/Spinner';\nimport Toolbar from '../../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './Postgresql.scss';\nimport { Helmet } from 'react-helmet';\nimport HtmlParser from 'react-html-parser';\n\nconst Postgresql = () => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [okMessage, setOkMessage] = useState('');\n  const [state, setState] = useState({\n    data: {},\n    loading: false\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/server/'));\n    dispatch(removeFocusedElement());\n\n    setState({ ...state, loading: true });\n    fetchData();\n  }, []);\n\n  const fetchData = () => {\n    getServiceInfo('postgresql')\n      .then(response => {\n        if (!response.data.config) {\n          history.push('/list/server');\n        }\n\n        setState({ ...state, data: response.data, loading: false });\n      })\n      .catch(err => {\n        setState({ ...state, loading: false });\n        console.error(err);\n      });\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let updatedService = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      updatedService[name] = value;\n    }\n\n    if (Object.keys(updatedService).length !== 0 && updatedService.constructor === Object) {\n      setState({ ...state, loading: true });\n\n      updateService(updatedService, '/postgresql')\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg, ok_msg } = result.data;\n\n            setErrorMessage(error_msg || '');\n            setOkMessage(ok_msg || '');\n          }\n        })\n        .then(() => fetchData())\n        .catch(err => console.error(err));\n    }\n  }\n\n  return (\n    <div className=\"edit-template edit-pgsql\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.SERVER}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">\n          {i18n['Configuring Server']} / {state.data.service_name}\n        </div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {errorMessage}\n          </span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"edit-pgsql\">\n            <input type=\"hidden\" name=\"save\" value=\"save\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            <TextArea\n              defaultValue={state.data.options}\n              title={state.data.options_path}\n              name=\"v_options\"\n              id=\"v_options\"\n              rows=\"10\" />\n\n            <br />\n\n            <TextArea\n              defaultValue={state.data.config}\n              title={state.data.config_path}\n              name=\"v_config\"\n              id=\"v_config\"\n              rows=\"10\" />\n\n            <br />\n\n            <Checkbox\n              title={i18n['restart']}\n              defaultChecked={true}\n              name=\"v_restart\"\n              id=\"restart\" />\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Save}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/server/')}>{i18n.Back}</button>\n            </div>\n\n          </form>\n        }\n      </AddItemLayout>\n    </div >\n  );\n}\n\nexport default Postgresql;","import axios from \"axios\";\nimport { getAuthToken } from \"src/utils/token\";\n\nconst BASE_URL = window.location.origin;\nconst webApiUri = '/api/v1/list/backup/index.php';\nconst scheduleBackupUri = '/api/v1/schedule/backup/';\nconst backupDetailsUri = '/api/v1/list/backup/index.php';\nconst backupExclusionsUri = '/api/v1/list/backup/exclusions/index.php';\nconst backupExclusionsInfoUri = '/api/v1/edit/backup/exclusions/index.php';\nconst backupRestoreSettingUri = '/api/v1/schedule/restore/index.php';\nconst bulkRestoreUri = '/api/v1/bulk/restore/index.php';\n\nexport const getBackupList = () => {\n  return axios.get(BASE_URL + webApiUri);\n}\n\nexport const bulkAction = (action, backups) => {\n  const formData = new FormData();\n  formData.append(\"action\", action);\n  formData.append(\"token\", getAuthToken());\n\n  backups.forEach(backup => {\n    formData.append(\"backup[]\", backup);\n  });\n\n  return axios.post(BASE_URL + '/api/v1/bulk/backup/', formData);\n};\n\nexport const handleAction = uri => {\n  return axios.get(BASE_URL + uri, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const scheduleBackup = () => {\n  return axios.get(BASE_URL + scheduleBackupUri);\n}\n\nexport const getBackupDetails = backup => {\n  return axios.get(BASE_URL + `${backupDetailsUri}?backup=${backup}`);\n}\n\nexport const restoreBackupSetting = params => {\n  return axios.get(BASE_URL + `${backupRestoreSettingUri}${params}`);\n}\n\nexport const bulkRestore = (action, selection, backup) => {\n  const formData = new FormData();\n  formData.append(\"token\", getAuthToken());\n  formData.append(\"action\", action);\n  formData.append(\"backup\", backup);\n\n  selection.forEach(udir => {\n    formData.append(\"udir[]\", udir);\n  });\n\n  return axios.post(BASE_URL + `${bulkRestoreUri}`, formData);\n}\n\nexport const getBackupExclusions = () => {\n  return axios.get(BASE_URL + `${backupExclusionsUri}`);\n}\n\nexport const getBackupExclusionsInfo = () => {\n  return axios.get(BASE_URL + `${backupExclusionsInfoUri}`);\n}\n\nexport const updateBackupExclusions = data => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(BASE_URL + backupExclusionsInfoUri, formDataObject, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n}\n","import React, { useEffect, useState } from 'react';\nimport { addActiveElement, removeFocusedElement } from \"src/actions/MainNavigation/mainNavigationActions\";\nimport { updateBackupExclusions, getBackupExclusionsInfo } from 'src/ControlPanelService/Backup';\nimport TextArea from 'src/components/ControlPanel/AddItemLayout/Form/TextArea/TextArea';\nimport AddItemLayout from 'src/components/ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Toolbar from 'src/components/MainNav/Toolbar/Toolbar';\nimport Spinner from 'src/components/Spinner/Spinner';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Helmet } from 'react-helmet';\n\nimport './style.scss';\nimport HtmlParser from 'react-html-parser';\n\nconst EditBackupExclusions = () => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [okMessage, setOkMessage] = useState('');\n  const [state, setState] = useState({\n    data: {},\n    loading: false\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/backup/'));\n    dispatch(removeFocusedElement());\n\n    setState({ ...state, loading: true });\n    fetchData();\n  }, []);\n\n  const fetchData = () => {\n    getBackupExclusionsInfo()\n      .then(response => {\n        setState({\n          ...state,\n          data: response.data,\n          loading: false\n        });\n      })\n      .catch(err => console.error(err));\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let updatedExclusions = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      updatedExclusions[name] = value;\n    }\n\n    updatedExclusions['token'] = token;\n    updatedExclusions['save'] = 'save';\n\n    if (Object.keys(updatedExclusions).length !== 0 && updatedExclusions.constructor === Object) {\n      setState({ ...state, loading: true });\n\n      updateBackupExclusions(updatedExclusions)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg, ok_msg } = result.data;\n\n            setErrorMessage(error_msg || '');\n            setOkMessage(ok_msg || '');\n          }\n        })\n        .then(() => fetchData())\n        .catch(err => console.error(err));\n    }\n  }\n\n  return (\n    <div className=\"edit-template edit-backup-exclusions\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.BACKUP}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Editing Backup Exclusions']}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {errorMessage}\n          </span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"edit-backup-exclusions\">\n            <TextArea\n              title={i18n['Web Domains']}\n              defaultValue={state.data.web}\n              name=\"v_web\"\n              id=\"v_web\" />\n\n            <TextArea\n              title={i18n['Mail Domains']}\n              defaultValue={state.data.mail}\n              name=\"v_mail\"\n              id=\"v_mail\" />\n\n            <TextArea\n              title={i18n['Databases']}\n              defaultValue={state.data.db}\n              name=\"v_db\"\n              id=\"v_db\" />\n\n            <TextArea\n              title={i18n['User Directories']}\n              defaultValue={state.data.userdir}\n              name=\"v_userdir\"\n              id=\"v_userdir\" />\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Save}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/backup/exclusions')}>{i18n.Back}</button>\n            </div>\n          </form>\n        }\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default EditBackupExclusions;\n","import { ADD_CPANEL_FOCUSED_ELEMENT, REMOVE_CPANEL_FOCUSED_ELEMENT } from './controlPanelContentTypes';\n\nexport const addControlPanelContentFocusedElement = value => {\n  return {\n    type: ADD_CPANEL_FOCUSED_ELEMENT,\n    value\n  };\n};\n\nexport const removeControlPanelContentFocusedElement = () => {\n  return {\n    type: REMOVE_CPANEL_FOCUSED_ELEMENT,\n    value: ''\n  };\n};","import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport './DropdownFilter.scss';\n\nconst DropdownFilter = props => {\n  const { i18n } = useSelector(state => state.session);\n\n  const state = {\n    usersList: [i18n.Date, i18n.Username, i18n.Disk, i18n.Bandwidth, i18n.Starred],\n    webList: [i18n.Date, i18n.Domain, i18n['IP Addresses'], i18n.Disk, i18n.Bandwidth, i18n.Starred],\n    dnsList: [i18n.Date, i18n.Expire, i18n.Domain, i18n['IP Addresses'], i18n.Records, i18n.Starred],\n    mailList: [i18n.Date, i18n.Domain, i18n.Accounts, i18n.Disk, i18n.Starred],\n    mailAccountList: [i18n.Date, i18n.Accounts, i18n.Disk, i18n.Starred],\n    dbList: [i18n.Date, i18n.Database, i18n.Disk, i18n.User, i18n.Host, i18n.Starred],\n    cronList: [i18n.Date, i18n.Command, i18n.Starred],\n    packagesList: [i18n.Date, i18n['Package Name'], i18n.Starred],\n    internetProtocolsList: [i18n.Date, i18n.IP, i18n.Netmask, i18n.Interface, i18n.Domain, i18n.Owner, i18n.Starred],\n    firewallList: [i18n.Action, i18n.Protocol, i18n.Port, i18n['IP Addresses'], i18n.Comment, i18n.Starred],\n    searchList: [i18n.Date, i18n.Name, i18n.Starred]\n  };\n\n  const changeSorting = (type, order) => {\n    props.changeSorting(type, order);\n  }\n\n  const filterClassName = (sorting, order) => {\n    if (props.sorting === sorting && props.order === order) {\n      return \"dropdown-item active\";\n    }\n\n    return \"dropdown-item\";\n  }\n\n  const renderFilters = () => {\n    const { list } = props;\n    let activeListFilter = state[list];\n\n    return activeListFilter.map((item, index) => {\n      return (\n        <li key={index}>\n          <span className={filterClassName(item, \"descending\")} onClick={() => changeSorting(item, \"descending\")}>{item}<span className=\"arrow-down\">&#8595;</span></span>\n          <span className={filterClassName(item, \"ascending\")} onClick={() => changeSorting(item, \"ascending\")}><span>&#8593;</span></span>\n        </li>\n      );\n    });\n  }\n\n  const button = () => {\n    if (props.order === \"descending\") {\n      return <span className=\"arrow-down\">&#8595;</span>;\n    } else {\n      return <span>&#8593;</span>;\n    }\n  }\n\n  return (\n    <div className=\"btn-group\">\n      <button className=\"btn btn-sm btn-outline-secondary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n        {i18n['sort by']}: <b>{props.sorting}</b>\n        {button()}\n      </button>\n      <div className=\"dropdown-menu\">\n        <ul className=\"dropdown-list\">\n          {renderFilters()}\n        </ul>\n      </div>\n    </div >\n  );\n}\n\nexport default DropdownFilter;","import React, { useState, useEffect, useRef } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport './SearchInput.scss';\n\nconst SearchInput = props => {\n  const [searchTerm, setSearchTerm] = useState('');\n  let inputElement = useRef(null);\n\n  const handleClick = () => {\n    if (searchTerm && searchTerm !== '') {\n      return props.handleSearchTerm(searchTerm);\n    }\n\n    return;\n  }\n\n  useEffect(() => {\n    window.addEventListener(\"keyup\", focusInput);\n\n    return () => window.removeEventListener(\"keyup\", focusInput);\n  }, []);\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    if (searchTerm) {\n      handleClick();\n    }\n  }\n\n  const focusInput = event => {\n    if (event.keyCode === 70) {\n      return inputElement.current.focus();\n    }\n  }\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div className=\"search-input-form\">\n        <input type=\"text\" className=\"form-control\" onChange={e => setSearchTerm(e.target.value)} ref={inputElement} />\n        <button className=\"btn btn-outline-secondary\" type=\"submit\" onClick={() => handleClick()}><FontAwesomeIcon icon=\"search\" /></button>\n      </div>\n    </form>\n  );\n}\n\nexport default SearchInput;\n","import axios from \"axios\";\nlet addFavoriteUri = '/api/v1/add/favorite/index.php';\nlet deleteFavoriteUri = '/api/v1/delete/favorite/index.php';\nlet BASE_URL = window.location.origin;\n\n\nexport const addFavorite = (unitId, section) => {\n  return axios.get(BASE_URL + addFavoriteUri, {\n    params: {\n      'v_unit_id': unitId,\n      'v_section': section\n    }\n  });\n}\n\nexport const deleteFavorite = (unitId, section) => {\n  return axios.get(BASE_URL + deleteFavoriteUri, {\n    params: {\n      'v_unit_id': unitId,\n      'v_section': section\n    }\n  });\n}","import React, { Component, useEffect, useState } from 'react';\nimport Container from '../Container/Container';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useSelector } from 'react-redux';\nimport './ListItem.scss';\n\nconst ListItem = (props) => {\n  const { i18n } = useSelector(state => state.session);\n  const [state, setState] = useState({ starred: false });\n\n  useEffect(() => {\n    if (props.hasOwnProperty('starred')) {\n      setState({ ...state, starred: Boolean(props.starred) });\n    }\n  }, [props.starred]);\n\n  const printDate = date => {\n    if (date) {\n      let newDate = new Date(date);\n      let day = newDate.getDate();\n      let month = newDate.getMonth() + 1;\n      let year = newDate.getFullYear();\n      let months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n\n      return <div className=\"date\">{day} &nbsp; {months[month - 1]} &nbsp; {year}</div>;\n    }\n  }\n\n  const toggleItem = () => {\n    props.checkItem();\n  }\n\n  const starItem = () => {\n    setState({ ...state, starred: !state.starred });\n    props.toggleFav(!state.starred);\n  }\n\n  const className = () => {\n    const { starred } = state;\n    const { checked, outdated, suspended, stopped, focused, sysInfo } = props;\n    let className = 'list-item';\n\n    if (checked) {\n      className += ' toggled';\n    }\n\n    if (starred) {\n      className += ' starred';\n    }\n\n    if (outdated) {\n      className += ' outdated';\n    }\n\n    if (suspended || stopped) {\n      className += ' suspended';\n    }\n\n    if (focused) {\n      className += ' focused';\n    }\n\n    if (sysInfo) {\n      className += ' sys-info';\n    }\n\n    return className;\n  }\n\n  return (\n    <div className={className()} id={props.id}>\n      <Container className=\"l-col w-14\">\n        {printDate(props.date)}\n        <div className=\"text-status\">\n          <div className=\"checkbox\"><input type=\"checkbox\" onChange={toggleItem} checked={props.checked} /></div>\n          {props.leftNameText}\n        </div>\n        <div className=\"star\">\n          <div className=\"checkbox\"><input type=\"checkbox\" onChange={toggleItem} checked={props.checked} /></div>\n          <div onClick={starItem}><FontAwesomeIcon icon=\"star\" /></div>\n        </div>\n        {props.suspended && <div className='suspended'>{i18n.suspended}</div>}\n        {props.stopped && <div className='stopped'>{i18n.stopped}</div>}\n      </Container>\n      {props.children}\n    </div>\n  );\n}\n\nexport default ListItem;\n","import React from 'react';\nimport ListItem from '../ControlPanel/ListItem/ListItem';\nimport Container from '../ControlPanel/Container/Container';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport './InternetProtocol.scss';\n\nconst InternetProtocol = props => {\n  const { data } = props;\n  const { i18n } = useSelector(state => state.session);\n\n  const toggleFav = (starred) => {\n    if (starred) {\n      props.toggleFav(data.NAME, 'add');\n    } else {\n      props.toggleFav(data.NAME, 'delete');\n    }\n  }\n\n  const checkItem = () => {\n    props.checkItem(data.NAME);\n  }\n\n  const handleDelete = () => {\n    props.handleModal(data.delete_conf, `/api/v1/delete/ip/?ip=${data.NAME}`);\n  }\n\n  return (\n    <ListItem\n      id={data.NAME}\n      focused={data.FOCUSED}\n      checked={data.isChecked}\n      date={data.DATE}\n      starred={data.STARRED}\n      toggleFav={toggleFav}\n      checkItem={checkItem}>\n\n      <Container className=\"r-col w-85\">\n        <div className=\"name\">{data.NAT ? <>{data.NAT} <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> {data.NAME}</> : data.NAME}</div>\n        <br />\n        <div className=\"stats\">\n          <Container className=\"c-1 w-35\">\n            <div className=\"ip\"><span className=\"stat\">{data.NETMASK}</span></div>\n            <div className=\"soa\"><span className=\"stat\">{data.INTERFACE}</span></div>\n          </Container>\n          <Container className=\"c-2 w-30\">\n            <div>{i18n.Domains}: <span className=\"stat\">{data.U_WEB_DOMAINS}</span></div>\n            <div>{i18n.Status}: <span className=\"stat\">{data.STATUS}</span></div>\n          </Container>\n          <Container className=\"c-3 w-35\">\n            <div>{i18n.Owner}: <span className=\"stat\">{data.OWNER}</span></div>\n            <div>{i18n.Users}: <span className=\"stat\">{data.U_SYS_USERS.replace(/,/g, ', ')}</span></div>\n          </Container>\n        </div>\n      </Container>\n      <div className=\"actions\">\n        <div>\n          <Link className=\"link-edit\" to={`/edit/ip/?ip=${data.NAME}`}>\n            {i18n.edit}\n            {data.FOCUSED ? <span className=\"shortcut-button html-unicode\">&#8617;</span> : <FontAwesomeIcon icon=\"pen\" />}\n          </Link>\n        </div>\n\n        <div>\n          <button className=\"link-delete\" onClick={() => handleDelete()}>\n            {i18n.Delete}\n            {data.FOCUSED ? <span className=\"shortcut-button del\">Del</span> : <FontAwesomeIcon icon=\"times\" />}\n          </button>\n        </div>\n      </div>\n    </ListItem>\n  );\n}\n\nexport default InternetProtocol;\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport './LeftButton.scss';\nimport { Link } from 'react-router-dom';\n\nconst LeftButton = ({ showLeftMenu, list, name, href, onClick = () => { } }) => {\n  const leftMenuClassName = () => {\n    if (!showLeftMenu) {\n      return \"l-menu none\";\n    }\n\n    if (list === 'server') {\n      return \"l-menu server-icon\";\n    } else if (list === 'backup-details') {\n      return \"l-menu backup-details-icon\";\n    }\n\n    return \"l-menu\";\n  }\n\n  const renderIcon = () => {\n    if (list === 'server') {\n      return <FontAwesomeIcon icon=\"cog\" />\n    } else if (list === 'backup-details') {\n      return <FontAwesomeIcon icon=\"play\" />\n    }\n\n    return <FontAwesomeIcon icon=\"plus\" />\n  }\n\n  return (\n    <div className={leftMenuClassName()}>\n      {\n        href\n          ? (<Link to={href}>\n            {renderIcon()}\n            <span className=\"add\">{name}</span>\n          </Link>)\n          : (<button onClick={onClick}>\n            {renderIcon()}\n            <span className=\"add\">{name}</span>\n          </button>)\n      }\n    </div>\n  );\n}\n\nexport default LeftButton;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport './Checkbox.scss';\n\nfunction toggleAll(props, e) {\n  props.toggleAll(e.target.checked);\n}\n\nconst Checkbox = (props) => {\n  const { i18n } = useSelector(state => state.session);\n\n  return (\n    <div className=\"input-group-prepend\">\n      <div className=\"input-group-text\">\n        <input type=\"checkbox\" onChange={(e) => toggleAll(props, e)} aria-label=\"Checkbox for following text input\" id=\"checkbox\" checked={props.toggled} />\n      </div>\n      <span className=\"input-group-text\">\n        <label htmlFor=\"checkbox\">{i18n['toggle all']}</label>\n      </span>\n    </div>\n  );\n}\n\nexport default Checkbox;","import React, { useEffect, useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { values } from '../../../../ControlPanelService/Select';\nimport { useSelector } from 'react-redux';\nimport './Select.scss';\n\nconst Select = ({ cronReports, ...props }) => {\n  const { i18n } = useSelector(state => state.session);\n  const listValues = values(i18n);\n\n  const [state, setState] = useState({\n    usersList: listValues.usersList,\n    webList: listValues.webList,\n    dnsList: listValues.dnsList,\n    mailList: listValues.mailList,\n    dbList: listValues.dbList,\n    cronList: listValues.cronList,\n    backupList: listValues.backupList,\n    packagesList: listValues.packagesList,\n    internetProtocolsList: listValues.internetProtocolsList,\n    statisticsList: [],\n    updatesList: listValues.updatesList,\n    firewallList: listValues.firewallList,\n    serverList: listValues.serverList,\n    backupDetailList: listValues.backupDetailList,\n    banList: listValues.banList,\n    selected: '',\n  });\n\n  useEffect(() => {\n    const { list } = props;\n    setState({ ...state, list });\n  }, []);\n\n  const defaultValue = () => {\n    if (props.list === 'statisticsList') {\n      return i18n['show per user'];\n    }\n\n    return i18n['apply to selected'];\n  }\n\n  const renderOptions = () => {\n    const { list } = props;\n    let activeList = state[list];\n\n    if (list === 'cronList') {\n      if (cronReports) {\n        activeList = activeList.filter((item, index) => index !== 0);\n      } else {\n        activeList = activeList.filter((item, index) => index !== 1);\n      }\n    }\n\n    if (list === 'statisticsList') {\n      return props.users.map((item, index) => { return <option key={index} value={item}>{item}</option> });\n    } else {\n      return activeList.map((item, index) => { return <option key={index} value={item.value}>{item.name}</option> });\n    }\n  }\n\n  const handleSelect = event => {\n    setState({ ...state, selected: event.target.value });\n  }\n\n  const bulkAction = () => {\n    props.bulkAction(state.selected);\n    setState({ ...state, selected: '' });\n  }\n\n  return (\n    <div className=\"select-wrapper\">\n      <select className=\"custom-select\" id=\"inputGroupSelect04\" onChange={handleSelect}>\n        <option defaultValue={defaultValue()} value={defaultValue()}>{props.list === \"statisticsList\" ? i18n['show per user'] : i18n['apply to selected']}</option>\n        {renderOptions()}\n      </select>\n      <div className=\"input-group-append\">\n        <button className=\"btn btn-outline-secondary\" type=\"button\" onClick={bulkAction}>\n          <FontAwesomeIcon icon=\"angle-right\" />\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default Select;\n","export const values = (select = {}) => {\n  return {\n    usersList: [\n      { value: 'rebuild', name: select.rebuild },\n      { value: 'rebuild web', name: select['rebuild web'] },\n      { value: 'rebuild dns', name: select['rebuild dns'] },\n      { value: 'rebuild mail', name: select['rebuild mail'] },\n      { value: 'rebuild db', name: select['rebuild db'] },\n      { value: 'rebuild cron', name: select['rebuild cron'] },\n      { value: 'update counters', name: select['update counters'] },\n      { value: 'suspend', name: select.suspend },\n      { value: 'unsuspend', name: select.unsuspend },\n      { value: 'delete', name: select.delete }\n    ],\n    webList: [\n      { value: 'suspend', name: select.suspend },\n      { value: 'unsuspend', name: select.unsuspend },\n      { value: 'delete', name: select.delete }\n    ],\n    dnsList: [\n      { value: 'suspend', name: select.suspend },\n      { value: 'unsuspend', name: select.unsuspend },\n      { value: 'delete', name: select.delete }\n    ],\n    mailList: [\n      { value: 'suspend', name: select.suspend },\n      { value: 'unsuspend', name: select.unsuspend },\n      { value: 'delete', name: select.delete }\n    ],\n    dbList: [\n      { value: 'suspend', name: select.suspend },\n      { value: 'unsuspend', name: select.unsuspend },\n      { value: 'delete', name: select.delete }\n    ],\n    cronList: [\n      { value: 'add-cron-reports', name: select['turn on notifications'] },\n      { value: 'delete-cron-reports', name: select['turn off notifications'] },\n      { value: 'suspend', name: select.suspend },\n      { value: 'unsuspend', name: select.unsuspend },\n      { value: 'delete', name: select.delete }\n    ],\n    backupList: [\n      { value: 'delete', name: select.delete }\n    ],\n    packagesList: [\n      { value: 'delete', name: select.delete }\n    ],\n    internetProtocolsList: [\n      { value: 'reread IP', name: select['reread IP'] },\n      { value: 'delete', name: select.delete }\n    ],\n    updatesList: [\n      { value: 'update', name: select.update }\n    ],\n    firewallList: [\n      { value: 'suspend', name: select.suspend },\n      { value: 'unsuspend', name: select.unsuspend },\n      { value: 'delete', name: select.delete }\n    ],\n    serverList: [\n      { value: 'stop', name: select.stop },\n      { value: 'start', name: select.start },\n      { value: 'restart', name: select.restart }\n    ],\n    backupDetailList: [\n      { value: 'restore', name: select.restore }\n    ],\n    banList: [\n      { value: 'delete', name: select.delete }\n    ]\n  }\n};","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport './Modal.scss';\n\nconst Modal = ({ show, text, onSave, onCancel, showSaveButton = true, showCancelButton = true }) => {\n  const { i18n } = useSelector(state => state.session);\n\n  return (\n    <div>\n      <div className={`modal fade ${show ? 'show' : ''}`} id=\"c-panel-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" style={{ display: show ? 'block' : 'none' }}>\n        <div className=\"modal-dialog\" role=\"document\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\" id=\"exampleModalLabel\">{i18n.Confirmation}</h5>\n              <button type=\"button\" onClick={() => onCancel()} className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n            <div className=\"modal-body\">\n              {text}\n            </div>\n            <div className=\"modal-footer\">\n              {showCancelButton ? <button onClick={() => onCancel()} type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">{i18n.Cancel}</button> : ''}\n              {showSaveButton ? <button onClick={() => onSave()} type=\"button\" className=\"btn btn-primary\">{i18n.OK}</button> : ''}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n};\n\nexport default Modal;\n","import React, { useEffect, useState } from 'react';\nimport { addControlPanelContentFocusedElement, removeControlPanelContentFocusedElement } from '../../actions/ControlPanelContent/controlPanelContentActions';\nimport { addActiveElement, removeFocusedElement } from '../../actions/MainNavigation/mainNavigationActions';\nimport DropdownFilter from '../../components/MainNav/Toolbar/DropdownFilter/DropdownFilter';\nimport * as MainNavigation from '../../actions/MainNavigation/mainNavigationActions';\nimport { bulkAction, getIpList, handleAction } from '../../ControlPanelService/Ip';\nimport SearchInput from '../../components/MainNav/Toolbar/SearchInput/SearchInput';\nimport { addFavorite, deleteFavorite } from '../../ControlPanelService/Favorites';\nimport InternetProtocol from '../../components/InternetProtocol/InternetProtocol';\nimport LeftButton from '../../components/MainNav/Toolbar/LeftButton/LeftButton';\nimport Checkbox from '../../components/MainNav/Toolbar/Checkbox/Checkbox';\nimport Select from '../../components/MainNav/Toolbar/Select/Select';\nimport Toolbar from '../../components/MainNav/Toolbar/Toolbar';\nimport Modal from '../../components/ControlPanel/Modal/Modal';\nimport Spinner from '../../components/Spinner/Spinner';\nimport { useDispatch, useSelector } from 'react-redux';\nimport './InternetProtocols.scss';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\n\nconst InternetProtocols = props => {\n  const { i18n } = useSelector(state => state.session);\n  const { controlPanelFocusedElement } = useSelector(state => state.controlPanelContent);\n  const { focusedElement } = useSelector(state => state.mainNavigation);\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const [modal, setModal] = useState({\n    text: '',\n    visible: false,\n    actionUrl: ''\n  });\n  const [state, setState] = useState({\n    internetProtocols: [],\n    ipFav: [],\n    toggledAll: false,\n    sorting: i18n.Date,\n    order: \"descending\",\n    selection: [],\n    totalAmount: ''\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/ip/'));\n    dispatch(removeFocusedElement());\n    dispatch(removeControlPanelContentFocusedElement());\n    fetchData().then(() => setLoading(false));\n\n    return () => {\n      dispatch(removeControlPanelContentFocusedElement());\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleContentSelection);\n    window.addEventListener(\"keydown\", handleFocusedElementShortcuts);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleContentSelection);\n      window.removeEventListener(\"keydown\", handleFocusedElementShortcuts);\n    };\n  }, [controlPanelFocusedElement, focusedElement, state.internetProtocols]);\n\n  const handleContentSelection = event => {\n    if (event.keyCode === 38 || event.keyCode === 40) {\n      if (focusedElement) {\n        dispatch(MainNavigation.removeFocusedElement());\n      }\n    }\n\n    if (event.keyCode === 38) {\n      event.preventDefault();\n      handleArrowUp();\n    } else if (event.keyCode === 40) {\n      event.preventDefault();\n      handleArrowDown();\n    }\n  }\n\n  const initFocusedElement = internetProtocols => {\n    internetProtocols[0]['FOCUSED'] = internetProtocols[0]['NAME'];\n    setState({ ...state, internetProtocols });\n    dispatch(addControlPanelContentFocusedElement(internetProtocols[0]['NAME']));\n  }\n\n  const handleArrowDown = () => {\n    let internetProtocols = [...state.internetProtocols];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(internetProtocols);\n      return;\n    }\n\n    let focusedElementPosition = internetProtocols.findIndex(pack => pack.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== internetProtocols.length - 1) {\n      let nextFocusedElement = internetProtocols[focusedElementPosition + 1];\n      internetProtocols[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, internetProtocols });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleArrowUp = () => {\n    let internetProtocols = [...state.internetProtocols];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(internetProtocols);\n      return;\n    }\n\n    let focusedElementPosition = internetProtocols.findIndex(pack => pack.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== 0) {\n      let nextFocusedElement = internetProtocols[focusedElementPosition - 1];\n      internetProtocols[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, internetProtocols });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleFocusedElementShortcuts = event => {\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus');\n\n    if (controlPanelFocusedElement && !isSearchInputFocused) {\n      switch (event.keyCode) {\n        case 8: return handleDelete();\n        case 13: return handleEdit();\n        default: break;\n      }\n    }\n  }\n\n  const handleEdit = () => {\n    props.history.push(`/edit/ip/?ip=${controlPanelFocusedElement}`);\n  }\n\n  const handleDelete = () => {\n    const { internetProtocols } = state;\n    let currentInternetProtocolData = internetProtocols.filter(pack => pack.NAME === controlPanelFocusedElement)[0];\n\n    displayModal(currentInternetProtocolData.delete_conf, `/api/v1/delete/ip/?ip=${controlPanelFocusedElement}`);\n  }\n\n  const fetchData = () => {\n    setLoading(true);\n    return new Promise((resolve, reject) => {\n      getIpList()\n        .then(result => {\n          setState({\n            ...state,\n            internetProtocols: reformatData(result.data.data),\n            ipFav: result.data.ipFav,\n            selection: [],\n            totalAmount: result.data.totalAmount,\n            toggledAll: false\n          });\n          resolve();\n        })\n        .catch(err => console.error(err));\n    });\n  }\n\n  const reformatData = data => {\n    let internetProtocols = [];\n\n    for (let i in data) {\n      data[i]['NAME'] = i;\n      data[i]['FOCUSED'] = controlPanelFocusedElement === i;\n      internetProtocols.push(data[i]);\n    }\n\n    return internetProtocols;\n  }\n\n  const changeSorting = (sorting, order) => {\n    setState({\n      ...state,\n      sorting,\n      order\n    });\n  }\n\n  const internetProtocols = () => {\n    const { internetProtocols } = state;\n    const ipFav = { ...state.ipFav };\n    const result = [];\n\n    internetProtocols.forEach(internetProtocol => {\n      internetProtocol.FOCUSED = controlPanelFocusedElement === internetProtocol.NAME;\n\n      if (ipFav[internetProtocol.NAME]) {\n        internetProtocol.STARRED = ipFav[internetProtocol.NAME];\n      } else {\n        internetProtocol.STARRED = 0;\n      }\n\n      result.push(internetProtocol);\n    });\n\n    let sortedResult = sortArray(result);\n\n    return sortedResult.map((item, index) => {\n      return <InternetProtocol data={item} key={index} toggleFav={toggleFav} checkItem={checkItem} handleModal={displayModal} />;\n    });\n  }\n\n  const checkItem = name => {\n    const { selection, internetProtocols } = state;\n    let duplicate = [...selection];\n    let internetProtocolsDuplicate = internetProtocols;\n    let checkedItem = duplicate.indexOf(name);\n\n    let incomingItem = internetProtocolsDuplicate.findIndex(ip => ip.NAME === name);\n    internetProtocolsDuplicate[incomingItem].isChecked = !internetProtocolsDuplicate[incomingItem].isChecked;\n\n    if (checkedItem !== -1) {\n      duplicate.splice(checkedItem, 1);\n    } else {\n      duplicate.push(name);\n    }\n\n    setState({ ...state, internetProtocols: internetProtocolsDuplicate, selection: duplicate });\n  }\n\n  const sortArray = array => {\n    const { order, sorting } = state;\n    let sortingColumn = sortBy(sorting);\n\n    if (order === \"descending\") {\n      return array.sort((a, b) => (a[sortingColumn] < b[sortingColumn]) ? 1 : ((b[sortingColumn] < a[sortingColumn]) ? -1 : 0));\n    } else {\n      return array.sort((a, b) => (a[sortingColumn] > b[sortingColumn]) ? 1 : ((b[sortingColumn] > a[sortingColumn]) ? -1 : 0));\n    }\n  }\n\n  const sortBy = sorting => {\n    const { Date, IP, Domains, Netmask, Interface, Owner, Starred } = i18n;\n\n    switch (sorting) {\n      case Date: return 'DATE';\n      case IP: return 'IP';\n      case Netmask: return 'NETMASK';\n      case Interface: return 'INTERFACE';\n      case Domains: return 'U_WEB_DOMAINS';\n      case Owner: return 'OWNER';\n      case Starred: return 'STARRED';\n      default: break;\n    }\n  }\n\n  const toggleFav = (value, type) => {\n    const { ipFav } = state;\n    let ipFavDuplicate = ipFav;\n\n    if (type === 'add') {\n      ipFavDuplicate[value] = 1;\n\n      addFavorite(value, 'ip')\n        .then(() => {\n          setState({ ...state, ipFav: ipFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    } else {\n      ipFavDuplicate[value] = undefined;\n\n      deleteFavorite(value, 'ip')\n        .then(() => {\n          setState({ ...state, ipFav: ipFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    }\n  }\n\n  const toggleAll = toggled => {\n    let internetProtocolsDuplicate = [...state.internetProtocols];\n\n    if (toggled) {\n      let ipNames = [];\n\n      let internetProtocols = internetProtocolsDuplicate.map(internetProtocol => {\n        ipNames.push(internetProtocol.NAME);\n        internetProtocol.isChecked = true;\n        return internetProtocol;\n      });\n\n      setState({ ...state, internetProtocols, selection: ipNames, toggledAll: toggled });\n    } else {\n      let internetProtocols = internetProtocolsDuplicate.map(internetProtocol => {\n        internetProtocol.isChecked = false;\n        return internetProtocol;\n      });\n\n      setState({ ...state, internetProtocols, selection: [], toggledAll: toggled });\n    }\n  }\n\n  const bulk = action => {\n    const { selection } = state;\n\n    if (selection.length && action) {\n      setLoading(true);\n      bulkAction(action, selection)\n        .then(result => {\n          if (result.status === 200) {\n            toggleAll(false);\n            fetchData().then(() => refreshMenuCounters());\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const displayModal = (text, actionUrl) => {\n    setModal({ ...modal, visible: true, text, actionUrl });\n  }\n\n  const modalConfirmHandler = () => {\n    if (!modal.actionUrl) {\n      return modalCancelHandler();\n    }\n\n    modalCancelHandler();\n    setLoading(true);\n    handleAction(modal.actionUrl)\n      .then(res => {\n        if (res.data.error) {\n          setLoading(false);\n          return displayModal(res.data.error, '');\n        }\n        fetchData().then(() => refreshMenuCounters())\n      })\n      .catch(err => { setLoading(false); console.error(err); });\n  }\n\n  const refreshMenuCounters = () => {\n    dispatch(refreshCounters()).then(() => setLoading(false));\n  }\n\n  const modalCancelHandler = () => {\n    setModal({ ...modal, visible: false, text: '', actionUrl: '' });\n  }\n\n  return (\n    <div className=\"internetProtocols\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.IP}`}</title>\n      </Helmet>\n      <Toolbar mobile={false} >\n        <LeftButton name={i18n['Add IP']} href=\"/add/ip/\" showLeftMenu={true} />\n        <div className=\"r-menu\">\n          <div className=\"input-group input-group-sm\">\n            <Checkbox toggleAll={toggleAll} toggled={state.toggledAll} />\n            <Select list='internetProtocolsList' bulkAction={bulk} />\n            <DropdownFilter changeSorting={changeSorting} sorting={state.sorting} order={state.order} list=\"internetProtocolsList\" />\n            <SearchInput handleSearchTerm={term => props.changeSearchTerm(term)} />\n          </div>\n        </div>\n      </Toolbar>\n      <div className=\"ip-wrapper\">\n        {loading\n          ? <Spinner />\n          : (<>\n            {internetProtocols()}\n            <div className=\"total\">{state.totalAmount}</div>\n          </>)}\n      </div>\n      <Modal\n        onSave={modalConfirmHandler}\n        onCancel={modalCancelHandler}\n        show={modal.visible}\n        text={modal.text} />\n    </div>\n  );\n}\n\nexport default InternetProtocols;\n","import axios from \"axios\";\nimport { getAuthToken } from \"src/utils/token\";\n\nconst BASE_URL = window.location.origin;\nconst addWebUri = '/api/v1/add/web/index.php';\nconst webApiUri = '/api/v1/list/web/index.php';\nconst webStatsUri = '/api/v1/web-stats.php';\nconst domainInfoUri = '/api/v1/edit/web/index.php';\nconst generateCSRUri = '/api/v1/generate/ssl/index.php';\nconst updateDomainUri = '/api/v1/edit/web/index.php';\n\nexport const getWebList = () => {\n  return axios.get(BASE_URL + webApiUri);\n}\n\nexport const bulkAction = (action, webDomains) => {\n  const formData = new FormData();\n  formData.append(\"action\", action);\n  formData.append(\"token\", getAuthToken());\n\n  webDomains.forEach(webDomain => {\n    formData.append(\"domain[]\", webDomain);\n  });\n\n  return axios.post(BASE_URL + '/api/v1/bulk/web/', formData);\n};\n\nexport const handleAction = uri => {\n  return axios.get(BASE_URL + uri, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const addWeb = data => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(BASE_URL + addWebUri, formDataObject);\n}\n\nexport const getWebDomainInfo = domain => {\n  return axios.get(BASE_URL + addWebUri, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const getWebStats = () => {\n  return axios.get(BASE_URL + webStatsUri);\n}\n\nexport const getDomainInfo = domain => {\n  return axios.get(BASE_URL + domainInfoUri, {\n    params: {\n      domain,\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const updateWebDomain = (data, domain) => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(BASE_URL + updateDomainUri, formDataObject, {\n    params: {\n      domain,\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const getCsrInitialData = domain => {\n  if (domain) {\n    return axios.get(BASE_URL + generateCSRUri, {\n      params: {\n        domain\n      }\n    });\n  } else {\n    return axios.get(BASE_URL + generateCSRUri);\n  }\n}\n\nexport const generateCSR = (data) => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(BASE_URL + generateCSRUri, formDataObject, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n}\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nconst Password = ({ defaultValue, onChange = () => { }, id, name, title, showGenerationButton = true, ...props }) => {\n  const { i18n } = useSelector(state => state.session);\n  const [state, setState] = useState({\n    hidePassword: false,\n    generatedPassword: ''\n  });\n\n  useEffect(() => {\n    if (defaultValue && !state.generatedPassword) {\n      setState({ ...state, generatedPassword: defaultValue });\n    }\n  }, [defaultValue]);\n\n  const hidePasswordHandler = () => {\n    setState({ ...state, hidePassword: !state.hidePassword });\n  }\n\n  const generatePassword = () => {\n    let chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz';\n    let stringLength = 10;\n    let result = '';\n\n    for (var i = 0; i < stringLength; i++) {\n      let randomNumber = Math.floor(Math.random() * chars.length);\n      result += chars.substr(randomNumber, 1);\n    }\n\n    setState({ ...state, generatedPassword: result });\n    onChange(result);\n  }\n\n  const passwordInputHandler = value => {\n    setState({ ...state, generatedPassword: value });\n    onChange(value);\n  }\n\n  return (\n    <div className=\"form-group\">\n      <label htmlFor=\"password\">\n        {title ? title : i18n.Password}\n        {\n          showGenerationButton && (\n            <> / <button type=\"button\" className=\"generate-password\" onClick={() => generatePassword()}>\n              {i18n.Generate}\n            </button></>\n          )\n        }\n      </label>\n      <div className=\"password-wrapper\">\n        <input\n          type={state.hidePassword ? 'password' : 'text'}\n          className=\"form-control\"\n          id={`password_${id}`}\n          name={name}\n          value={state.generatedPassword}\n          onChange={event => passwordInputHandler(event.target.value)}\n          {...props} />\n        <button type=\"button\" onClick={() => hidePasswordHandler()}>\n          {state.hidePassword ?\n            <span className=\"eye-slash\"><FontAwesomeIcon icon=\"eye-slash\" /></span> :\n            <span className=\"eye\"><FontAwesomeIcon icon=\"eye\" /></span>}\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default Password;\n","import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport Password from '../../../../components/ControlPanel/AddItemLayout/Form/Password/Password';\n\nimport './AdditionalFtpForEditing.scss';\n\nconst AdditionalFtpForEditing = ({ domain, data = {}, onDeleteAdditionalFtp, prefixI18N, prePath, checked, ...props }) => {\n  const { i18n, userName } = useSelector(state => state.session);\n  const [state, setState] = useState({\n    username: data.v_ftp_user || '',\n    path: data.v_ftp_path || '',\n  });\n\n  const renderForm = () => {\n    if (data.deleted) {\n      if (data.is_new === 0) {\n        return (<>\n          <input type=\"hidden\" name={`v_ftp_user[${data.id}][delete]`} value=\"1\" />\n          <input type=\"hidden\" name={`v_ftp_user[${data.id}][is_new]`} value={data.is_new} />\n          <input type=\"hidden\" name={`v_ftp_user[${data.id}][v_ftp_user]`} value={data.v_ftp_user} />\n          <input type=\"hidden\" name={`v_ftp_user[${data.id}][v_ftp_password]`} value={data.v_ftp_password} />\n          <input type=\"hidden\" name={`v_ftp_user[${data.id}][v_ftp_path]`} value={data.v_ftp_path} />\n          <input type=\"hidden\" name={`v_ftp_user[${data.id}][v_ftp_pre_path]`} value={prePath} />\n        </>);\n      }\n    } else {\n      if (!checked) {\n        return <></>;\n      }\n\n      return (\n        <div className=\"additional-ftp\">\n          <div className=\"title\">\n            <input type=\"hidden\" name={`v_ftp_user[${data.id}][v_ftp_user]`} value={data.v_ftp_user} />\n            <input type=\"hidden\" name={`v_ftp_user[${data.id}][delete]`} value=\"0\" />\n            <input type=\"hidden\" name={`v_ftp_user[${data.id}][is_new]`} value={data.is_new} />\n\n            <span className=\"data.indexed-name\">{i18n.FTP} #{data.id + 1}</span>\n            <span>\n              &nbsp;\n              <button\n                type=\"button\"\n                onClick={() => onDeleteAdditionalFtp(data.id)}>\n                ({i18n.Delete ?? 'Delete'})\n              </button>\n            </span>\n          </div>\n\n          <div className=\"form-transform\">\n            <div className=\"form-group username\">\n              <label htmlFor={`ftp_user_${data.id}`}>{i18n.Username}</label>\n              <span className=\"prefix-note\">{prefixI18N}</span>\n              <div className=\"input-wrapper\">\n                <input\n                  defaultValue={state.username}\n                  onChange={event => setState({ ...state, username: event.target.value })}\n                  type=\"text\"\n                  disabled={data.v_ftp_user}\n                  className=\"form-control\"\n                  id={`ftp_user_${data.id}`}\n                  name={`v_ftp_user[${data.id}][v_ftp_user]`} />\n                <span>{data.v_ftp_user ? data.v_ftp_user : `${userName}_${state.username}`}</span>\n              </div>\n            </div>\n\n            <Password name={`v_ftp_user[${data.id}][v_ftp_password]`} id={data.id} />\n\n            <div className=\"form-group\">\n              <input type=\"hidden\" name=\"v_ftp_pre_path\" value={prePath} />\n              <input type=\"hidden\" name={`v_ftp_user[${data.id}][v_ftp_path_prev]`} value={data.v_ftp_path} />\n\n              <label htmlFor={`path${data.id}`}>{i18n.Path}</label>\n              <input\n                type=\"text\"\n                value={state.path}\n                onChange={event => setState({ ...state, path: event.target.value.indexOf('/') !== 0 ? `/${event.target.value}` : event.target.value })}\n                className=\"form-control\"\n                id={`path${data.id}`}\n                name={`v_ftp_user[${data.id}][v_ftp_path]`} />\n              <span className=\"path-note\">{prePath}{state.path}</span>\n            </div>\n\n            {\n              data.is_new === 1 && (\n                <div className=\"form-group\">\n                  <label htmlFor={`sendLoginCredentialsToEmailAddress_${data.id}`}>{i18n['Send login credentials to email address']}</label>\n                  <input\n                    type=\"email\"\n                    className=\"form-control\"\n                    id={`sendLoginCredentialsToEmailAddress_${data.id}`}\n                    defaultValue={data.v_ftp_email}\n                    name={`v_ftp_user[${data.id}][v_ftp_email]`} />\n                </div>\n              )\n            }\n\n          </div>\n        </div >);\n    }\n\n    return <></>;\n  }\n\n  return renderForm();\n}\n\nexport default AdditionalFtpForEditing;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport AdditionalFtpForEditing from '../AdditionalFtpForEditing/AdditionalFtpForEditing';\nimport './AdditionalFtpWrapper.scss';\n\nconst AdditionalFtpWrapper = ({ checked, ftps, unCheckAdditionalFtpBox, prefixI18N, ftpUserPrePath, domain, ...props }) => {\n  const { i18n } = useSelector(state => state.session);\n  const [state, setState] = useState({\n    additionalFtp: []\n  });\n\n  useEffect(() => {\n    if (ftps) {\n      const data = ftps.map((item, index) => {\n        item['deleted'] = !checked;\n        item['id'] = index;\n        return item;\n      });\n\n      setState({ ...state, additionalFtp: data });\n    }\n  }, [checked, ftps]);\n\n  const renderAdditionalFtps = () => {\n    return state.additionalFtp.map(ftp => {\n      return <AdditionalFtpForEditing\n        key={ftp.id}\n        prefixI18N={prefixI18N}\n        data={ftp}\n        checked={checked}\n        prePath={ftpUserPrePath}\n        domain={domain}\n        onDeleteAdditionalFtp={id => onDeleteFtp(id)} />;\n    });\n  }\n\n  const onDeleteFtp = index => {\n    let updatedAdditionalFtps = [];\n\n    state.additionalFtp.forEach(item => {\n      if (item.id === index) {\n        item.deleted = true;\n      }\n\n      updatedAdditionalFtps.push(item);\n    });\n\n    if (!updatedAdditionalFtps.length) {\n      unCheckAdditionalFtpBox();\n    }\n\n    setState({ ...state, additionalFtp: updatedAdditionalFtps });\n  }\n\n  const addAdditionalFtp = () => {\n    let additionalFtpArrayLength = state.additionalFtp.length;\n    let additionalFtpsDuplicate = [...state.additionalFtp];\n\n    additionalFtpsDuplicate.push({ id: additionalFtpArrayLength, deleted: false, is_new: 1 });\n\n    setState({ ...state, additionalFtp: additionalFtpsDuplicate });\n  }\n\n  return (\n    <div>\n      {renderAdditionalFtps()}\n\n      {checked && (\n        <button type=\"button\" onClick={() => addAdditionalFtp()}>\n          {i18n['Add one more FTP Account'] ?? 'Add'}\n        </button>)}\n    </div>\n  );\n}\n\nexport default AdditionalFtpWrapper;\n","import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport TextArea from 'src/components/ControlPanel/AddItemLayout/Form/TextArea/TextArea';\n\nimport './SslSupport.scss';\n\nconst SslSupport = props => {\n  const { i18n } = useSelector(state => state.session);\n  const [letsEncrypt, setLetsEncrypt] = useState(false);\n\n  return (\n    <div className=\"ssl-support\">\n      <div className=\"form-group\">\n        <div className=\"checkbox-wrapper\">\n          <input\n            type=\"checkbox\"\n            name=\"v_letsencrypt\"\n            id=\"lets-encrypt\"\n            checked={letsEncrypt}\n            onChange={() => setLetsEncrypt(!letsEncrypt)} />\n          <label htmlFor=\"lets-encrypt\">{i18n['Lets Encrypt Support']}</label>\n        </div>\n        <span className=\"lets-encrypt-span\">{letsEncrypt ? i18n['Your certificate will be automatically issued in 5 minutes'] : null}</span>\n      </div>\n\n      <input type=\"hidden\" value=\"same\" name=\"v_ssl_home\" />\n\n      <TextArea\n        id=\"ssl-certificate\"\n        name=\"v_ssl_crt\"\n        title={i18n['SSL Certificate']}\n        disabled={letsEncrypt}\n        optionalTitle={<>/ <button type=\"button\" onClick={() => props.setModalVisible(true)} className=\"generate-csr\">{i18n['Generate CSR']}</button></>} />\n\n      <div class=\"form-group\">\n        <label htmlFor=\"aliases\">{i18n['SSL Key']}</label>\n        <textarea class=\"form-control\" id=\"ssl_key\" rows=\"3\" name=\"v_ssl_key\" defaultValue={props.sslKey} disabled={letsEncrypt}></textarea>\n      </div>\n\n      <div class=\"form-group\">\n        <label htmlFor=\"aliases\">{i18n['SSL Certificate Authority / Intermediate']}</label>\n        <textarea class=\"form-control\" id=\"ssl_ca\" rows=\"3\" name=\"v_ssl_ca\" disabled={letsEncrypt}></textarea>\n      </div>\n    </div>\n  );\n}\n\nexport default SslSupport;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport Password from '../../../../components/ControlPanel/AddItemLayout/Form/Password/Password';\nimport AdditionalFtpWrapper from '../AdditionalFtpWrapper/AdditionalFtpWrapper';\nimport Checkbox from 'src/components/ControlPanel/AddItemLayout/Form/Checkbox/Checkbox';\nimport SslSupport from '../SslSupport/SslSupport';\n\nimport './AdvancedOptions.scss';\n\nconst AdvancedOptions = ({ prefixI18N, prePath, ...props }) => {\n  const { i18n } = useSelector(state => state.session);\n  const [state, setState] = useState({\n    sslSupport: false,\n    additionalFtp: false,\n    statisticsAuthCheckbox: false,\n    statisticsAuth: false,\n  });\n\n  useEffect(() => {\n    let updatedDomain = `www.${props.domain}`;\n    setState({ ...state, aliases: updatedDomain });\n  }, [props.domain]);\n\n  const renderSslSupport = () => {\n    if (state.sslSupport) {\n      return <SslSupport sslCertificate={props.sslCertificate} sslKey={props.sslKey} setModalVisible={bool => props.setModalVisible(bool)} />;\n    }\n  }\n\n  const renderWebStats = () => {\n    return props.webStats.map(stat => <option value={stat}>{stat}</option>);\n  }\n\n  const onChangeWebStatsSelect = value => {\n    if (value !== 'none') {\n      setState({ ...state, statisticsAuth: true });\n    } else {\n      setState({ ...state, statisticsAuth: false, statisticsAuthCheckbox: false });\n    }\n  }\n\n  return (\n    <div style={{ transform: 'translateX(3rem)' }}>\n      <div className=\"form-group\">\n        <div className=\"checkbox-wrapper\">\n          <input\n            type=\"checkbox\"\n            name=\"v_ssl\"\n            id=\"ssl-support\"\n            checked={state.sslSupport}\n            onChange={() => setState({ ...state, sslSupport: !state.sslSupport })} />\n          <label htmlFor=\"ssl-support\">{i18n['SSL Support']}</label>\n        </div>\n      </div>\n\n      {renderSslSupport()}\n\n      <div class=\"form-group\">\n        <label htmlFor=\"web-stats\">{i18n['Web Statistics']}</label>\n        <select class=\"form-control\" id=\"web-stats\" name=\"v_stats\" onChange={event => onChangeWebStatsSelect(event.target.value)}>\n          {renderWebStats()}\n        </select>\n      </div>\n\n      <div className={`form-group statistics-authorization ${state.statisticsAuth ? 'show' : 'hide'}`}>\n        <div className=\"checkbox-wrapper\">\n          <input\n            type=\"checkbox\"\n            name=\"v_stats_auth\"\n            id=\"stats-auth\"\n            checked={state.statisticsAuthCheckbox}\n            onChange={() => setState({ ...state, statisticsAuthCheckbox: !state.statisticsAuthCheckbox })} />\n          <label htmlFor=\"stats-auth\">{i18n['Statistics Authorization']}</label>\n        </div>\n      </div>\n\n      <div className={state.statisticsAuthCheckbox ? 'show web-stats-wrapper' : 'hide'}>\n        <div className=\"form-group\">\n          <label htmlFor=\"stats-user\">{i18n.Username}</label>\n          <input type=\"text\" className=\"form-control\" id=\"stats-user\" name=\"v_stats_user\" />\n        </div>\n\n        <Password name='v_stats_password' />\n      </div>\n\n      <Checkbox\n        onChange={checked => setState({ ...state, additionalFtp: checked })}\n        name=\"v_ftp\"\n        id=\"add-ftp\"\n        checked={state.additionalFtp}\n        title={i18n['Additional FTP Account']} />\n\n      <AdditionalFtpWrapper\n        checked={state.additionalFtp}\n        prefixI18N={prefixI18N}\n        ftps={[{ id: 1, deleted: false, is_new: 1 }]}\n        ftpUserPrePath={prePath}\n        unCheckAdditionalFtpBox={() => setState({ ...state, additionalFtp: false })} />\n    </div>\n  );\n}\n\nexport default AdvancedOptions;\n","import React, { useEffect, useState } from 'react';\nimport { addActiveElement, removeFocusedElement } from \"src/actions/MainNavigation/mainNavigationActions\";\nimport TextInput from 'src/components/ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport AddItemLayout from 'src/components/ControlPanel/AddItemLayout/AddItemLayout';\nimport TextArea from 'src/components/ControlPanel/AddItemLayout/Form/TextArea/TextArea';\nimport { generateCSR, getCsrInitialData } from 'src/ControlPanelService/Web';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Spinner from 'src/components/Spinner/Spinner';\nimport { useHistory } from 'react-router-dom';\nimport HtmlParser from 'react-html-parser';\n\nconst GenerateSSL = props => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [okMessage, setOkMessage] = useState('');\n  const [state, setState] = useState({\n    data: {},\n    generatedData: {},\n    loading: false,\n    domain: ''\n  });\n\n  useEffect(() => {\n    const { domain } = props;\n\n    dispatch(addActiveElement('/list/web/'));\n    dispatch(removeFocusedElement());\n\n    if (domain) {\n      fetchData(domain);\n    } else {\n      fetchData();\n    }\n  }, []);\n\n  const fetchData = (domain = '') => {\n    getCsrInitialData(domain)\n      .then(response => {\n        setState({\n          ...state,\n          domain,\n          generatedData: {},\n          data: response.data,\n          loading: false\n        });\n      })\n      .catch(err => {\n        setState({ ...state, loading: false });\n        console.error(err);\n      });\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let newCsr = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      newCsr[name] = value;\n    }\n\n    newCsr['generate'] = 'generate';\n\n    if (Object.keys(newCsr).length !== 0 && newCsr.constructor === Object) {\n      setState({ ...state, loading: true });\n\n      generateCSR(newCsr)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg: errorMessage, ok_msg: okMessage, crt, key, csr } = result.data;\n\n            if (errorMessage) {\n              setErrorMessage(errorMessage);\n              setOkMessage('');\n              setState({ ...state, generatedData: {}, loading: false });\n            } else {\n              setErrorMessage('');\n              setOkMessage(okMessage);\n\n              setState({ ...state, generatedData: { crt, key, csr }, loading: false });\n            }\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  return (\n    <div className=\"edit-template edit-user\">\n      <AddItemLayout date={state.data.date} time={state.data.time} status={state.data.status}>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"add-user\">\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            {\n              Object.entries(state.generatedData).length\n                ? (<>\n                  <TextArea\n                    id=\"csr\"\n                    name=\"v_csr\"\n                    title={i18n['SSL CSR']}\n                    defaultValue={state.generatedData.csr} />\n\n                  <TextArea\n                    id=\"crt\"\n                    name=\"v_crt\"\n                    title={i18n['SSL Certificate']}\n                    defaultValue={state.generatedData.crt} />\n\n                  <TextArea\n                    id=\"v_key\"\n                    name=\"key\"\n                    title={i18n['SSL Key']}\n                    defaultValue={state.generatedData.key} />\n\n                  <div className=\"buttons-wrapper\">\n                    <button type=\"button\" className=\"add\" onClick={() => props.prePopulateInputs(state.generatedData)}>{i18n.Add}</button>\n                    <button type=\"button\" className=\"back\" onClick={props.closeModal}>{i18n.Back}</button>\n                  </div>\n                </>)\n                : (<>\n                  <TextInput id=\"domain\" name=\"v_domain\" title={i18n['Domain']} value={state.data.domain} />\n\n                  <TextInput id=\"email\" name=\"v_email\" title={i18n['Email']} value={state.data.email} />\n\n                  <TextInput id=\"country\" name=\"v_country\" title={i18n['Country']} optionalTitle={`(${i18n['2 letter code']})`} value={state.data.country} />\n\n                  <TextInput id=\"state\" name=\"v_state\" title={i18n['State / Province']} value={state.data.state} />\n\n                  <TextInput id=\"locality\" name=\"v_locality\" title={i18n['City / Locality']} value={state.data.locality} />\n\n                  <TextInput id=\"org\" name=\"v_org\" title={i18n['Organization']} value={state.data.org} />\n\n                  <div className=\"buttons-wrapper\">\n                    <button type=\"submit\" className=\"add\">{i18n.Generate}</button>\n                    <button type=\"button\" className=\"back\" onClick={props.closeModal}>{i18n.Back}</button>\n                  </div>\n                </>)\n            }\n\n            <div className=\"error\"><span className=\"error-message\">{errorMessage}</span></div>\n            <div className=\"success\">\n              <span className=\"ok-message\"><span>{HtmlParser(okMessage)}</span> </span>\n            </div>\n          </form>\n        }\n      </AddItemLayout>\n    </div >\n  );\n}\n\nexport default GenerateSSL;\n","import React, { useEffect, useState } from 'react';\n\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { addWeb, getWebDomainInfo } from '../../../ControlPanelService/Web';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport AdvancedOptions from './AdvancedOptions/AdvancedOptions';\nimport Checkbox from 'src/components/ControlPanel/AddItemLayout/Form/Checkbox/Checkbox';\nimport TextArea from 'src/components/ControlPanel/AddItemLayout/Form/TextArea/TextArea';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport Spinner from '../../Spinner/Spinner';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './AddWebDomain.scss';\nimport GenerateSSL from 'src/containers/GenerateCSR';\nimport 'src/components/Modal/Modal.scss';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport HtmlParser from 'react-html-parser';\n\nconst AddWebDomain = props => {\n  const { i18n, userName } = useSelector(state => state.session);\n  const { panel } = useSelector(state => state.panel);\n  const { session } = useSelector(state => state.userSession);\n  const dispatch = useDispatch();\n  const token = localStorage.getItem(\"token\");\n  const [modalVisible, setModalVisible] = useState(false);\n  const history = useHistory();\n  const [state, setState] = useState({\n    loading: false,\n    dnsSupport: true,\n    mailSupport: true,\n    proxySupport: true,\n    showAdvancedOptions: false,\n    okMessage: '',\n    ssl_crt: '',\n    ssl_key: '',\n    domain: '',\n    errorMessage: '',\n    webStats: [],\n    prefixI18N: '',\n    prePath: '',\n    aliases: '',\n    proxy_ext: '',\n    internetProtocols: []\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/web/'));\n    dispatch(removeFocusedElement());\n\n    setState({ ...state, loading: true });\n    getWebDomainInfo()\n      .then(res => {\n        setState({\n          ...state,\n          internetProtocols: getInternetProtocolNames(res.data.ips),\n          webStats: res.data.stats,\n          prefixI18N: res.data.prefix,\n          proxy_ext: res.data.proxy_ext,\n          prePath: res.data.ftp_pre_path,\n          loading: false\n        });\n      })\n      .catch(err => {\n        setState({ ...state, loading: false });\n        console.error(err);\n      })\n  }, []);\n\n  const getInternetProtocolNames = internetProtocols => {\n    let result = [];\n\n    for (let i in internetProtocols) {\n      result.push(i);\n    }\n\n    return result;\n  }\n\n  const renderInternetProtocolsOptions = () => {\n    return state.internetProtocols.map(ip => <option value={ip}>{ip}</option>);\n  }\n\n  const showAdvancedOption = () => {\n    setState({ ...state, showAdvancedOptions: !state.showAdvancedOptions });\n  }\n\n  const renderAdvancedOptions = () => {\n    if (state.showAdvancedOptions) {\n      return <AdvancedOptions\n        prefixI18N={state.prefixI18N}\n        setModalVisible={bool => setModalVisible(bool)}\n        sslCertificate={state.ssl_crt}\n        sslKey={state.ssl_key}\n        domain={state.domain}\n        webStats={state.webStats}\n        prePath={state.prePath} />;\n    }\n  }\n\n  const onBlurChangeAliases = value => {\n    setState({ ...state, aliases: `www.${value}`});\n  }\n\n  const checkboxHandler = (input, checked) => {\n    setState({ ...state, [input]: checked });\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let newWebDomain = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      newWebDomain[name] = value;\n    }\n\n    if (Object.keys(newWebDomain).length !== 0 && newWebDomain.constructor === Object) {\n      setState({ loading: true });\n      addWeb(newWebDomain)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg: errorMessage, ok_msg: okMessage } = result.data;\n\n            if (errorMessage) {\n              setState({ ...state, errorMessage, okMessage, loading: false });\n            } else {\n              dispatch(refreshCounters()).then(() => {\n                setState({ ...state, okMessage, errorMessage: '', loading: false });\n              });\n            }\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  return (\n    <div className=\"edit-template add-web\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.WEB}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Adding Domain']}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {state.errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            {state.errorMessage}</span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {state.okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            <span>{HtmlParser(state.okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        {state.loading ? <Spinner /> : (\n          <form onSubmit={event => submitFormHandler(event)}>\n            <input type=\"hidden\" name=\"ok\" value=\"add\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            <div className=\"form-group\">\n              <label htmlFor=\"domain\">{i18n.Domain}</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"domain\"\n                required\n                name=\"v_domain\"\n                onBlur={event => onBlurChangeAliases(event.target.value)} />\n            </div>\n\n            <div class=\"form-group\">\n              <label htmlFor=\"package\">{i18n['IP Address']}</label>\n              <select class=\"form-control\" id=\"ip\" name=\"v_ip\">\n                {renderInternetProtocolsOptions()}\n              </select>\n            </div>\n\n            <div class=\"form-group\">\n              <label htmlFor=\"aliases\">{i18n.Aliases}</label>\n              <textarea\n                class=\"form-control\"\n                id=\"aliases\"\n                rows=\"3\"\n                name=\"v_aliases\"\n                defaultValue={state.aliases}\n              ></textarea>\n            </div>\n\n            {\n              panel[userName]['DNS_DOMAINS'] !== '0' && (\n                <Checkbox\n                  onChange={checked => checkboxHandler('dnsSupport', checked)}\n                  name=\"v_dns\"\n                  id=\"dns-support\"\n                  title={i18n['DNS Support'] ?? 'DNS Support'}\n                  defaultChecked={state.dnsSupport} />\n              )\n            }\n\n            {\n              panel[userName]['MAIL_DOMAINS'] !== '0' && (\n                <Checkbox\n                  onChange={checked => checkboxHandler('mailSupport', checked)}\n                  name=\"v_mail\"\n                  id=\"mail-support\"\n                  title={i18n['Mail Support'] ?? 'Mail Support'}\n                  defaultChecked={state.mailSupport} />\n              )\n            }\n\n            {\n              session.PROXY_SYSTEM && (\n                <>\n                  <Checkbox\n                    onChange={checked => checkboxHandler('proxySupport', checked)}\n                    name=\"v_proxy\"\n                    id=\"proxy\"\n                    title={i18n['Proxy Support'] ?? 'Proxy Support'}\n                    defaultChecked={state.proxySupport} />\n\n                  {\n                    state.proxySupport && (<div style={{ transform: 'translateX(3rem)' }}>\n                      <TextArea\n                        id=\"proxy-extensions\"\n                        name=\"v_proxy_ext\"\n                        title={i18n['Proxy Extensions']}\n                        defaultValue={state.proxy_ext} />\n                    </div>)\n                  }\n                </>\n              )\n            }\n\n            <div className=\"form-group advanced-options-button\">\n              <button type=\"button\" onClick={() => showAdvancedOption()}>\n                {i18n['Advanced options']}\n                {state.showAdvancedOptions ? <FontAwesomeIcon icon=\"caret-down\" /> : <FontAwesomeIcon icon=\"caret-up\" />}\n              </button>\n            </div>\n\n            {renderAdvancedOptions()}\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Add}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/web/')}>{i18n.Back}</button>\n            </div>\n          </form>\n        )}\n      </AddItemLayout>\n      <div className={`modal fade ${modalVisible ? 'show' : ''}`} id=\"c-panel-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" style={{ display: modalVisible ? 'block' : 'none' }}>\n        <div className=\"modal-dialog\" role=\"document\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5>{i18n['Generating CSR']}</h5>\n              <button type=\"button\" onClick={() => setModalVisible(false)} className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n            <GenerateSSL\n              domain={state.domain}\n              closeModal={() => setModalVisible(false)}\n              prePopulateInputs={({ crt, key }) => {\n                setState({ ...state, ssl_crt: crt, ssl_key: key });\n                setModalVisible(false);\n              }} />\n          </div>\n        </div>\n      </div>\n    </div >\n  );\n}\n\nexport default AddWebDomain;\n","import React, { useEffect, useState } from 'react';\n\nimport './TextInputWithTextOnTheRight.scss';\n\nconst TextInputWithTextOnTheRight = ({ id, title, name, defaultValue = '', optionalTitle = '', disabled = false }) => {\n  const [inputValue, setInputValue] = useState('');\n\n  useEffect(() => {\n    if (defaultValue) {\n      setInputValue(defaultValue);\n    }\n  }, [defaultValue]);\n\n  return (\n    <div className=\"form-group text-on-the-right\">\n      <label className=\"label-wrapper\" htmlFor={id}>\n        {title}\n        <span>{optionalTitle || ''}</span>\n      </label>\n      <div className=\"input-wrapper\">\n        <input\n          defaultValue={`admin_${defaultValue}`}\n          type=\"text\"\n          className=\"form-control\"\n          id={id}\n          value={inputValue}\n          onChange={event => setInputValue(event.target.value)}\n          disabled={disabled}\n          name={name} />\n        <span><i>{`${inputValue}`}</i></span>\n      </div>\n    </div>\n  );\n}\n\nexport default TextInputWithTextOnTheRight;","import axios from 'axios'\nimport { getAuthToken } from 'src/utils/token'\n\nconst BASE_URL = window.location.origin\nconst webApiUri = '/api/v1/list/db/index.php'\nconst addDbApiUri = '/api/v1/add/db/index.php'\nconst optionalDbInfoUri = '/api/v1/add/db/index.php'\nconst dbInfoUri = '/api/v1/edit/db/index.php'\nconst updateDatabaseUri = '/api/v1/edit/db/index.php'\n\nexport const getDatabaseList = () => {\n  return axios.get(BASE_URL + webApiUri)\n}\n\nexport const bulkAction = (action, domainNameSystems) => {\n  const formData = new FormData()\n  formData.append('action', action)\n  formData.append('token', getAuthToken())\n\n  domainNameSystems.forEach((domainNameSystem) => {\n    formData.append('database[]', domainNameSystem)\n  })\n\n  return axios.post(BASE_URL + '/api/v1/bulk/db/', formData)\n}\n\nexport const handleAction = (uri) => {\n  return axios.get(BASE_URL + uri, {\n    params: {\n      token: getAuthToken(),\n    },\n  })\n}\n\nexport const getDbOptionalInfo = () => {\n  return axios.get(BASE_URL + optionalDbInfoUri)\n}\n\nexport const addDatabase = (data) => {\n  let formDataObject = new FormData()\n\n  for (let key in data) {\n    formDataObject.append(key, data[key])\n  }\n\n  return axios.post(BASE_URL + addDbApiUri, formDataObject)\n}\n\nexport const dbCharsets = [\n  'big5',\n  'dec8',\n  'cp850',\n  'hp8',\n  'koi8r',\n  'latin1',\n  'latin2',\n  'swe7',\n  'ascii',\n  'ujis',\n  'sjis',\n  'hebrew',\n  'tis620',\n  'euckr',\n  'koi8u',\n  'gb2312',\n  'greek',\n  'cp1250',\n  'gbk',\n  'latin5',\n  'armscii8',\n  'utf8',\n  'utf8mb4',\n  'ucs2',\n  'cp866',\n  'keybcs2',\n  'macce',\n  'macroman',\n  'cp852',\n  'latin7',\n  'cp1251',\n  'cp1256',\n  'cp1257',\n  'binary',\n  'geostd8',\n  'cp932',\n  'eucjpms',\n]\n\nexport const getDatabaseInfo = (database) => {\n  return axios.get(BASE_URL + dbInfoUri, {\n    params: {\n      database,\n      token: getAuthToken(),\n    },\n  })\n}\n\nexport const updateDatabase = (data, database) => {\n  let formDataObject = new FormData()\n\n  for (let key in data) {\n    formDataObject.append(key, data[key])\n  }\n\n  return axios.post(BASE_URL + updateDatabaseUri, formDataObject, {\n    params: {\n      database,\n      token: getAuthToken(),\n    },\n  })\n}\n","import React, { useEffect, useState } from 'react';\nimport TextInputWithTextOnTheRight from '../../ControlPanel/AddItemLayout/Form/TextInputWithTextOnTheRight/TextInputWithTextOnTheRight';\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport { getDatabaseInfo, updateDatabase } from '../../../ControlPanelService/Db';\nimport TextInput from '../../ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport Password from '../../ControlPanel/AddItemLayout/Form/Password/Password';\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Spinner from '../../../components/Spinner/Spinner';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport QS from 'qs';\n\nimport './EditDatabase.scss';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport HtmlParser from 'react-html-parser';\n\nconst EditDatabase = props => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n, userName } = useSelector(state => state.session);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [okMessage, setOkMessage] = useState('');\n  const [state, setState] = useState({\n    data: {},\n    loading: false,\n    databaseUserInputValue: ''\n  });\n\n  useEffect(() => {\n    let queryParams = QS.parse(history.location.search, { ignoreQueryPrefix: true });\n    const { database } = queryParams;\n\n    dispatch(addActiveElement('/list/db/'));\n    dispatch(removeFocusedElement());\n\n    if (database) {\n      setState({ ...state, loading: true });\n      fetchData(database);\n    }\n  }, []);\n\n  const fetchData = database => {\n    getDatabaseInfo(database)\n      .then(response => {\n        setState({\n          ...state,\n          data: response.data,\n          databaseUserInputValue: response.data.dbuser.split('_').splice(1).join('_'),\n          loading: false\n        });\n      })\n      .catch(err => {\n        setState({ ...state, loading: false });\n        console.error(err);\n      });\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let updatedDatabase = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      updatedDatabase[name] = value;\n    }\n\n    updatedDatabase['v_database'] = state.data.database;\n    updatedDatabase['v_dbuser'] = `${userName}_${state.databaseUserInputValue}`;\n\n    if (Object.keys(updatedDatabase).length !== 0 && updatedDatabase.constructor === Object) {\n      setState({ ...state, loading: true });\n\n      updateDatabase(updatedDatabase, state.data.database)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg, ok_msg } = result.data;\n\n            if (error_msg) {\n              setOkMessage('');\n              setErrorMessage(error_msg);\n            } else {\n              dispatch(refreshCounters()).then(() => {\n                setOkMessage(ok_msg);\n                setErrorMessage('');\n              });\n            }\n          }\n        })\n        .then(() => fetchData(state.data.database))\n        .catch(err => console.error(err));\n    }\n  }\n\n  const databaseUserInputHandler = value => {\n    setState({ ...state, databaseUserInputValue: value });\n  }\n\n  return (\n    <div className=\"edit-template edit-db\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.DB}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Editing Database']}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {errorMessage}\n          </span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout date={state.data.date} time={state.data.time} status={state.data.status}>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"edit-db\">\n            <input type=\"hidden\" name=\"save\" value=\"save\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            <TextInputWithTextOnTheRight id=\"database\" name=\"v_database\" title={i18n['Database']} defaultValue={state.data.database} disabled />\n\n            <div className=\"form-group\">\n              <div className=\"label-wrapper\">\n                <label htmlFor=\"user\">{i18n.User}</label>\n              </div>\n              <div className=\"input-wrapper\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"user\"\n                  value={state.databaseUserInputValue}\n                  onChange={event => databaseUserInputHandler(event.target.value)}\n                  name=\"v_dbuser\" />\n                <span className=\"italic\"><i>{`${userName}_${state.databaseUserInputValue}`}</i></span>\n              </div>\n            </div>\n\n            <Password name=\"v_password\" defaultValue={state.data.password} />\n\n            <TextInput id=\"type\" name=\"v_type\" title={i18n['Type']} value={state.data.type} disabled />\n\n            <TextInput id=\"host\" name=\"v_host\" title={i18n['Host']} value={state.data.host} disabled />\n\n            <TextInput id=\"charset\" name=\"v_charset\" title={i18n['Charset']} value={state.data.charset} disabled />\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Save}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/db/')}>{i18n.Back}</button>\n            </div>\n\n          </form>\n        }\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default EditDatabase;","import axios from 'axios';\nimport { getAuthToken } from 'src/utils/token';\n\nconst BASE_URL = window.location.origin;\nconst usersUri = '/api/v1/list/firewall/index.php';\nconst addFirewallUri = '/api/v1/add/firewall/index.php';\nconst firewallInfoUri = '/api/v1/edit/firewall/index.php';\nconst updateFirewallUri = '/api/v1/edit/firewall/index.php';\nconst addBanIpsUri = '/api/v1/add/firewall/banlist/index.php';\nconst banListUri = '/api/v1/list/firewall/banlist/index.php';\n\nexport const getFirewallList = () => {\n  return axios.get(BASE_URL + usersUri);\n}\n\nexport const getBanList = () => {\n  return axios.get(BASE_URL + banListUri);\n}\n\nexport const bulkFirewallAction = (action, ips) => {\n  const formData = new FormData();\n  formData.append(\"action\", action);\n  formData.append(\"token\", getAuthToken());\n\n  ips.forEach(ip => {\n    formData.append(\"rule[]\", ip);\n  });\n\n  return axios.post(BASE_URL + '/api/v1/bulk/firewall/', formData);\n};\n\nexport const bulkAction = (action, ips, banIps) => {\n  const formData = new FormData();\n  formData.append(\"action\", action);\n  formData.append(\"token\", getAuthToken());\n\n  ips.forEach(ip => {\n    const banIp = banIps.find(banIp => banIp.NAME === ip);\n    formData.append(\"ipchain[]\", `${ip}:${banIp['CHAIN']}`);\n  });\n\n  return axios.post(BASE_URL + '/api/v1/bulk/firewall/banlist/', formData);\n};\n\nexport const handleAction = uri => {\n  return axios.get(BASE_URL + uri, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const getBanIps = data => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.get(BASE_URL + addBanIpsUri, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const addBanIp = (data) => {\n  let formDataObject = new FormData();\n\n  formDataObject.append('token', getAuthToken());\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(BASE_URL + addBanIpsUri, formDataObject, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const addFirewall = data => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(BASE_URL + addFirewallUri, formDataObject);\n}\n\nexport const getFirewallInfo = rule => {\n  return axios.get(BASE_URL + firewallInfoUri, {\n    params: {\n      rule,\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const updateFirewall = (data, rule) => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(BASE_URL + updateFirewallUri, formDataObject, {\n    params: {\n      rule,\n      token: getAuthToken()\n    }\n  });\n}","import React, { useEffect, useState } from 'react';\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport { getFirewallInfo, updateFirewall } from '../../../ControlPanelService/Firewalls';\nimport SelectInput from '../../ControlPanel/AddItemLayout/Form/SelectInput/SelectInput';\nimport TextInput from '../../ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Spinner from '../../../components/Spinner/Spinner';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport QS from 'qs';\n\nimport './EditFirewall.scss';\nimport { Helmet } from 'react-helmet';\nimport HtmlParser from 'react-html-parser';\n\nconst EditFirewall = props => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [okMessage, setOkMessage] = useState('');\n  const [state, setState] = useState({\n    data: {},\n    loading: false\n  });\n\n  useEffect(() => {\n    let queryParams = QS.parse(history.location.search, { ignoreQueryPrefix: true });\n    const { rule } = queryParams;\n\n    dispatch(addActiveElement('/list/firewall/'));\n    dispatch(removeFocusedElement());\n\n    if (rule) {\n      setState({ ...state, loading: true });\n      fetchData(rule);\n    }\n  }, []);\n\n  const fetchData = rule => {\n    getFirewallInfo(rule)\n      .then(response => {\n        setState({\n          ...state,\n          data: response.data,\n          loading: false\n        });\n      })\n      .catch(err => {\n        setState({ ...state, loading: false });\n        console.error(err);\n      });\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let updatedDomain = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      updatedDomain[name] = value;\n    }\n\n    if (Object.keys(updatedDomain).length !== 0 && updatedDomain.constructor === Object) {\n      setState({ ...state, loading: true });\n\n      updateFirewall(updatedDomain, state.data.rule)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg, ok_msg } = result.data;\n\n            setErrorMessage(error_msg || '');\n            setOkMessage(ok_msg || '');\n          }\n        })\n        .then(() => fetchData(state.data.rule))\n        .catch(err => console.error(err));\n    }\n  }\n\n  return (\n    <div className=\"edit-template edit-firewall\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.FIREWALL}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Editing Firewall Rule']}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {errorMessage}\n          </span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout date={state.data.date} time={state.data.time} status={state.data.status}>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"edit-firewall\">\n            <input type=\"hidden\" name=\"save\" value=\"save\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            <div className=\"form-group select-group\">\n              <label className=\"label-wrapper\" htmlFor=\"action\">\n                {i18n['Action']}\n              </label>\n              <select className=\"form-control\" id=\"action\" name=\"v_action\">\n                <option selected={state.data.action === 'DROP'} value=\"DROP\">DROP</option>\n                <option selected={state.data.action === 'ACCEPT'} value=\"ACCEPT\">ACCEPT</option>\n              </select>\n            </div>\n\n            <div className=\"form-group select-group\">\n              <label className=\"label-wrapper\" htmlFor=\"protocol\">\n                {i18n['Protocol']}\n              </label>\n              <select className=\"form-control\" id=\"protocol\" name=\"v_protocol\">\n                <option selected={state.data.protocol === 'TCP'} value=\"TCP\">{i18n['TCP']}</option>\n                <option selected={state.data.protocol === 'UDP'} value=\"UDP\">{i18n['UDP']}</option>\n                <option selected={state.data.protocol === 'ICMP'} value=\"ICMP\">{i18n['ICMP']}</option>\n              </select>\n            </div>\n\n            <TextInput\n              optionalTitle={i18n['ranges are acceptable']}\n              value={state.data.port}\n              title={i18n['Port']}\n              name=\"v_port\"\n              id=\"port\" />\n\n            <TextInput\n              optionalTitle={i18n['CIDR format is supported']}\n              value={state.data.ip}\n              title={i18n['IP address']}\n              name=\"v_ip\"\n              id=\"ip\" />\n\n            <TextInput\n              optionalTitle={i18n['optional']}\n              value={state.data.comment}\n              title={i18n['Comment']}\n              name=\"v_comment\"\n              id=\"comment\" />\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Save}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/firewall/')}>{i18n.Back}</button>\n            </div>\n\n          </form>\n        }\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default EditFirewall;","import React, { useEffect } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport './Hotkeys.scss';\nimport { useSelector } from 'react-redux';\n\nconst Hotkeys = props => {\n  const { i18n } = useSelector(state => state.session);\n\n  useEffect(() => {\n    window.addEventListener(\"keyup\", toggleShortcutsLit);\n\n    return () => window.removeEventListener(\"keyup\", toggleShortcutsLit);\n  }, [props.reference]);\n\n  const toggleShortcutsLit = event => {\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus');\n\n    if (event.keyCode === 72 && !isSearchInputFocused) {\n      props.toggleHotkeys();\n    }\n  }\n\n  return (\n    <div className=\"hotkeys-list hide\" ref={props.reference}>\n      <div className=\"head\">\n        <div className=\"name\">{i18n.Shortcuts}</div>\n        <div className=\"close\" onClick={() => props.toggleHotkeys()}><FontAwesomeIcon icon=\"times\" /></div>\n      </div>\n      <div className=\"body\">\n        <ul>\n          <li>\n            <span className=\"name\">a</span>\n            <span className=\"description\">{i18n['Add New object']}</span>\n          </li>\n          <li>\n            <span className=\"name\">Ctrl + Open</span>\n            <span className=\"description\">{i18n['Save Form']}</span>\n          </li>\n          <li>\n            <span className=\"name\">Ctrl + Backspace</span>\n            <span className=\"description\">{i18n['Cancel saving form']}</span>\n          </li>\n          <li className=\"space-top\">\n            <span className=\"name\">1</span>\n            <span className=\"description\">{i18n['Go to USER list']}</span>\n          </li>\n          <li>\n            <span className=\"name\">2</span>\n            <span className=\"description\">{i18n['Go to WEB list']}</span>\n          </li>\n          <li>\n            <span className=\"name\">3</span>\n            <span className=\"description\">{i18n['Go to DNS list']}</span>\n          </li>\n          <li>\n            <span className=\"name\">4</span>\n            <span className=\"description\">{i18n['Go to MAIL list']}</span>\n          </li>\n          <li>\n            <span className=\"name\">5</span>\n            <span className=\"description\">{i18n['Go to DB list']}</span>\n          </li>\n          <li>\n            <span className=\"name\">6</span>\n            <span className=\"description\">{i18n['Go to CRON list']}</span>\n          </li>\n          <li>\n            <span className=\"name\">7</span>\n            <span className=\"description\">{i18n['Go to BACKUP list']}</span>\n          </li>\n        </ul>\n        <ul>\n          <li>\n            <span className=\"name\">f</span>\n            <span className=\"description\">{i18n['Focus on search']}</span>\n          </li>\n          <li className=\"space-top\">\n            <span className=\"name\">h</span>\n            <span className=\"description\">{i18n['Display/Close shortcuts']}</span>\n          </li>\n          <li className=\"space-top\">\n            <span className=\"name\">&#8592;</span>\n            <span className=\"description\">{i18n['Move backward through top menu']}</span>\n          </li>\n          <li>\n            <span className=\"name\">&#8594;</span>\n            <span className=\"description\">{i18n['Move forward through top menu']}</span>\n          </li>\n          <li>\n            <span className=\"name\">Enter</span>\n            <span className=\"description\">{i18n['Enter focused element']}</span>\n          </li>\n          <li className=\"space-top\">\n            <span className=\"name\">&#8593;</span>\n            <span className=\"description\">{i18n['Move up through elements list']}</span>\n          </li>\n          <li>\n            <span className=\"name\">&#8595;</span>\n            <span className=\"description\">{i18n['Move down through elements list']}</span>\n          </li>\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default Hotkeys;","import React, { memo, useEffect, useState } from 'react';\n\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport { dbCharsets, addDatabase, getDbOptionalInfo } from '../../../ControlPanelService/Db';\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport Password from '../../ControlPanel/AddItemLayout/Form/Password/Password';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport Spinner from '../../Spinner/Spinner';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport HtmlParser from 'react-html-parser';\nimport './AddDatabase.scss'\n\nconst AddDatabase = memo(props => {\n  const { i18n } = useSelector(state => state.session);\n  const token = localStorage.getItem(\"token\");\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [state, setState] = useState({\n    loading: false,\n    okMessage: '',\n    errorMessage: '',\n    dbTypes: [],\n    dbHosts: [],\n    dbCharsets: [],\n    user: '',\n    maxCharLength: '',\n    databaseInputValue: '',\n    databaseUserInputValue: '',\n    prefixI18N: ''\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/db/'));\n    dispatch(removeFocusedElement());\n\n    setState({ ...state, loading: true });\n\n    getDbOptionalInfo()\n      .then(result => {\n        if (result.status === 200) {\n          setState({\n            ...state,\n            dbCharsets,\n            user: result.data.user,\n            dbTypes: result.data.dbTypes,\n            prefixI18N: result.data.prefixI18N,\n            maxCharLength: result.data.maxCharLength,\n            dbHosts: result.data.dbHosts,\n            loading: false\n          });\n        }\n      })\n      .catch(err => console.err(err));\n  }, []);\n\n  const renderDatabaseTypesOptions = () => {\n    return state.dbTypes.map((dbType, index) => <option key={index} value={dbType}>{dbType}</option>)\n  }\n\n  const renderDatabaseHostsOptions = () => {\n    return state.dbHosts.map((dbHost, index) => <option key={index} value={dbHost}>{dbHost}</option>)\n  }\n\n  const renderDatabaseCharsetOptions = () => {\n    return state.dbCharsets.map((dbCharset, index) =>\n      <option\n        key={index}\n        value={dbCharset}\n        selected={dbCharset === 'utf8'}>\n        {dbCharset}\n      </option>\n    );\n  }\n\n  const databaseUserInputHandler = value => {\n    setState({ ...state, databaseUserInputValue: value });\n  }\n\n  const databaseInputHandler = value => {\n    setState({ ...state, databaseInputValue: value });\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let newDatabase = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      newDatabase[name] = value;\n    }\n\n    newDatabase['v_database'] = state.databaseInputValue;\n    newDatabase['v_dbuser'] = state.databaseUserInputValue;\n\n    if (Object.keys(newDatabase).length !== 0 && newDatabase.constructor === Object) {\n      setState({ ...state, loading: true });\n      addDatabase(newDatabase)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg: errorMessage, ok_msg: okMessage } = result.data;\n\n            if (errorMessage) {\n              setState({ ...state, errorMessage, okMessage: '', loading: false });\n            } else {\n              dispatch(refreshCounters()).then(() => {\n                setState({ ...state, okMessage, errorMessage: '', loading: false });\n              });\n            }\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  return (\n    <div className=\"edit-template add-db\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.DB}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Adding database']}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {state.errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            {state.errorMessage}</span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {state.okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            <span>{HtmlParser(state.okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        {state.loading ? <Spinner /> : (\n          <form onSubmit={event => submitFormHandler(event)}>\n            <input type=\"hidden\" name=\"ok\" value=\"add\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            <span className=\"prefix\">{HtmlParser(state.prefixI18N)}</span>\n\n            <div className=\"form-group database\">\n              <label htmlFor=\"database\">{i18n.Database}</label>\n              <div className=\"input-wrapper\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"database\"\n                  onChange={event => databaseInputHandler(event.target.value)}\n                  value={state.databaseInputValue}\n                  name=\"v_database\" />\n                <span className=\"italic\">{`${state.user}_${state.databaseInputValue}`}</span>\n              </div>\n            </div>\n\n            <div className=\"form-group\">\n              <div className=\"label-wrapper\">\n                <label htmlFor=\"user\">{i18n.User}</label>\n                <span className=\"italic\">({state.maxCharLength})</span>\n              </div>\n              <div className=\"input-wrapper\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"user\"\n                  value={state.databaseUserInputValue}\n                  onChange={event => databaseUserInputHandler(event.target.value)}\n                  name=\"v_dbuser\" />\n                <span className=\"italic\">{`${state.user}_${state.databaseUserInputValue}`}</span>\n              </div>\n            </div>\n\n            <Password name={'v_password'} />\n\n            <div class=\"form-group\">\n              <label htmlFor=\"dbTypes\">{i18n.Type}</label>\n              <select class=\"form-control\" id=\"dbTypes\" name=\"v_type\">\n                {renderDatabaseTypesOptions()}\n              </select>\n            </div>\n\n            <div class=\"form-group\">\n              <label htmlFor=\"dbHosts\">{i18n.Host}</label>\n              <select class=\"form-control\" id=\"dbHosts\" name=\"v_host\">\n                {renderDatabaseHostsOptions()}\n              </select>\n            </div>\n\n            <div class=\"form-group\">\n              <label htmlFor=\"dbCharset\">{i18n.Charset}</label>\n              <select class=\"form-control\" id=\"dbCharset\" name=\"v_charset\">\n                {renderDatabaseCharsetOptions()}\n              </select>\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"sendLoginCredentialsToEmailAddress\">{i18n['Send login credentials to email address']}</label>\n              <input\n                type=\"email\"\n                className=\"form-control\"\n                id=\"sendLoginCredentialsToEmailAddress\"\n                name=\"v_db_email\" />\n            </div>\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Add}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/db/')}>{i18n.Back}</button>\n            </div>\n          </form>\n        )}\n      </AddItemLayout>\n    </div>\n  );\n});\n\nexport default AddDatabase;\n","import React, { useEffect, useState } from 'react';\n\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport SelectInput from '../../ControlPanel/AddItemLayout/Form/SelectInput/SelectInput';\nimport TextInput from '../../ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { addFirewall } from '../../../ControlPanelService/Firewalls';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './AddFirewall.scss';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport HtmlParser from 'react-html-parser';\n\nconst AddFirewall = props => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [state, setState] = useState({\n    loading: false,\n    actions: [\n      'DROP',\n      'ACCEPT'\n    ],\n    protocols: [\n      'TCP',\n      'UDP',\n      'ICMP'\n    ],\n    okMessage: '',\n    errorMessage: ''\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/firewall/'));\n    dispatch(removeFocusedElement());\n  }, []);\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let newFirewall = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      newFirewall[name] = value;\n    }\n\n    if (Object.keys(newFirewall).length !== 0 && newFirewall.constructor === Object) {\n      setState({ ...state, loading: true });\n      addFirewall(newFirewall)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg: errorMessage, ok_msg: okMessage } = result.data;\n\n            if (errorMessage) {\n              setState({ ...state, errorMessage, okMessage, loading: false });\n            } else {\n              dispatch(refreshCounters()).then(() => {\n                setState({ ...state, okMessage, errorMessage: '', loading: false });\n              });\n            }\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  return (\n    <div className=\"edit-template add-firewall\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.FIREWALL}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Adding Firewall Rule']}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {state.errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            {state.errorMessage}</span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {state.okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            <span>{HtmlParser(state.okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        <form onSubmit={event => submitFormHandler(event)}>\n          <input type=\"hidden\" name=\"ok\" value=\"add\" />\n          <input type=\"hidden\" name=\"token\" value={token} />\n\n          <SelectInput\n            options={state.actions}\n            name=\"v_action\"\n            id=\"action\"\n            title={i18n['Action']} />\n\n          <SelectInput\n            options={state.protocols}\n            name=\"v_protocol\"\n            id=\"protocol\"\n            title={i18n['Protocol']} />\n\n          <TextInput\n            name=\"v_port\"\n            id=\"port\"\n            title={i18n['Port']}\n            optionalTitle={i18n['ranges are acceptable']} />\n\n          <TextInput\n            name=\"v_ip\"\n            id=\"ip\"\n            title={i18n['IP address']}\n            optionalTitle={i18n['CIDR format is supported']} />\n\n          <TextInput\n            name=\"v_comment\"\n            id=\"comment\"\n            title={i18n['Comment']}\n            optionalTitle={i18n['optional']} />\n\n          <div className=\"buttons-wrapper\">\n            <button type=\"submit\" className=\"add\">{i18n.Add}</button>\n            <button type=\"button\" className=\"back\" onClick={() => history.push('/list/firewall/')}>{i18n.Back}</button>\n          </div>\n        </form>\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default AddFirewall;","import axios from \"axios\";\nimport { getAuthToken } from \"src/utils/token\";\n\nconst BASE_URL = window.location.origin;\nconst webApiUri = '/api/v1/list/cron/index.php';\nconst cronAddApiUri = '/api/v1/add/cron/index.php';\nconst jobInfoUri = '/api/v1/edit/cron/index.php';\nconst updateCronJobUri = '/api/v1/edit/cron/index.php';\n\nexport const getCronList = () => {\n  return axios.get(BASE_URL + webApiUri);\n}\n\nexport const bulkAction = (action, domainNameSystems) => {\n  const formData = new FormData();\n  formData.append(\"action\", action);\n  formData.append(\"token\", getAuthToken());\n\n  domainNameSystems.forEach(domainNameSystem => {\n    formData.append(\"job[]\", domainNameSystem);\n  });\n\n  return axios.post(BASE_URL + '/api/v1/bulk/cron/', formData);\n};\n\nexport const handleAction = uri => {\n  return axios.get(BASE_URL + uri, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const addCronJob = data => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(BASE_URL + cronAddApiUri, formDataObject);\n}\n\nexport const getCronJobInfo = job => {\n  return axios.get(BASE_URL + jobInfoUri, {\n    params: {\n      job,\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const updateCronJob = (data, job) => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(BASE_URL + updateCronJobUri, formDataObject, {\n    params: {\n      job,\n      token: getAuthToken()\n    }\n  });\n}","export const generatorOptions = i18n => {\n  return {\n    minutesRunCommandsOptions: [\n      { name: i18n['every minute'] ?? 'every minute', value: '*' },\n      { name: i18n['every two minutes'] ?? 'every two minutes', value: '*/2' },\n      { name: `${i18n.every || 'every'} 5`, value: '*/5' },\n      { name: `${i18n.every || 'every'} 10`, value: '*/10' },\n      { name: `${i18n.every || 'every'} 15`, value: '*/15' },\n      { name: `${i18n.every || 'every'} 30`, value: '*/30' }\n    ],\n    hoursRunCommandsOptions: [\n      { name: i18n['every hour'] ?? 'every hour', value: '*' },\n      { name: i18n['every two hours'] ?? 'every two hours', value: '*/2' },\n      { name: `${i18n.every || 'every'} 6`, value: '*/6' },\n      { name: `${i18n.every || 'every'} 12`, value: '*/12' }\n    ],\n    daysRunCommandsOptions: [\n      { name: i18n['every day'] ?? 'every day', value: '*' },\n      { name: i18n['every odd day'] ?? 'every odd day', value: '1-31/2' },\n      { name: i18n['every even day'] ?? 'every even day', value: '*/2' },\n      { name: `${i18n.every || 'every'} 3`, value: '*/3' },\n      { name: `${i18n.every || 'every'} 5`, value: '*/5' },\n      { name: `${i18n.every || 'every'} 10`, value: '*/10' },\n      { name: `${i18n.every || 'every'} 15`, value: '*/15' }\n    ],\n    hoursOptions: [\n      { name: '00', value: '0' },\n      { name: '01', value: '1' },\n      { name: '02', value: '2' },\n      { name: '03', value: '3' },\n      { name: '04', value: '4' },\n      { name: '05', value: '5' },\n      { name: '06', value: '6' },\n      { name: '07', value: '7' },\n      { name: '08', value: '8' },\n      { name: '09', value: '9' },\n      { name: '10', value: '10' },\n      { name: '11', value: '11' },\n      { name: '12', value: '12' },\n      { name: '13', value: '13' },\n      { name: '14', value: '14' },\n      { name: '15', value: '15' },\n      { name: '16', value: '16' },\n      { name: '17', value: '17' },\n      { name: '18', value: '18' },\n      { name: '19', value: '19' },\n      { name: '20', value: '20' },\n      { name: '21', value: '21' },\n      { name: '22', value: '22' },\n      { name: '23', value: '23' }\n    ],\n    hourlyMinutesOptions: [\n      { name: '00', value: '0' },\n      { name: '15', value: '15' },\n      { name: '30', value: '30' },\n      { name: '45', value: '45' }\n    ],\n    dailyMinutesOptions: [\n      { name: '00', value: '0' },\n      { name: '01', value: '1' },\n      { name: '02', value: '2' },\n      { name: '05', value: '5' },\n      { name: '10', value: '10' },\n      { name: '15', value: '15' },\n      { name: '20', value: '20' },\n      { name: '25', value: '25' },\n      { name: '30', value: '30' },\n      { name: '35', value: '35' },\n      { name: '40', value: '40' },\n      { name: '45', value: '45' },\n      { name: '50', value: '50' },\n      { name: '55', value: '55' }\n    ],\n    weeklyRunCommandOptions: [\n      { name: i18n['every day'] ?? 'every day', value: '*' },\n      { name: i18n['weekdays (5 days)'] ?? 'weekdays (5 days)', value: '1,2,3,4,5' },\n      { name: i18n['weekend (2 days)'] ?? 'weekend (2 days)', value: '0,6' },\n      { name: i18n.Monday ?? 'Monday', value: '1' },\n      { name: i18n.Tuesday ?? 'Tuesday', value: '2' },\n      { name: i18n.Wednesday ?? 'Wednesday', value: '3' },\n      { name: i18n.Thursday ?? 'Thursday', value: '4' },\n      { name: i18n.Friday ?? 'Friday', value: '5' },\n      { name: i18n.Saturday ?? 'Saturday', value: '6' },\n      { name: i18n.Sunday ?? 'Sunday', value: '0' }\n    ],\n    monthlyRunCommandOptions: [\n      { name: i18n['every month'] ?? 'every month', value: '*' },\n      { name: i18n['every odd month'] ?? 'every odd month', value: '1-11/2' },\n      { name: i18n['every even month'] ?? 'every even month', value: '*/2' },\n      { name: `${i18n.every || 'every'} 3`, value: '*/3' },\n      { name: `${i18n.every || 'every'} 6`, value: '*/6' },\n      { name: i18n.Jan ?? 'Jan', value: '1' },\n      { name: i18n.Feb ?? 'Feb', value: '2' },\n      { name: i18n.Mar ?? 'Mar', value: '3' },\n      { name: i18n.Apr ?? 'Apr', value: '4' },\n      { name: i18n.May ?? 'May', value: '5' },\n      { name: i18n.Jun ?? 'Jun', value: '6' },\n      { name: i18n.Jul ?? 'Jul', value: '7' },\n      { name: i18n.Aug ?? 'Aug', value: '8' },\n      { name: i18n.Sep ?? 'Sep', value: '9' },\n      { name: i18n.Oct ?? 'Oct', value: '10' },\n      { name: i18n.Nov ?? 'Nov', value: '11' },\n      { name: i18n.Dec ?? 'Dec', value: '12' }\n    ],\n    dateOptions: [\n      { name: '1', value: '1' },\n      { name: '2', value: '2' },\n      { name: '3', value: '3' },\n      { name: '4', value: '4' },\n      { name: '5', value: '5' },\n      { name: '6', value: '6' },\n      { name: '7', value: '7' },\n      { name: '8', value: '8' },\n      { name: '9', value: '9' },\n      { name: '10', value: '10' },\n      { name: '11', value: '11' },\n      { name: '12', value: '12' },\n      { name: '13', value: '13' },\n      { name: '14', value: '14' },\n      { name: '15', value: '15' },\n      { name: '16', value: '16' },\n      { name: '17', value: '17' },\n      { name: '18', value: '18' },\n      { name: '19', value: '19' },\n      { name: '20', value: '20' },\n      { name: '21', value: '21' },\n      { name: '22', value: '22' },\n      { name: '23', value: '23' },\n      { name: '24', value: '24' },\n      { name: '25', value: '25' },\n      { name: '26', value: '26' },\n      { name: '27', value: '27' },\n      { name: '28', value: '28' },\n      { name: '29', value: '29' },\n      { name: '30', value: '30' },\n      { name: '31', value: '31' }\n    ]\n  }\n}\n","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { generatorOptions } from '../../../../ControlPanelService/GeneratorOptions';\n\nconst RunCommandSelect = props => {\n  const { i18n } = useSelector(state => state.session);\n\n  const [state, setState] = useState({\n    activeTab: ''\n  });\n\n  useEffect(() => {\n    setState({ ...state, activeTab: props.activeTab });\n  }, [props]);\n\n  const renderOptions = () => {\n    const { daysRunCommandsOptions, hoursRunCommandsOptions, minutesRunCommandsOptions, monthlyRunCommandOptions, weeklyRunCommandOptions } = generatorOptions(i18n);\n\n    switch (state.activeTab) {\n      case '1': return minutesRunCommandsOptions.map(option => <option value={option.value}>{option.name}</option>);\n      case '2': return hoursRunCommandsOptions.map(option => <option value={option.value}>{option.name}</option>);\n      case '3': return daysRunCommandsOptions.map(option => <option value={option.value}>{option.name}</option>);\n      case '4': return weeklyRunCommandOptions.map(option => <option value={option.value}>{option.name}</option>);\n      case '5': return monthlyRunCommandOptions.map(option => <option value={option.value}>{option.name}</option>);\n      default: break;\n    }\n  }\n\n  const selectName = () => {\n    switch (state.activeTab) {\n      case '1': return 'h_min';\n      case '2': return 'h_hour';\n      case '3': return 'h_day';\n      case '4': return 'h_wday';\n      case '5': return 'h_month';\n      default: break;\n    }\n  }\n\n  return (\n    <div class=\"form-group run-command\">\n      <label htmlFor=\"run-command\">{i18n['Run Command']}:</label>\n      <select className=\"form-control\" name={selectName()}>\n        {renderOptions()}\n      </select>\n    </div >\n  );\n}\n\nexport default RunCommandSelect;","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { generatorOptions } from '../../../../ControlPanelService/GeneratorOptions';\n\nexport default function SecondTabSelects() {\n  const { i18n } = useSelector(state => state.session);\n  const { hourlyMinutesOptions } = generatorOptions(i18n);\n\n  const renderOptions = () => {\n    return hourlyMinutesOptions.map((option, index) => <option key={index} value={option.value}>{option.name}</option>);\n  }\n\n  return (\n    <div className='second-tab-selects'>\n      <input type=\"hidden\" name=\"h_day\" value=\"*\" />\n      <input type=\"hidden\" name=\"h_month\" value=\"*\" />\n      <input type=\"hidden\" name=\"h_wday\" value=\"*\" />\n\n      <div className=\"form-group minute\">\n        <label htmlFor=\"run-command\">{i18n.Minute ?? 'Minute'}:</label>\n        <select className=\"form-control\" name=\"h_min\">\n          {renderOptions()}\n        </select>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { generatorOptions } from '../../../../ControlPanelService/GeneratorOptions';\n\nexport default function ThirdTabSelects() {\n  const { i18n } = useSelector(state => state.session);\n  const { dailyMinutesOptions, hoursOptions } = generatorOptions(i18n);\n\n  const renderHours = () => {\n    return hoursOptions.map((option, index) => <option key={index} value={option.value}>{option.name}</option>);\n  }\n\n  const renderOptions = () => {\n    return dailyMinutesOptions.map((option, index) => <option key={index} value={option.value}>{option.name}</option>);\n  }\n\n  return (\n    <div className='third-tab-selects'>\n      <input type=\"hidden\" name=\"h_month\" value=\"*\" />\n      <input type=\"hidden\" name=\"h_wday\" value=\"*\" />\n\n      <div className=\"form-group hour\">\n        <label htmlFor=\"run-command\">{i18n.Hour ?? 'Hour'}:</label>\n        <select className=\"form-control\" name=\"h_hour\">\n          {renderHours()}\n        </select>\n      </div>\n\n      <div className=\"form-group minute\">\n        <label htmlFor=\"run-command\">{i18n.Minute ?? 'Minute'}:</label>\n        <select className=\"form-control\" name=\"h_min\">\n          {renderOptions()}\n        </select>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { generatorOptions } from '../../../../ControlPanelService/GeneratorOptions';\n\nexport default function FourthTabSelects() {\n  const { i18n } = useSelector(state => state.session);\n  const { dailyMinutesOptions, hoursOptions } = generatorOptions(i18n);\n\n  const renderHours = () => {\n    return hoursOptions.map((option, index) => <option key={index} value={option.value}>{option.name}</option>);\n  }\n\n  const renderMinutes = () => {\n    return dailyMinutesOptions.map((option, index) => <option key={index} value={option.value}>{option.name}</option>);\n  }\n\n  return (\n    <div className='fourth-tab-selects'>\n      <input type=\"hidden\" name=\"h_month\" value=\"*\" />\n      <input type=\"hidden\" name=\"h_day\" value=\"*\" />\n\n      <div className=\"form-group hour\">\n        <label htmlFor=\"run-command\">{i18n.Hour ?? 'Hour'}:</label>\n        <select className=\"form-control\" name=\"h_hour\">\n          {renderHours()}\n        </select>\n      </div>\n\n      <div className=\"form-group minute\">\n        <label htmlFor=\"run-command\">{i18n.Minute ?? 'Minute'}:</label>\n        <select className=\"form-control\" name=\"h_min\">\n          {renderMinutes()}\n        </select>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { generatorOptions } from '../../../../ControlPanelService/GeneratorOptions';\n\nexport default function FifthTabSelects() {\n  const { i18n } = useSelector(state => state.session);\n  const { dailyMinutesOptions, hoursOptions, dateOptions } = generatorOptions(i18n);\n\n  const renderDate = () => {\n    return dateOptions.map((option, index) => <option key={index} value={option.value}>{option.name}</option>);\n  }\n\n  const renderHours = () => {\n    return hoursOptions.map((option, index) => <option key={index} value={option.value}>{option.name}</option>);\n  }\n\n  const renderMinutes = () => {\n    return dailyMinutesOptions.map((option, index) => <option key={index} value={option.value}>{option.name}</option>);\n  }\n\n  return (\n    <div className='fifth-tab-selects'>\n      <input type=\"hidden\" name=\"h_wday\" value=\"*\" />\n\n      <div className=\"form-group date\">\n        <label htmlFor=\"run-command\">{i18n.Date ?? 'Date'}:</label>\n        <select className=\"form-control\" name=\"h_day\">\n          {renderDate()}\n        </select>\n      </div>\n\n      <div className=\"form-group hour\">\n        <label htmlFor=\"run-command\">{i18n.Hour ?? 'Hour'}:</label>\n        <select className=\"form-control\" name=\"h_hour\">\n          {renderHours()}\n        </select>\n      </div>\n\n      <div className=\"form-group minute\">\n        <label htmlFor=\"run-command\">{i18n.Minute ?? 'Minute'}:</label>\n        <select className=\"form-control\" name=\"h_min\">\n          {renderMinutes()}\n        </select>\n      </div>\n    </div>\n  );\n}","import React, { useEffect, useState } from 'react';\n\nimport SecondTabSelects from './SecondTabSelects';\nimport ThirdTabSelects from './ThirdTabSelects';\nimport FourthTabSelects from './FourthTabSelects';\nimport FifthTabSelects from './FifthTabSelects';\n\nimport './SelectsWrapper.scss';\n\nconst OtherSelects = props => {\n  const [state, setState] = useState({\n    activeTab: ''\n  });\n\n  useEffect(() => {\n    setState({ ...state, activeTab: props.activeTab });\n  }, [props.activeTab]);\n\n  const renderSelects = () => {\n    switch (state.activeTab) {\n      case '1': return (\n        <div>\n          <input type=\"hidden\" name=\"h_hour\" value=\"*\" />\n          <input type=\"hidden\" name=\"h_day\" value=\"*\" />\n          <input type=\"hidden\" name=\"h_month\" value=\"*\" />\n          <input type=\"hidden\" name=\"h_wday\" value=\"*\" />\n        </div>\n      )\n      case '2': return <SecondTabSelects />;\n      case '3': return <ThirdTabSelects />;\n      case '4': return <FourthTabSelects />;\n      case '5': return <FifthTabSelects />;\n      default: break;\n    }\n  }\n\n  return (\n    <div className={`tab-${state.activeTab}`}>\n      {renderSelects()}\n    </div>\n  );\n}\n\nexport default OtherSelects;\n","import React, { useEffect, useRef, useState } from 'react';\n\nimport RunCommandSelect from './RunCommandSelect/RunCommandSelect';\nimport SelectsWrapper from './OtherSelects/SelectsWrapper';\nimport { Link, useHistory } from 'react-router-dom';\nimport QS from 'qs';\n\nimport './Generator.scss';\nimport { useSelector } from 'react-redux';\n\nconst Generator = props => {\n  const formElement = useRef(null);\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const [state, setState] = useState({\n    activeTab: '1'\n  });\n\n  useEffect(() => {\n    let parsedQuery = QS.parse(history.location.search, { ignoreQueryPrefix: true });\n    let activeTab = parsedQuery.activeTab || '1';\n\n    setState({ ...state, activeTab });\n  }, [history.location.search]);\n\n  const activeClassName = tab => {\n    return state.activeTab === tab ? 'active' : '';\n  }\n\n  const emulateFormSubmit = () => {\n    let generatedCronJob = {};\n\n    for (let i = 0; i <= 4; i++) {\n      let iterableFormElement = formElement.current[i];\n\n      generatedCronJob[iterableFormElement.name] = iterableFormElement.value;\n    }\n\n    props.generatedCronJob(generatedCronJob);\n  }\n\n  const formatLink = tab => {\n    const { job, mode } = props;\n\n    return `/${mode}/cron/?${!!job ? `job=${job}&` : ''}activeTab=${tab}`;\n  }\n\n  return (\n    <div className=\"cron-job-generator\">\n      <div className=\"header\">\n        <Link to={formatLink('1')} className={activeClassName('1')}>{i18n.Minutes}</Link>\n        <Link to={formatLink('2')} className={activeClassName('2')}>{i18n.Hourly}</Link>\n        <Link to={formatLink('3')} className={activeClassName('3')}>{i18n.Daily}</Link>\n        <Link to={formatLink('4')} className={activeClassName('4')}>{i18n.Weekly}</Link>\n        <Link to={formatLink('5')} className={activeClassName('5')}>{i18n.Monthly}</Link>\n      </div>\n\n      <div className=\"body\">\n\n        <form ref={formElement}>\n          <RunCommandSelect activeTab={state.activeTab} />\n\n          <SelectsWrapper activeTab={state.activeTab} />\n\n          <div className=\"form-actions\">\n            <button type=\"button\" onClick={emulateFormSubmit}>{i18n.Generate}</button>\n          </div>\n        </form>\n\n      </div>\n    </div>\n  );\n}\n\nexport default Generator;","import React, { useEffect, useState } from 'react';\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport TextInput from '../../ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport { getCronJobInfo, updateCronJob } from '../../../ControlPanelService/Cron';\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Spinner from '../../../components/Spinner/Spinner';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport Generator from '../Generator/Generator';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport QS from 'qs';\n\nimport './EditCronJob.scss';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport HtmlParser from 'react-html-parser';\n\nconst EditMail = props => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [okMessage, setOkMessage] = useState('');\n  const [state, setState] = useState({\n    data: {},\n    loading: false,\n    generatedCronJob: {\n      h_min: '*',\n      h_hour: '*',\n      h_day: '*',\n      h_wday: '*',\n      h_month: '*'\n    }\n  });\n\n  useEffect(() => {\n    let queryParams = QS.parse(history.location.search, { ignoreQueryPrefix: true });\n    const { job } = queryParams;\n\n    dispatch(addActiveElement('/list/cron/'));\n    dispatch(removeFocusedElement());\n\n    if (job) {\n      setState({ ...state, loading: true });\n      fetchData(job)\n    }\n  }, []);\n\n  const fetchData = job => {\n    getCronJobInfo(job)\n      .then(response => {\n        setState({\n          ...state,\n          generatedCronJob: {\n            ...state.generatedCronJob,\n            h_min: response.data.min,\n            h_hour: response.data.hour,\n            h_day: response.data.day,\n            h_wday: response.data.wday,\n            h_month: response.data.month\n          },\n          data: response.data,\n          loading: false\n        });\n      })\n      .catch(err => {\n        setState({ ...state, loading: false });\n        console.error(err);\n      });\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let updatedJob = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      updatedJob[name] = value;\n    }\n\n    if (Object.keys(updatedJob).length !== 0 && updatedJob.constructor === Object) {\n      setState({ ...state, loading: true });\n\n      updateCronJob(updatedJob, state.data.job)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg, ok_msg } = result.data;\n\n            if (error_msg) {\n              setOkMessage('');\n              setErrorMessage(error_msg);\n            } else {\n              dispatch(refreshCounters()).then(() => {\n                setOkMessage(ok_msg);\n                setErrorMessage('');\n              });\n            }\n          }\n        })\n        .then(() => fetchData(state.data.job))\n        .catch(err => console.error(err));\n    }\n  }\n\n  const saveGeneratedCronJob = generatedCronJob => {\n    setState({\n      ...state,\n      generatedCronJob\n    });\n  }\n\n  const changeInput = input => {\n    let updatedGeneratedCronJob = {\n      ...state.generatedCronJob,\n      [input.id]: input.value\n    };\n\n    setState({\n      ...state,\n      generatedCronJob: updatedGeneratedCronJob\n    });\n  }\n\n  return (\n    <div className=\"edit-template edit-cron\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.CRON}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Editing Cron Job']}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {errorMessage}\n          </span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout date={state.data.date} time={state.data.time} status={state.data.status}>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"edit-cron\">\n            <input type=\"hidden\" name=\"save\" value=\"save\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            <TextInput id=\"command\" name=\"v_cmd\" title={i18n['Command']} value={state.data.cmd} />\n\n            <div className=\"cron-form-body\">\n\n              <div className=\"body-col-1\">\n                <TextInput\n                  value={state.generatedCronJob.h_min}\n                  onChange={changeInput}\n                  title={i18n['Minute']}\n                  name=\"v_min\"\n                  id=\"h_min\" />\n\n                <TextInput\n                  value={state.generatedCronJob.h_hour}\n                  onChange={changeInput}\n                  title={i18n['Hour']}\n                  name=\"v_hour\"\n                  id=\"h_hour\" />\n\n                <TextInput\n                  value={state.generatedCronJob.h_day}\n                  onChange={changeInput}\n                  title={i18n['Day']}\n                  name=\"v_day\"\n                  id=\"h_day\" />\n\n                <TextInput\n                  value={state.generatedCronJob.h_month}\n                  onChange={changeInput}\n                  title={i18n['Month']}\n                  name=\"v_month\"\n                  id=\"h_month\" />\n\n                <TextInput\n                  value={state.generatedCronJob.h_wday}\n                  title={i18n['Day of week']}\n                  onChange={changeInput}\n                  name=\"v_wday\"\n                  id=\"h_wday\" />\n              </div>\n\n              <div className=\"body-col-2\">\n                <Generator mode=\"edit\" job={state.data.job} generatedCronJob={saveGeneratedCronJob} />\n              </div>\n\n            </div>\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Save}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/cron/')}>{i18n.Back}</button>\n            </div>\n\n          </form>\n        }\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default EditMail;","import React, { useEffect, useState } from 'react';\n\nconst TextInputWithExtraButton = props => {\n  const [state, setState] = useState({\n    value: '',\n    previousValue: ''\n  });\n\n  useEffect(() => {\n    setState({ ...state, value: props.value });\n  }, [props.value]);\n\n  useEffect(() => {\n    setState({ ...state, value: props.value, previousValue: props.value });\n  }, []);\n\n  const changeValue = event => {\n    let inputValue = event.target.value;\n\n    setState({ ...state, value: inputValue, previousValue: inputValue });\n  }\n\n  return (\n    <div class=\"form-group\">\n      <label className=\"label-wrapper\" htmlFor={props.id}>\n        {props.title}\n        <span className=\"lowercase\">{props.optionalTitle ? `(${props.optionalTitle})` : ''}</span>\n      </label>\n      <div className=\"input-wrapper\">\n        <input\n          type=\"text\"\n          name={props.name}\n          id={props.id}\n          className=\"form-control\"\n          onChange={changeValue}\n          value={state.value}\n          readOnly={state.value === 'unlimited'} />\n        {props.children}\n      </div>\n    </div>\n  );\n}\n\nexport default TextInputWithExtraButton;","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nconst NameServers = props => {\n  const { i18n } = useSelector(state => state.session);\n  const [state, setState] = useState({\n    nameServersAmount: [],\n    usersNS: []\n  });\n\n  useEffect(() => {\n    if (props.usersNS) {\n      let initNameServersAmount = props.usersNS.map((userNS, index) => index + 1);\n      setState({ ...state, usersNS: props.usersNS, nameServersAmount: initNameServersAmount });\n    }\n  }, [props.usersNS]);\n\n  const renderNameServerInputs = () => {\n    return state.nameServersAmount.map((nameServer, index) => {\n      if (nameServer < 9) {\n        return (\n          <div className=\"name-server-input-wrapper\" key={index}>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id={`v_ns${index + 1}`}\n              defaultValue={state.usersNS[index] || ''}\n              name={`v_ns${index + 1}`} />\n            <button\n              type=\"button\"\n              className={index < 2 ? 'hide' : 'show delete'}\n              onClick={() => onDeleteNameServer(index)}>\n              {i18n.delete ?? 'Delete'}\n            </button>\n          </div>\n        );\n      }\n    });\n  }\n\n  const addNameServerClassName = () => {\n    return state.nameServersAmount.length === 8 ? 'hide' : 'show optional';\n  }\n\n  const addNameServer = () => {\n    let nameServersLength = state.nameServersAmount.length;\n    let nameServersDuplicate = [...state.nameServersAmount];\n\n    nameServersDuplicate.push(nameServersLength + 1);\n\n    setState({ ...state, nameServersAmount: nameServersDuplicate });\n  }\n\n  const onDeleteNameServer = index => {\n    let nameServersDuplicate = [...state.nameServersAmount];\n\n    nameServersDuplicate.splice(index - 1, 1);\n\n    setState({ ...state, nameServersAmount: nameServersDuplicate });\n  }\n\n  return (\n    <>\n      <div className=\"form-group name-servers\">\n        <label htmlFor=\"v_ns1\">{i18n['Name servers'] ?? 'Name servers'}</label>\n        {renderNameServerInputs()}\n      </div>\n\n      <button\n        type=\"button\"\n        className={addNameServerClassName()}\n        onClick={() => addNameServer()}>\n        {i18n['Add one more Name Server'] ?? 'Add one more Name Server'}\n      </button>\n    </>\n  );\n}\n\nexport default NameServers;","import axios from \"axios\";\nimport { getAuthToken } from \"src/utils/token\";\n\nconst BASE_URL = window.location.origin;\nconst webApiUri = '/api/v1/list/package/index.php';\nconst additionalPackageInfoUri = '/api/v1/add/package/index.php';\nconst addPackageUri = '/api/v1/add/package/index.php';\nconst packageInfoUri = '/api/v1/edit/package/index.php';\nconst updatePackageUri = '/api/v1/edit/package/index.php';\n\nexport const getPackageList = () => {\n  return axios.get(BASE_URL + webApiUri);\n}\n\nexport const bulkAction = (action, backups) => {\n  const formData = new FormData();\n  formData.append(\"action\", action);\n  formData.append(\"token\", getAuthToken());\n\n  backups.forEach(backup => {\n    formData.append(\"package[]\", backup);\n  });\n\n  return axios.post(BASE_URL + '/api/v1/bulk/package/', formData);\n};\n\nexport const handleAction = uri => {\n  return axios.get(BASE_URL + uri, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const addPackage = data => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(BASE_URL + addPackageUri, formDataObject);\n}\n\nexport const getAdditionalPackageInfo = () => {\n  return axios.get(BASE_URL + additionalPackageInfoUri);\n}\n\nexport const getPackageInfo = item => {\n  return axios.get(BASE_URL + packageInfoUri, {\n    params: {\n      package: item,\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const updatePackage = (data, item) => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(BASE_URL + updatePackageUri, formDataObject, {\n    params: {\n      package: item\n    }\n  });\n}\n","import React, { useEffect, useState } from 'react';\n\nimport TextInputWithExtraButton from '../../ControlPanel/AddItemLayout/Form/TextInputWithExtraButton/TextInputWithExtraButton';\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport SelectInput from '../../ControlPanel/AddItemLayout/Form/SelectInput/SelectInput';\nimport NameServers from '../../ControlPanel/AddItemLayout/Form/NameServers/NameServers';\nimport { getPackageInfo, updatePackage } from '../../../ControlPanelService/Package';\nimport TextInput from '../../ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Spinner from '../../../components/Spinner/Spinner';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport QS from 'qs';\n\nimport './EditPackage.scss';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport HtmlParser from 'react-html-parser';\n\nconst EditPackage = props => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [okMessage, setOkMessage] = useState('');\n  const [state, setState] = useState({\n    data: {},\n    loading: false\n  });\n\n  useEffect(() => {\n    let queryParams = QS.parse(history.location.search, { ignoreQueryPrefix: true });\n\n    dispatch(addActiveElement('/list/package/'));\n    dispatch(removeFocusedElement());\n\n    if (queryParams.package) {\n      setState({ ...state, loading: true });\n      fetchData(queryParams.package);\n    }\n  }, []);\n\n  const fetchData = pkg => {\n    getPackageInfo(pkg)\n      .then(response => {\n        setState({\n          ...state,\n          data: response.data,\n          loading: false\n        });\n      })\n      .catch(err => {\n        setState({ ...state, loading: false });\n        console.error(err);\n      });\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let updatedPackage = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      updatedPackage[name] = value;\n    }\n\n    updatedPackage['token'] = token;\n    updatedPackage['save'] = 'save';\n    updatedPackage['v_package'] = state.data.package;\n\n    if (Object.keys(updatedPackage).length !== 0 && updatedPackage.constructor === Object) {\n      setState({ ...state, loading: true });\n\n      updatePackage(updatedPackage, state.data.package)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg, ok_msg } = result.data;\n\n            if (error_msg) {\n              setErrorMessage(error_msg);\n              setOkMessage('');\n            } else {\n              dispatch(refreshCounters()).then(() => {\n                setErrorMessage('');\n                setOkMessage(ok_msg);\n              });\n            }\n          }\n        })\n        .then(() => fetchData(state.data.package))\n        .catch(err => console.error(err));\n    }\n  }\n\n  const toggleUnlimited = inputName => {\n    let inputNameToUpdate = state.data[inputName];\n    let defaultValue;\n\n    if (inputName === 'quota' || inputName === 'bandwidth') {\n      defaultValue = '1000';\n    } else {\n      defaultValue = '1';\n    }\n\n    setState({\n      ...state,\n      data: {\n        ...state.data,\n        [inputName]: inputNameToUpdate !== 'unlimited' ? 'unlimited' : defaultValue\n      }\n    });\n  }\n\n  return (\n    <div className=\"edit-template edit-package\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.PACKAGE}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Editing Package']}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {errorMessage}\n          </span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout date={state.data.date} time={state.data.time} status={state.data.status}>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={submitFormHandler} id=\"edit-package\">\n            <TextInput\n              id=\"domain\"\n              name=\"v_domain\"\n              title={i18n['Package Name']}\n              value={state.data.package}\n              disabled />\n\n            <SelectInput\n              optionalTitle={state.data.web_system}\n              options={state.data.web_templates}\n              selected={state.data.web_template}\n              title={i18n['Web Template']}\n              name=\"v_web_template\"\n              id=\"web-templates\" />\n\n            {\n              state.data.web_backend && (\n                <SelectInput\n                  optionalTitle={state.data.web_backend}\n                  options={state.data.backend_templates}\n                  selected={state.data.backend_template}\n                  title={i18n['Backend Template']}\n                  name=\"v_backend_template\"\n                  id=\"backend-templates\" />\n              )\n            }\n\n            {\n              state.data.proxy_system && (\n                <SelectInput\n                  optionalTitle={state.data.proxy_system}\n                  options={state.data.proxy_templates}\n                  selected={state.data.proxy_template}\n                  title={i18n['Proxy Template']}\n                  name=\"v_proxy_template\"\n                  id=\"proxy-templates\" />\n              )\n            }\n\n            {\n              state.data.dns_system && (\n                <SelectInput\n                  optionalTitle={state.data.dns_system}\n                  options={state.data.dns_templates}\n                  selected={state.data.dns_template}\n                  title={i18n['DNS Template']}\n                  name=\"v_dns_template\"\n                  id=\"dns-templates\" />\n              )\n            }\n\n            <SelectInput\n              options={state.data.shells}\n              selected={state.data.shell}\n              title={i18n['SSH Access']}\n              name=\"v_shell\"\n              id=\"ssh-access\" />\n\n            <TextInputWithExtraButton\n              title={i18n['Web Domains']}\n              id=\"webDomains\"\n              name=\"v_web_domains\"\n              value={state.data.web_domains}>\n              <button type=\"button\" onClick={() => toggleUnlimited('web_domains')}>\n                <FontAwesomeIcon icon=\"infinity\" />\n              </button>\n            </TextInputWithExtraButton>\n\n            <TextInputWithExtraButton\n              title={i18n['Web Aliases']}\n              optionalTitle={i18n['per domain']}\n              id=\"webAliases\"\n              name=\"v_web_aliases\"\n              value={state.data.web_aliases}>\n              <button type=\"button\" onClick={() => toggleUnlimited('web_aliases')}>\n                <FontAwesomeIcon icon=\"infinity\" />\n              </button>\n            </TextInputWithExtraButton>\n\n            <TextInputWithExtraButton\n              title={i18n['DNS Domains']}\n              id=\"dnsDomains\"\n              name=\"v_dns_domains\"\n              value={state.data.dns_domains}>\n              <button type=\"button\" onClick={() => toggleUnlimited('dns_domains')}>\n                <FontAwesomeIcon icon=\"infinity\" />\n              </button>\n            </TextInputWithExtraButton>\n\n            <TextInputWithExtraButton\n              title={i18n['DNS records']}\n              optionalTitle={i18n['per domain']}\n              id=\"dnsRecords\"\n              name=\"v_dns_records\"\n              value={state.data.dns_records}>\n              <button type=\"button\" onClick={() => toggleUnlimited('dns_records')}>\n                <FontAwesomeIcon icon=\"infinity\" />\n              </button>\n            </TextInputWithExtraButton>\n\n            <TextInputWithExtraButton\n              title={i18n['Mail Domains']}\n              id=\"mailDomains\"\n              name=\"v_mail_domains\"\n              value={state.data.mail_domains}>\n              <button type=\"button\" onClick={() => toggleUnlimited('mail_domains')}>\n                <FontAwesomeIcon icon=\"infinity\" />\n              </button>\n            </TextInputWithExtraButton>\n\n            <TextInputWithExtraButton\n              title={i18n['Mail Accounts']}\n              optionalTitle={i18n['per domain']}\n              id=\"mailAccounts\"\n              name=\"v_mail_accounts\"\n              value={state.data.mail_accounts}>\n              <button type=\"button\" onClick={() => toggleUnlimited('mail_accounts')}>\n                <FontAwesomeIcon icon=\"infinity\" />\n              </button>\n            </TextInputWithExtraButton>\n\n            <TextInputWithExtraButton\n              title={i18n['Databases']}\n              id=\"databases\"\n              name=\"v_databases\"\n              value={state.data.databases}>\n              <button type=\"button\" onClick={() => toggleUnlimited('databases')}>\n                <FontAwesomeIcon icon=\"infinity\" />\n              </button>\n            </TextInputWithExtraButton>\n\n            <TextInputWithExtraButton\n              title={i18n['Cron Jobs']}\n              id=\"cronJobs\"\n              name=\"v_cron_jobs\"\n              value={state.data.cron_jobs}>\n              <button type=\"button\" onClick={() => toggleUnlimited('cron_jobs')}>\n                <FontAwesomeIcon icon=\"infinity\" />\n              </button>\n            </TextInputWithExtraButton>\n\n            <TextInput name=\"v_backups\" id=\"backups\" value={state.data.backups} title={i18n['Backups']} />\n\n            <TextInputWithExtraButton\n              title={i18n['Quota']}\n              optionalTitle={i18n['in megabytes']}\n              id=\"quota\"\n              name=\"v_disk_quota\"\n              value={state.data.disk_quota}>\n              <button type=\"button\" onClick={() => toggleUnlimited('disk_quota')}>\n                <FontAwesomeIcon icon=\"infinity\" />\n              </button>\n            </TextInputWithExtraButton>\n\n            <TextInputWithExtraButton\n              title={i18n['Bandwidth']}\n              optionalTitle={i18n['in megabytes']}\n              id=\"bandwidth\"\n              name=\"v_bandwidth\"\n              value={state.data.bandwidth}>\n              <button type=\"button\" onClick={() => toggleUnlimited('bandwidth')}>\n                <FontAwesomeIcon icon=\"infinity\" />\n              </button>\n            </TextInputWithExtraButton>\n\n            <NameServers usersNS={state.data.nameservers} />\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Save}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/package/')}>{i18n.Back}</button>\n            </div>\n\n          </form>\n        }\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default EditPackage;","import React, { useEffect, useState } from 'react';\nimport { addActiveElement, removeFocusedElement } from \"../../../../actions/MainNavigation/mainNavigationActions\";\nimport Checkbox from '../../../ControlPanel/AddItemLayout/Form/Checkbox/Checkbox';\nimport TextArea from '../../../ControlPanel/AddItemLayout/Form/TextArea/TextArea';\nimport AddItemLayout from '../../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { getServiceInfo, updateService } from 'src/ControlPanelService/Server';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Spinner from '../../../../components/Spinner/Spinner';\nimport Toolbar from '../../../MainNav/Toolbar/Toolbar';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './EditHttpd.scss';\nimport { Helmet } from 'react-helmet';\nimport HtmlParser from 'react-html-parser';\n\nconst EditHttpd = props => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [okMessage, setOkMessage] = useState('');\n  const [state, setState] = useState({\n    data: {},\n    loading: false,\n    errorMessage: '',\n    okMessage: ''\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/server/'));\n    dispatch(removeFocusedElement());\n\n    setState({ ...state, loading: true });\n    fetchData();\n  }, []);\n\n  const fetchData = () => {\n    getServiceInfo('httpd')\n      .then(response => {\n        setState({\n          ...state,\n          data: response.data,\n          loading: false\n        });\n      })\n      .catch(err => {\n        setState({ ...state, loading: false });\n        console.error(err);\n      });\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let updatedService = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      updatedService[name] = value;\n    }\n\n    if (Object.keys(updatedService).length !== 0 && updatedService.constructor === Object) {\n      setState({ ...state, loading: true });\n\n      updateService(updatedService, '/httpd')\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg, ok_msg } = result.data;\n\n            if (error_msg) {\n              setErrorMessage(error_msg);\n              setOkMessage('');\n            } else {\n              setErrorMessage('');\n              setOkMessage(ok_msg);\n            }\n          }\n        })\n        .then(() => fetchData())\n        .catch(err => console.error(err));\n    }\n  }\n\n  return (\n    <div className=\"edit-template edit-httpd\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.SERVER}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\"><Link to={`/edit/server/${state.data.service_name}`}>{i18n['Configuring Server']} / {state.data.service_name}</Link></div>\n        <div className=\"link\"><Link to=\"/edit/server/php\">{i18n['Configure']} php.ini</Link></div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {errorMessage}\n          </span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"edit-httpd\">\n            <input type=\"hidden\" name=\"save\" value=\"save\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            <TextArea\n              defaultValue={state.data.config}\n              title={state.data.config_path}\n              name=\"v_config\"\n              id=\"v_config\"\n              rows=\"25\" />\n\n            <br />\n\n            <Checkbox\n              title={i18n['restart']}\n              defaultChecked={true}\n              name=\"v_restart\"\n              id=\"restart\" />\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Save}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/server/')}>{i18n.Back}</button>\n            </div>\n\n          </form>\n        }\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default EditHttpd;","import React, { useEffect, useState } from 'react';\n\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { addCronJob } from '../../../ControlPanelService/Cron';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport Generator from '../Generator/Generator';\nimport { useHistory } from 'react-router-dom';\nimport Spinner from '../../Spinner/Spinner';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './AddCronJob.scss';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport HtmlParser from 'react-html-parser';\n\nconst AddCronJob = props => {\n  const { i18n } = useSelector(state => state.session);\n  const token = localStorage.getItem(\"token\");\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [state, setState] = useState({\n    loading: false,\n    okMessage: '',\n    errorMessage: '',\n    generatedCronJob: {\n      h_min: '*',\n      h_hour: '*',\n      h_day: '*',\n      h_wday: '*',\n      h_month: '*'\n    }\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/cron/'));\n    dispatch(removeFocusedElement());\n  }, []);\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let newCronJob = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      newCronJob[name] = value;\n    }\n\n    if (Object.keys(newCronJob).length !== 0 && newCronJob.constructor === Object) {\n      setState({ ...state, loading: true });\n      addCronJob(newCronJob)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg: errorMessage, ok_msg: okMessage } = result.data;\n\n            if (errorMessage) {\n              setState({ ...state, errorMessage, okMessage, loading: false });\n            } else {\n              dispatch(refreshCounters()).then(() => {\n                setState({ ...state, okMessage, errorMessage: '', loading: false });\n              });\n            }\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const saveGeneratedCronJob = generatedCronJob => {\n    setState({\n      ...state,\n      generatedCronJob\n    });\n  }\n\n  const changeInput = input => {\n    let updatedGeneratedCronJob = {\n      ...state.generatedCronJob,\n      [input.id]: input.value\n    };\n\n    setState({\n      ...state,\n      generatedCronJob: updatedGeneratedCronJob\n    });\n  }\n\n  return (\n    <div className=\"edit-template add-cron\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.CRON}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Adding Cron Job']}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {state.errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            {state.errorMessage}</span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {state.okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            <span>{HtmlParser(state.okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        {state.loading ? <Spinner /> : (\n          <form onSubmit={event => submitFormHandler(event)}>\n            <input type=\"hidden\" name=\"ok\" value=\"add\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            <div className=\"form-group command\">\n              <label htmlFor=\"command\">{i18n.Command ?? 'Command'}</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"command\"\n                name=\"v_cmd\" />\n            </div>\n\n            <div className=\"cron-form-body\">\n\n              <div className=\"body-col-1\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"h_min\">{i18n.Minute ?? 'Minute'}</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"h_min\"\n                    onChange={event => changeInput(event.target)}\n                    value={state.generatedCronJob.h_min}\n                    name=\"v_min\" />\n                </div>\n\n                <div className=\"form-group\">\n                  <label htmlFor=\"h_hour\">{i18n.Hour ?? 'Hour'}</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"h_hour\"\n                    onChange={event => changeInput(event.target)}\n                    value={state.generatedCronJob.h_hour}\n                    name=\"v_hour\" />\n                </div>\n\n                <div className=\"form-group\">\n                  <label htmlFor=\"h_day\">{i18n.Day ?? 'Day'}</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"h_day\"\n                    onChange={event => changeInput(event.target)}\n                    value={state.generatedCronJob.h_day}\n                    name=\"v_day\" />\n                </div>\n\n                <div className=\"form-group\">\n                  <label htmlFor=\"h_month\">{i18n.Month ?? 'Month'}</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"h_month\"\n                    onChange={event => changeInput(event.target)}\n                    value={state.generatedCronJob.h_month}\n                    name=\"v_month\" />\n                </div>\n\n                <div className=\"form-group\">\n                  <label htmlFor=\"h_wday\">{i18n['Day of week'] ?? 'Days of week'}</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"h_wday\"\n                    onChange={event => changeInput(event.target)}\n                    value={state.generatedCronJob.h_wday}\n                    name=\"v_wday\" />\n                </div>\n              </div>\n\n              <div className=\"body-col-2\">\n                <Generator mode=\"add\" generatedCronJob={saveGeneratedCronJob} />\n              </div>\n\n            </div>\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Add ?? 'Add'}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/cron/')}>{i18n.Back ?? 'Back'}</button>\n            </div>\n          </form>\n        )}\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default AddCronJob;","import React, { useEffect, useState } from 'react';\n\nimport TextInputWithExtraButton from '../../ControlPanel/AddItemLayout/Form/TextInputWithExtraButton/TextInputWithExtraButton';\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport { getAdditionalPackageInfo, addPackage } from '../../../ControlPanelService/Package';\nimport NameServers from '../../ControlPanel/AddItemLayout/Form/NameServers/NameServers';\nimport SelectInput from '../../ControlPanel/AddItemLayout/Form/SelectInput/SelectInput';\nimport TextInput from '../../ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport Spinner from '../../Spinner/Spinner';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './AddPackage.scss';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport HtmlParser from 'react-html-parser';\n\nconst AddPackage = props => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [state, setState] = useState({\n    loading: false,\n    okMessage: '',\n    errorMessage: '',\n    webTemplates: [],\n    webSystem: '',\n    backendTemplates: [],\n    backendSystem: '',\n    proxySystem: '',\n    proxyTemplates: [],\n    dnsTemplates: [],\n    dnsSystem: '',\n    sshTemplates: [],\n    usersNS: [],\n    webDomains: '1',\n    webAliases: '1',\n    dnsDomains: '1',\n    dnsRecords: '1',\n    mailDomains: '1',\n    mailAccounts: '1',\n    databases: '1',\n    cronJobs: '1',\n    quota: '1000',\n    bandwidth: '1000',\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/package/'));\n    dispatch(removeFocusedElement());\n\n    setState({ ...state, loading: true });\n\n    fetchData();\n  }, []);\n\n  const fetchData = () => {\n    getAdditionalPackageInfo()\n      .then(result => {\n        setState({\n          ...state,\n          webTemplates: result.data.web_templates,\n          webSystem: result.data.web_system,\n          backendTemplates: result.data.backend_templates,\n          backendSystem: result.data.web_backend,\n          dnsTemplates: result.data.dns_templates,\n          dnsSystem: result.data.dns_system,\n          proxySystem: result.data.proxy_system,\n          proxyTemplates: result.data.proxy_templates,\n          sshTemplates: result.data.ssh_access,\n          loading: false\n        });\n      })\n      .catch(err => console.err(err));\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let newPackage = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      newPackage[name] = value;\n    }\n\n    newPackage['token'] = token;\n    newPackage['ok'] = 'Add';\n\n    if (Object.keys(newPackage).length !== 0 && newPackage.constructor === Object) {\n      setState({ ...state, loading: true });\n      addPackage(newPackage)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg: errorMessage, ok_msg: okMessage } = result.data;\n\n            if (errorMessage) {\n              setState({ ...state, errorMessage, okMessage, loading: false });\n            } else {\n              dispatch(refreshCounters()).then(() => {\n                setState({ ...state, okMessage, errorMessage: '', loading: false });\n              });\n            }\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const toggleUnlimited = inputName => {\n    let inputNameToUpdate = state[inputName];\n    let defaultValue;\n\n    if (inputName === 'quota' || inputName === 'bandwidth') {\n      defaultValue = '1000';\n    } else {\n      defaultValue = '1';\n    }\n\n    if (inputNameToUpdate !== 'unlimited') {\n      setState({ ...state, [inputName]: 'unlimited' });\n    } else {\n      setState({ ...state, [inputName]: defaultValue });\n    }\n  }\n\n  return (\n    <div className=\"edit-template add-package\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.PACKAGE}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Adding Package']}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {state.errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            {state.errorMessage}</span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {state.okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            <span>{HtmlParser(state.okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        {state.loading ? <Spinner /> : (\n          <form onSubmit={event => submitFormHandler(event)}>\n            <TextInput name=\"v_package\" id=\"packageName\" title={i18n['Package Name']} />\n\n            <SelectInput\n              options={state.webTemplates}\n              name=\"v_web_template\"\n              id=\"webTemplates\"\n              title={i18n['Web Template']}\n              optionalTitle={state.webSystem} />\n\n            <SelectInput\n              options={state.backendTemplates}\n              name=\"v_backend_template\"\n              id=\"backendTemplates\"\n              title={i18n['Backend Template']}\n              optionalTitle={state.backendSystem} />\n\n            <SelectInput\n              options={state.proxyTemplates}\n              name=\"v_proxy_template\"\n              id=\"proxyTemplates\"\n              title={i18n['Proxy Template']}\n              optionalTitle={state.proxySystem} />\n\n            <SelectInput\n              options={state.dnsTemplates}\n              name=\"v_dns_template\"\n              id=\"dnsTemplates\"\n              title={i18n['DNS Template']}\n              optionalTitle={state.dnsSystem} />\n\n            <SelectInput\n              options={state.sshTemplates}\n              name=\"v_shell\"\n              id=\"shells\"\n              title={i18n['SSH Access']} />\n\n            <TextInputWithExtraButton title={i18n['Web Domains']} id=\"webDomains\" name=\"v_web_domains\" value={state.webDomains}>\n              <button type=\"button\" onClick={() => toggleUnlimited('webDomains')}>\n                <FontAwesomeIcon icon=\"infinity\" />\n              </button>\n            </TextInputWithExtraButton>\n\n            <TextInputWithExtraButton title={i18n['Web Aliases']} optionalTitle={i18n['per domain']} id=\"webAliases\" name=\"v_web_aliases\" value={state.webAliases}>\n              <button type=\"button\" onClick={() => toggleUnlimited('webAliases')}>\n                <FontAwesomeIcon icon=\"infinity\" />\n              </button>\n            </TextInputWithExtraButton>\n\n            <TextInputWithExtraButton title={i18n['DNS Domains']} id=\"dnsDomains\" name=\"v_dns_domains\" value={state.dnsDomains}>\n              <button type=\"button\" onClick={() => toggleUnlimited('dnsDomains')}>\n                <FontAwesomeIcon icon=\"infinity\" />\n              </button>\n            </TextInputWithExtraButton>\n\n            <TextInputWithExtraButton title={i18n['DNS records']} optionalTitle={i18n['per domain']} id=\"dnsRecords\" name=\"v_dns_records\" value={state.dnsRecords}>\n              <button type=\"button\" onClick={() => toggleUnlimited('dnsRecords')}>\n                <FontAwesomeIcon icon=\"infinity\" />\n              </button>\n            </TextInputWithExtraButton>\n\n            <TextInputWithExtraButton title={i18n['Mail Domains']} id=\"mailDomains\" name=\"v_mail_domains\" value={state.mailDomains}>\n              <button type=\"button\" onClick={() => toggleUnlimited('mailDomains')}>\n                <FontAwesomeIcon icon=\"infinity\" />\n              </button>\n            </TextInputWithExtraButton>\n\n            <TextInputWithExtraButton title={i18n['Mail Accounts']} optionalTitle={i18n['per domain']} id=\"mailAccounts\" name=\"v_mail_accounts\" value={state.mailAccounts}>\n              <button type=\"button\" onClick={() => toggleUnlimited('mailAccounts')}>\n                <FontAwesomeIcon icon=\"infinity\" />\n              </button>\n            </TextInputWithExtraButton>\n\n            <TextInputWithExtraButton title={i18n['Databases']} id=\"databases\" name=\"v_databases\" value={state.databases}>\n              <button type=\"button\" onClick={() => toggleUnlimited('databases')}>\n                <FontAwesomeIcon icon=\"infinity\" />\n              </button>\n            </TextInputWithExtraButton>\n\n            <TextInputWithExtraButton title={i18n['Cron Jobs']} id=\"cronJobs\" name=\"v_cron_jobs\" value={state.cronJobs}>\n              <button type=\"button\" onClick={() => toggleUnlimited('cronJobs')}>\n                <FontAwesomeIcon icon=\"infinity\" />\n              </button>\n            </TextInputWithExtraButton>\n\n            <TextInput name=\"v_backups\" id=\"backups\" value=\"1\" title={i18n['Backups']} />\n\n            <TextInputWithExtraButton title={i18n['Quota']} optionalTitle={i18n['in megabytes']} id=\"quota\" name=\"v_disk_quota\" value={state.quota}>\n              <button type=\"button\" onClick={() => toggleUnlimited('quota')}>\n                <FontAwesomeIcon icon=\"infinity\" />\n              </button>\n            </TextInputWithExtraButton>\n\n            <TextInputWithExtraButton title={i18n['Bandwidth']} optionalTitle={i18n['in megabytes']} id=\"bandwidth\" name=\"v_bandwidth\" value={state.bandwidth}>\n              <button type=\"button\" onClick={() => toggleUnlimited('bandwidth')}>\n                <FontAwesomeIcon icon=\"infinity\" />\n              </button>\n            </TextInputWithExtraButton>\n\n            <NameServers usersNS={['ns1.example.ltd', 'ns2.example.ltd']} />\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Add}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/package/')}>{i18n.Back}</button>\n            </div>\n          </form>\n        )}\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default AddPackage;","import React from 'react';\n\nimport TextInput from 'src/components/ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst EditServerWebOption = ({ proxySystem, webSystem, webBackend, webBackendPool, visible = false }) => {\n  const { i18n } = useSelector(state => state.session);\n\n  return (\n    <div className=\"server-web-option\" style={{ display: `${visible ? 'block' : 'none'}` }}>\n\n      {\n        proxySystem && (\n          <TextInput\n            optionalTitle={<Link to={`/edit/server/${proxySystem}`}>{i18n['configure']}</Link>}\n            title={i18n['Proxy Server'] + ' / '}\n            name=\"v_proxy_system\"\n            value={proxySystem}\n            id=\"proxy_system\"\n            disabled />\n        )\n      }\n\n      {\n        webSystem && (\n          <TextInput\n            optionalTitle={<Link to={`/edit/server/${webSystem}`}>{i18n['configure']}</Link>}\n            title={i18n['Web Server'] + ' / '}\n            name=\"v_web_system\"\n            value={webSystem}\n            id=\"web_system\"\n            disabled />\n        )\n      }\n\n      {\n        webBackend && (\n          <TextInput\n            title={i18n['Backend Server']}\n            name=\"v_web_backend\"\n            value={webBackend}\n            id=\"web_backend\"\n            disabled />\n        )\n      }\n\n      {\n        webBackendPool && (\n          <TextInput\n            optionalTitle={<Link to={`/edit/server/${webBackendPool}`}>{i18n['configure']}</Link>}\n            title={i18n['Backend Pool Mode']}\n            name=\"v_web_backend_pool\"\n            value={webBackendPool}\n            id=\"web_backend_pool\"\n            disabled\n          />\n        )\n      }\n\n    </div>\n  );\n}\n\nexport default EditServerWebOption;","import React from 'react';\n\nimport SelectInput from 'src/components/ControlPanel/AddItemLayout/Form/SelectInput/SelectInput';\nimport TextInput from 'src/components/ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst EditServerDnsOption = ({ dnsSystem, selected, dnsCluster, visible }) => {\n  const { i18n } = useSelector(state => state.session);\n\n  const printHosts = () => {\n    return Object.keys(dnsCluster).map((cluster, index) => (\n      <TextInput\n        title={`${i18n['DNS Server']} #${index + 1}`}\n        name=\"v_dns_remote_host\"\n        id=\"dns-remote-host\"\n        value={cluster}\n        disabled />\n    ));\n  }\n\n  return (\n    <div className=\"server-dns-option\" style={{ display: `${visible ? 'block' : 'none'}` }}>\n      <TextInput\n        optionalTitle={<Link to={`/edit/server/${dnsSystem}`}>{i18n['configure']}</Link>}\n        title={i18n['DNS Server'] + ' / '}\n        name=\"v_dns_system\"\n        value={dnsSystem}\n        id=\"dns_system\"\n        disabled />\n\n      <SelectInput\n        title={i18n['DNS Cluster']}\n        selected={selected}\n        options={[i18n['no'], i18n['yes']]}\n        name=\"v_dns_cluster\"\n        id=\"dns-cluster\"\n        disabled />\n\n      {\n        selected === 'yes' && (\n          <div className=\"hosts-wrapper\">\n            {printHosts()}\n          </div>\n        )\n      }\n    </div>\n  );\n}\n\nexport default EditServerDnsOption;","import React, { useState } from 'react';\n\nimport SelectInput from 'src/components/ControlPanel/AddItemLayout/Form/SelectInput/SelectInput';\nimport TextInput from 'src/components/ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport { useSelector } from 'react-redux';\n\nconst EditVestaPluginsOption = ({ data, visible }) => {\n  const { i18n } = useSelector(state => state.session);\n  const { session } = useSelector(state => state.userSession);\n  const [sftpValue, setSftpValue] = useState(data.lead || session['SFTPJAIL_KEY'] ? 'yes' : 'no');\n  const [fmValue, setFmValue] = useState(data.fm_lead || session['FILEMANAGER_KEY'] ? 'yes' : 'no');\n  const [softaculousValue, setSoftaculousValue] = useState(session['SOFTACULOUS'] === 'yes' ? 'yes' : 'no');\n\n  const renderSoftaculous = () => {\n    if (softaculousValue === 'yes') {\n      if (session['SOFTACULOUS'] === 'yes') {\n        return (<div className=\"soft-module\">\n          <div>\n            <span style={{ fontWeight: 'bolder' }}>{i18n['* plugin installation will run in background']}</span>\n            <span>\n              Softaculous is a great Auto Installer having 426 great scripts, 1115 PHP Classes\n              and we are still adding more. Softaculous is ideal for Web Hosting companies and\n              it could give a significant boost to your sales. These scripts cover most of the\n              uses a customer could ever have. We have covered a wide array of Categories so that\n              everyone could find the required script one would need to power their Web Site.\n            </span>\n          </div>\n\n          <div className=\"buy-license\">\n            <a href=\"https://www.softaculous.com/softaculous/\" target=\"_blank\" rel=\"noopener noreferrer\">\n              {i18n['Get Premium License'] ?? 'Get Premium License'}\n            </a>\n          </div>\n        </div>);\n      }\n    }\n  }\n\n  const renderSftp = () => {\n    if (sftpValue === 'yes') {\n      if (!data.sftp_license_key && session['SFTPJAIL_KEY']) {\n        return (<div className=\"sftp-module\">\n          <div>{i18n['Restrict users so that they cannot use SSH and access only their home directory.']}</div>\n          <div className=\"license-description\">\n            <span>{i18n['Licence Key']}:</span>\n            <TextInput\n              title={i18n['License Key']}\n              value={data.licence_key}\n              name=\"v_sftp_licence\"\n              id=\"sftp_licence\" />\n          </div>\n        </div>)\n      } else {\n        return (<div className=\"sftp-module\">\n          <>\n            <span>{i18n['Restrict users so that they cannot use SSH and access only their home directory.']}</span>\n            <span>{i18n['This is a commercial module, you would need to purchace license key to enable it.']}</span>\n          </>\n          <div className=\"license-description\">\n            <span>{i18n['Enter License Key']}:</span>\n            <TextInput\n              title={i18n['Version']}\n              name=\"v_sftp_licence\"\n              id=\"sftp_licence\" />\n          </div>\n\n          <div className=\"buy-license\">\n            <a href={`https://vestacp.com/checkout/2co.php?product_id=6&referer=${data.http_host}`}>\n              {i18n['Buy Licence']} 3$ {i18n['month']}\n            </a>\n            <a href={`https://vestacp.com/checkout/2co.php?product_id=9&referer=${data.http_host}`}>\n              {i18n['Buy Lifetime License']} 18$\n            </a>\n          </div>\n\n          <span>2Checkout.com Inc. (Ohio, USA) is a payment facilitator for goods and services provided by vestacp.com.</span>\n        </div>)\n      }\n    }\n  }\n\n  const renderFm = () => {\n    if (fmValue === 'yes') {\n      if (!data.fm_license_key && session['FILEMANAGER_KEY']) {\n        return (<div className=\"fm-module\">\n          <div>{i18n['Browse, copy, edit, view, and retrieve all of your web domain files using fully featured File Manager.']}</div>\n          <div className=\"license-description\">\n            <span>{i18n['Licence Key']}:</span>\n            <TextInput\n              title={i18n['Licence Key']}\n              value={data.fm_licence_key_option}\n              name=\"v_filemanager_licence\"\n              id=\"filemanager_licence\" />\n          </div>\n        </div>);\n      } else {\n        return (<div className=\"fm-module\">\n          <>\n            <span>{i18n['Browse, copy, edit, view, and retrieve all of your web domain files using fully featured File Manager.']}</span>\n            <span>{i18n['This is a commercial module, you would need to purchace license key to enable it.']}</span>\n          </>\n          <div className=\"license-description\">\n            <span>{i18n['Enter License Key']}:</span>\n            <TextInput\n              title={i18n['Version']}\n              value=\"\"\n              name=\"v_filemanager_licence\"\n              id=\"sftp_licence\" />\n          </div>\n\n          <div className=\"buy-license\">\n            <a href={`https://vestacp.com/checkout/2co.php?product_id=7&referer=${data.http_host}`} target=\"_blank\" rel=\"noopener noreferrer\">\n              {i18n['Buy Licence']} 3$ {i18n['month']}\n            </a>\n            <a href={`https://vestacp.com/checkout/2co.php?product_id=8&referer=${data.http_host}`} target=\"_blank\" rel=\"noopener noreferrer\">\n              {i18n['Buy Lifetime License']} 28$\n            </a>\n          </div>\n\n          <span>2Checkout.com Inc. (Ohio, USA) is a payment facilitator for goods and services provided by vestacp.com.</span>\n        </div>)\n      }\n    }\n  }\n\n  return (\n    <div className=\"server-plugins-option\" style={{ display: `${visible ? 'block' : 'none'}` }}>\n      <TextInput\n        title={i18n['Version']}\n        value={data.version}\n        name=\"v_version\"\n        id=\"version\"\n        disabled />\n\n      <div className=\"form-group select-group\">\n        <label className=\"label-wrapper\" htmlFor=\"quota\">\n          {i18n['FileSystem Disk Quota']}\n        </label>\n        <select className=\"form-control\" id=\"quota\" name=\"v_quota\">\n          <option value=\"no\">{i18n['no']}</option>\n          <option value=\"yes\" selected={data.disk_quota === 'yes'}>{i18n['yes']}</option>\n        </select>\n      </div>\n\n      <br />\n\n      <div className=\"form-group select-group\">\n        <label className=\"label-wrapper\" htmlFor=\"firewall\">\n          {i18n['Firewall']}\n        </label>\n        <select className=\"form-control\" id=\"firewall\" name=\"v_firewall\">\n          <option value=\"no\">{i18n['no']}</option>\n          <option value=\"yes\" selected={data.firewall_system === 'iptables'}>{i18n['yes']}</option>\n        </select>\n      </div>\n\n      <SelectInput\n        title={i18n['Reseller Role']}\n        options={[i18n['no']]}\n        name=\"v_reseller\"\n        id=\"reseller\"\n        disabled />\n\n      <SelectInput\n        title={i18n['Backup Migration Manager']}\n        options={[i18n['no']]}\n        name=\"v_backup_manager\"\n        id=\"backup_manager\"\n        disabled />\n\n      <div className=\"form-group select-group\">\n        <label className=\"label-wrapper\" htmlFor=\"sftp\">\n          {i18n['SFTP Chroot']}\n        </label>\n        <select className=\"form-control\" id=\"sftp\" name=\"v_sftp\" onChange={event => setSftpValue(event.target.value)}>\n          {\n            session['SFTPJAIL_KEY']\n              ? <option value=\"cancel\">{i18n['Disable and Cancel Licence']}</option>\n              : <option value=\"no\">{i18n['no']}</option>\n          }\n\n          <option value=\"yes\" selected={data.lead || session['SFTPJAIL_KEY']}>{i18n['yes']}</option>\n        </select>\n      </div>\n\n      {renderSftp()}\n\n      <br />\n\n      <div className=\"form-group select-group\">\n        <label className=\"label-wrapper\" htmlFor=\"filemanager\">\n          {i18n['File Manager']}\n        </label>\n        <select className=\"form-control\" id=\"filemanager\" name=\"v_filemanager\" onChange={event => setFmValue(event.target.value)}>\n          {\n            session['FILEMANAGER_KEY']\n              ? <option value=\"cancel\">{i18n['Disable and Cancel Licence']}</option>\n              : <option value=\"no\">{i18n['no']}</option>\n          }\n\n          <option value=\"yes\" selected={data.fm_lead || session['FILEMANAGER_KEY']}>{i18n['yes']}</option>\n        </select>\n      </div>\n\n      {renderFm()}\n\n      <br />\n\n      <div className=\"form-group select-group\">\n        <label className=\"label-wrapper\" htmlFor=\"softaculous\">\n          {i18n['Softaculous'] ?? 'Softaculous'}\n        </label>\n        <select className=\"form-control\" id=\"softaculous\" name=\"v_softaculous\" onChange={event => setSoftaculousValue(event.target.value)}>\n          <option value=\"no\">{i18n['no']}</option>\n          <option value=\"yes\" selected={data.softaculous_lead || session['SOFTACULOUS'] === 'yes'}>{i18n['yes']}</option>\n        </select>\n      </div>\n\n      {renderSoftaculous()}\n    </div>\n  );\n}\n\nexport default EditVestaPluginsOption;\n","import React, { useEffect, useState } from 'react';\n\nimport SelectInput from 'src/components/ControlPanel/AddItemLayout/Form/SelectInput/SelectInput';\nimport TextArea from 'src/components/ControlPanel/AddItemLayout/Form/TextArea/TextArea';\nimport Checkbox from 'src/components/ControlPanel/AddItemLayout/Form/Checkbox/Checkbox';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst EditVestaSslOption = ({ data, visible }) => {\n  const { i18n } = useSelector(state => state.session);\n  const [domainsVisible, setDomainsVisible] = useState(false);\n  const [sslDomains, setSslDomains] = useState([]);\n\n  useEffect(() => {\n    const { ssl_domains } = data;\n\n    if (ssl_domains) {\n      setSslDomains(['', ...ssl_domains]);\n    } else {\n      setSslDomains(['']);\n    }\n\n  }, []);\n\n  return (\n    <div className=\"server-ssl-option\" style={{ display: `${visible ? 'block' : 'none'}` }}>\n      <Checkbox\n        onChange={checked => setDomainsVisible(checked)}\n        title={i18n['Use Web Domain SSL Certificate']}\n        defaultChecked={data.vesta_certificate}\n        name=\"v_web_ssl_domain_checkbox\"\n        id=\"web_ssl_domain_checkbox\"\n        checked={domainsVisible}\n      />\n\n      {\n        domainsVisible && (\n          <div className=\"domain-group\">\n            <SelectInput\n              selected={data.vesta_certificate}\n              name=\"v_web_ssl_domain\"\n              title={i18n['Domain']}\n              options={sslDomains}\n              id=\"web_ssl_domain\" />\n          </div>\n        )\n      }\n\n      <TextArea\n        title={i18n['SSL Certificate']}\n        defaultValue={data.sys_ssl_crt}\n        name=\"v_sys_ssl_crt\"\n        id=\"sys_ssl_crt\" />\n\n      <TextArea\n        defaultValue={data.sys_ssl_key}\n        id=\"sys_ssl_key\"\n        name=\"v_sys_ssl_key\"\n        title={i18n['SSL Key']} />\n\n      <div className=\"additional-info\">\n        {\n          data.sys_ssl_subject && (\n            <div>\n              <span>{i18n['SUBJECT']}:</span>\n              <span>{data.sys_ssl_subject}</span>\n            </div>\n          )\n        }\n\n        {\n          data.sys_ssl_aliases && (\n            <div>\n              <span>{i18n['ALIASES']}:</span>\n              <span>{data.sys_ssl_aliases}</span>\n            </div>\n          )\n        }\n\n        {\n          data.sys_ssl_not_before && (\n            <div>\n              <span>{i18n['NOT_BEFORE']}:</span>\n              <span>{data.sys_ssl_not_before}</span>\n            </div>\n          )\n        }\n\n        {\n          data.sys_ssl_not_after && (\n            <div>\n              <span>{i18n['NOT_AFTER']}:</span>\n              <span>{data.sys_ssl_not_after}</span>\n            </div>\n          )\n        }\n\n        {\n          data.sys_ssl_signature && (\n            <div>\n              <span>{i18n['SIGNATURE']}:</span>\n              <span>{data.sys_ssl_signature}</span>\n            </div>\n          )\n        }\n\n        {\n          data.sys_ssl_pub_key && (\n            <div>\n              <span>{i18n['PUB_KEY']}:</span>\n              <span>{data.sys_ssl_pub_key}</span>\n            </div>\n          )\n        }\n\n        {\n          data.sys_ssl_issuer && (\n            <div>\n              <span>{i18n['ISSUER']}:</span>\n              <span>{data.sys_ssl_issuer}</span>\n            </div>\n          )\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default EditVestaSslOption;","import React from 'react';\n\nimport SelectInput from 'src/components/ControlPanel/AddItemLayout/Form/SelectInput/SelectInput';\nimport TextInput from 'src/components/ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst EditDatabaseOption = ({ data, visible }) => {\n  const { DB_PMA_URL, DB_PGA_URL } = useSelector(state => state.userSession.session);\n  const { i18n } = useSelector(state => state.session);\n\n  const printPhpMyAdminHosts = () => {\n    if (data.mysql_hosts.length) {\n      return data.mysql_hosts.map((host, index) => (\n        <div className=\"hosts\">\n          <TextInput\n            title={`${i18n['Host']} #${index + 1}`}\n            value={host['HOST']}\n            name=\"v_mysql_host\"\n            id=\"mysql_host\"\n            disabled />\n\n          <TextInput\n            title={i18n['Password']}\n            name=\"v_mysql_password\"\n            id=\"mysql_password\" />\n\n          <TextInput\n            title={i18n['Maximum Number Of Databases']}\n            value={host['MAX_DB']}\n            name=\"v_mysql_max\"\n            id=\"mysql_max\"\n            disabled />\n\n          <TextInput\n            title={i18n['Current Number Of Databases']}\n            value={host['U_DB_BASES']}\n            name=\"v_mysql_max\"\n            id=\"current-databases\"\n            disabled />\n        </div>\n      ));\n    }\n  }\n\n  const printPgSqlHosts = () => {\n    return data.pgsql_hosts.map((host, index) => (\n      <div className=\"hosts\">\n        <TextInput\n          title={`${i18n['Host']} #${index + 1}`}\n          value={host['HOST']}\n          name=\"v_pgsql_host\"\n          id=\"pgsql_host\"\n          disabled />\n\n        <TextInput\n          title={i18n['Maximum Number Of Databases']}\n          value={host['MAX_DB']}\n          name=\"v_psql_max\"\n          id=\"psql_max\"\n          disabled />\n\n        <TextInput\n          title={i18n['Current Number Of Databases']}\n          value={host['U_DB_BASES']}\n          name=\"v_pgsql_max\"\n          id=\"pgsql_current\"\n          disabled />\n      </div>\n    ));\n  }\n\n  return (\n    <div className=\"server-mail-option\" style={{ display: `${visible ? 'block' : 'none'}` }}>\n      <SelectInput\n        optionalTitle={<Link to=\"/edit/server/mysql\">{i18n['configure']}</Link>}\n        title={i18n['MySQL Support'] + ' / '}\n        selected={data.mysql}\n        options={[i18n['no'], i18n['yes']]}\n        name=\"v_mysql\"\n        id=\"mysql\"\n        disabled />\n\n      {\n        data.mysql === 'yes' && (\n          <>\n            <TextInput\n              title={i18n['phpMyAdmin URL']}\n              value={DB_PMA_URL}\n              name=\"v_mysql_url\"\n              id=\"mysql_url\" />\n\n            {printPhpMyAdminHosts()}\n          </>\n        )\n      }\n\n      <SelectInput\n        optionalTitle={<Link to=\"/edit/server/postgresql\">{i18n['configure']}</Link>}\n        title={i18n['PostgreSQL Support'] + ' / '}\n        selected={data.pgsql}\n        options={[i18n['no'], i18n['yes']]}\n        name=\"v_pgsql\"\n        id=\"pgsql\"\n        disabled />\n\n      {\n        data.pgsql === 'yes' && (\n          <>\n            <TextInput\n              title={i18n['phpPgAdmin URL']}\n              value={DB_PGA_URL}\n              name=\"v_pgsql_url\"\n              id=\"pgsql_url\" />\n\n            {printPgSqlHosts()}\n          </>\n        )\n      }\n    </div>\n  );\n}\n\nexport default EditDatabaseOption;","import React, { useState } from 'react';\n\nimport SelectInput from 'src/components/ControlPanel/AddItemLayout/Form/SelectInput/SelectInput';\nimport TextInput from 'src/components/ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useSelector } from 'react-redux';\n\nconst EditBackupOption = ({ data, visible }) => {\n  const { i18n } = useSelector(state => state.session);\n  const [remoteBackup, setRemoteBackup] = useState(false);\n\n  return (\n    <div className=\"server-dns-option\" style={{ display: `${visible ? 'block' : 'none'}` }}>\n      <SelectInput\n        options={['no', 'yes']}\n        title={i18n['Local backup']}\n        selected={data.backup}\n        name=\"v_backup\"\n        id=\"backup\" />\n\n      <SelectInput\n        options={['1', '2', '3', '4', '5', '6', '7', '8', '9']}\n        title={i18n['Compression level']}\n        selected={data.backup_gzip}\n        name=\"v_backup_gzip\"\n        id=\"backup-gzip\" />\n\n      <TextInput\n        title={i18n['Directory']}\n        value={data.backup_dir}\n        name=\"v_backup_dir\"\n        id=\"v-backup-dir\" />\n\n      <button type=\"button\" onClick={() => setRemoteBackup(!remoteBackup)}>\n        {i18n['Remote backup']}\n        {remoteBackup ? <FontAwesomeIcon icon=\"caret-up\" /> : <FontAwesomeIcon icon=\"caret-down\" />}\n      </button>\n\n      {\n        remoteBackup && (\n          <div style={{ transform: 'translateX(3rem)' }}>\n            <br />\n\n            <SelectInput\n              selected={data.backup_type}\n              options={data.protocols}\n              title={i18n['Protocol']}\n              name=\"v_backup_type\"\n              id=\"backup_type\" />\n\n            <TextInput\n              title={i18n['Host']}\n              value={data.backup_host}\n              name=\"v_backup_host\"\n              id=\"backup_host\" />\n\n            <TextInput\n              title={i18n['Username']}\n              value={data.backup_username}\n              name=\"v_backup_username\"\n              id=\"backup_username\" />\n\n            <TextInput\n              title={i18n['Password']}\n              value={data.backup_password}\n              name=\"v_backup_password\"\n              id=\"backup_password\" />\n\n            <TextInput\n              title={i18n['Directory']}\n              value={data.backup_bpath}\n              name=\"v_backup_bpath\"\n              id=\"backup_bpath\" />\n          </div>\n        )\n      }\n    </div>\n  );\n}\n\nexport default EditBackupOption;","import React, { useEffect, useState } from 'react';\n\nimport SelectInput from 'src/components/ControlPanel/AddItemLayout/Form/SelectInput/SelectInput';\nimport TextInput from 'src/components/ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport Checkbox from 'src/components/ControlPanel/AddItemLayout/Form/Checkbox/Checkbox';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst EditMailOption = ({ data, visible }) => {\n  const { MAIL_URL } = useSelector(state => state.userSession.session);\n  const { i18n } = useSelector(state => state.session);\n  const [mailCertificateSystem, setMailCertificateSystem] = useState(false);\n\n  useEffect(() => {\n    if (data.mail_certificate) {\n      setMailCertificateSystem(true);\n    }\n  }, []);\n\n  const getMailCertificateOptions = () => {\n    let result = ['', ...data.ssl_domains];\n    return result;\n  }\n\n  return (\n    <div className=\"server-mail-option\" style={{ display: `${visible ? 'block' : 'none'}` }}>\n      <TextInput\n        optionalTitle={<Link to={`/edit/server/${data.mail_system}`}>{i18n['configure']}</Link>}\n        title={i18n['MAIL Server'] + ' / '}\n        name=\"v_mail_system\"\n        value={data.mail_system}\n        id=\"mail_system\"\n        disabled />\n\n      {\n        data.antivirus_system && (\n          <TextInput\n            optionalTitle={<Link to={`/edit/server/${data.antivirus_system}`}>{i18n['configure']}</Link>}\n            title={i18n['Antivirus'] + ' / '}\n            name=\"v_antivirus_system\"\n            value={data.antivirus_system}\n            id=\"antivirus_system\"\n            disabled />\n        )\n      }\n\n      {\n        data.antispam_system && (\n          <TextInput\n            optionalTitle={<Link to={`/edit/server/${data.antispam_system}`}>{i18n['configure']}</Link>}\n            title={i18n['DNS Server'] + ' / '}\n            name=\"v_antispam_system\"\n            value={data.antispam_system}\n            id=\"antispam_system\"\n            disabled />\n        )\n      }\n\n      <TextInput\n        title={i18n['Webmail URL']}\n        name=\"v_mail_url\"\n        value={MAIL_URL}\n        id=\"mail-url\" />\n\n      <br /><br />\n\n      <Checkbox\n        onChange={checked => setMailCertificateSystem(checked)}\n        title={i18n['Use Web Domain SSL Certificate']}\n        name=\"v_mail_ssl_domain_checkbox\"\n        id=\"mail-ssl-domain-checkbox\"\n        checked={!!data.mail_certificate} />\n\n      {\n        mailCertificateSystem && (\n          <div className=\"mail-cert-info\">\n            <SelectInput\n              options={getMailCertificateOptions()}\n              selected={data.mail_certificate}\n              name=\"v_mail_ssl_domain\"\n              title={i18n['Domain']}\n              id=\"mail-ssl-domain\" />\n\n            <div className=\"additional-info\">\n              {\n                data.sys_ssl_subject && (\n                  <div>\n                    <span>{i18n['SUBJECT']}:</span>\n                    <span>{data.sys_ssl_subject}</span>\n                  </div>\n                )\n              }\n\n              {\n                data.sys_ssl_aliases && (\n                  <div>\n                    <span>{i18n['ALIASES']}:</span>\n                    <span>{data.sys_ssl_aliases}</span>\n                  </div>\n                )\n              }\n\n              {\n                data.sys_ssl_not_before && (\n                  <div>\n                    <span>{i18n['NOT_BEFORE']}:</span>\n                    <span>{data.sys_ssl_not_before}</span>\n                  </div>\n                )\n              }\n\n              {\n                data.sys_ssl_not_after && (\n                  <div>\n                    <span>{i18n['NOT_AFTER']}:</span>\n                    <span>{data.sys_ssl_not_after}</span>\n                  </div>\n                )\n              }\n\n              {\n                data.sys_ssl_signature && (\n                  <div>\n                    <span>{i18n['SIGNATURE']}:</span>\n                    <span>{data.sys_ssl_signature}</span>\n                  </div>\n                )\n              }\n\n              {\n                data.sys_ssl_pub_key && (\n                  <div>\n                    <span>{i18n['PUB_KEY']}:</span>\n                    <span>{data.sys_ssl_pub_key}</span>\n                  </div>\n                )\n              }\n\n              {\n                data.sys_ssl_issuer && (\n                  <div>\n                    <span>{i18n['ISSUER']}:</span>\n                    <span>{data.sys_ssl_issuer}</span>\n                  </div>\n                )\n              }\n            </div>\n          </div>\n        )\n      }\n    </div>\n  );\n}\n\nexport default EditMailOption;","import axios from \"axios\";\n\nconst BASE_URL = window.location.origin;\nconst resetPasswordUri = '/api/v1/reset/index.php';\n\nexport const resetPassword = (user = '', code = '', password = '', confirmPassword = '') => {\n  const formData = new FormData();\n\n  if (password) {\n    formData.append('password', password);\n  }\n\n  if (confirmPassword) {\n    formData.append('password_confirm', confirmPassword);\n  }\n\n  if (user) {\n    formData.append('user', user);\n  }\n\n  if (code) {\n    formData.append('code', code);\n  }\n\n  return axios.post(BASE_URL + resetPasswordUri, formData);\n};\n","import { LOGIN, LOGOUT, LOGGED_OUT_AS, CHECK_AUTH, RESET_PASSWORD } from './sessionTypes';\nimport { checkAuth, signIn, signInAs, signOut } from 'src/services/session';\nimport { resetPassword } from 'src/ControlPanelService/ResetPassword';\nimport { resetAuthToken, setAuthToken } from 'src/utils/token';\nimport { REFRESH_COUNTERS } from '../MenuCounters/menuCounterTypes';\nimport { SET_USER_SESSION } from '../UserSession/userSessionTypes';\nimport { REFRESH_PANEL } from '../Panel/panelTypes';\n\nconst LOGOUT_RESPONSE = 'logged_out';\nconst LOGOUT_AS_RESPONSE = 'logged_out_as';\n\nexport const login = (user, password) => dispatch => {\n  return new Promise((resolve, reject) => {\n    signIn({ user, password }).then((response) => {\n      const { error, session, token, panel, data, user, i18n } = response.data;\n\n      if (token) setAuthToken(token);\n\n      dispatch({\n        type: LOGIN,\n        value: {\n          token: token || '',\n          i18n: i18n || {},\n          userName: user,\n          error\n        },\n      });\n      dispatch({\n        type: REFRESH_PANEL,\n        value: {\n          panel\n        }\n      });\n      dispatch({\n        type: REFRESH_COUNTERS,\n        value: {\n          user: data,\n        }\n      });\n      dispatch({\n        type: SET_USER_SESSION,\n        value: session\n      });\n      resolve(token);\n    }, (error) => {\n      reject(error);\n    });\n  });\n}\n\nexport const reset = ({ user = '', code = '', password = '', password_confirm = '' }) => dispatch => {\n  return new Promise((resolve, reject) => {\n    resetPassword(user, code, password, password_confirm).then((response) => {\n      const { error, session, token, panel, user } = response.data;\n\n      dispatch({\n        type: RESET_PASSWORD,\n        value: {\n          token,\n          userName: user,\n          error\n        },\n      });\n      dispatch({\n        type: REFRESH_PANEL,\n        value: {\n          panel\n        }\n      });\n      dispatch({\n        type: REFRESH_COUNTERS,\n        value: {\n          user: {},\n        }\n      });\n      dispatch({\n        type: SET_USER_SESSION,\n        value: session\n      });\n      resolve(token);\n    }, (error) => {\n      reject(error);\n    });\n  });\n}\n\nexport const loginAs = username => dispatch => {\n  return new Promise((resolve, reject) => {\n    signInAs(username).then((response) => {\n      const { error, token, session, panel, data, user, i18n } = response.data;\n      if (token) setAuthToken(token);\n\n      dispatch({\n        type: LOGIN,\n        value: {\n          userName: user,\n          i18n,\n          token,\n          error\n        }\n      });\n      dispatch({\n        type: REFRESH_PANEL,\n        value: {\n          panel\n        }\n      });\n      dispatch({\n        type: REFRESH_COUNTERS,\n        value: {\n          user: data,\n        }\n      });\n      dispatch({\n        type: SET_USER_SESSION,\n        value: session\n      });\n\n      resolve(token);\n    }, (error) => {\n      console.error(error);\n      reject();\n    });\n  });\n}\n\nexport const logout = () => (dispatch, getState) => {\n  return new Promise((resolve, reject) => {\n    signOut().then((response) => {\n      const { logout_response, error, userName, user, i18n, session, panel } = response.data;\n\n      if (logout_response === LOGOUT_RESPONSE) {\n        resetAuthToken();\n\n        dispatch({\n          type: LOGOUT,\n          value: {\n            userName: '',\n            token: '',\n            session: {},\n            i18n: [],\n            error,\n          },\n        });\n        dispatch({\n          type: REFRESH_PANEL,\n          value: {\n            panel: {}\n          }\n        });\n        dispatch({\n          type: REFRESH_COUNTERS,\n          value: {\n            user: {},\n          }\n        });\n        dispatch({\n          type: SET_USER_SESSION,\n          value: {}\n        });\n\n        resolve();\n      } else if (logout_response === LOGOUT_AS_RESPONSE) {\n        dispatch({\n          type: LOGGED_OUT_AS,\n          value: {\n            userName,\n            token: '',\n            i18n,\n            error,\n          },\n        });\n        dispatch({\n          type: REFRESH_PANEL,\n          value: {\n            panel\n          }\n        });\n        dispatch({\n          type: REFRESH_COUNTERS,\n          value: {\n            user,\n          }\n        });\n        dispatch({\n          type: SET_USER_SESSION,\n          value: session\n        });\n\n        resolve();\n      } else {\n        resolve(`Error while signing out: ${logout_response}`);\n      }\n    }, (error) => {\n      console.error(error);\n      reject();\n    });\n  });\n}\n\nexport const checkAuthHandler = () => (dispatch, getState) => {\n  return new Promise((resolve, reject) => {\n    checkAuth()\n      .then(res => {\n        const { user, data, session, panel, error, i18n, token } = res.data;\n\n        if (token) setAuthToken(token);\n\n        dispatch({\n          type: CHECK_AUTH,\n          value: {\n            userName: user,\n            i18n,\n            token,\n            error\n          }\n        });\n        dispatch({\n          type: REFRESH_PANEL,\n          value: {\n            panel\n          }\n        });\n        dispatch({\n          type: REFRESH_COUNTERS,\n          value: {\n            user: data,\n          }\n        });\n        dispatch({\n          type: SET_USER_SESSION,\n          value: session\n        });\n\n        resolve(token);\n      })\n      .catch(err => {\n        reject();\n        console.error(err);\n      });\n  });\n}\n\nexport const refreshUserSession = () => (dispatch, getState) => {\n  return new Promise((resolve, reject) => {\n    checkAuth()\n      .then(res => {\n        const { session, token } = res.data;\n\n        if (token) setAuthToken(token);\n        dispatch({\n          type: SET_USER_SESSION,\n          value: session\n        });\n\n        resolve(token);\n      })\n      .catch(err => {\n        reject();\n        console.error(err);\n      });\n  });\n}\n\nexport const removeToken = () => {\n  return {\n    type: LOGOUT,\n    value: {\n      token: '',\n      error: ''\n    }\n  }\n}\n","import React, { useEffect, useState } from 'react';\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport { getServerAdditionalInfo, updateService } from '../../../ControlPanelService/Server';\nimport SelectInput from '../../ControlPanel/AddItemLayout/Form/SelectInput/SelectInput';\nimport TextInput from '../../ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Spinner from '../../../components/Spinner/Spinner';\nimport EditServerWebOption from './EditServerWebOption';\nimport EditServerDnsOption from './EditServerDnsOption';\nimport EditVestaPluginsOption from './EditVestaPlugins';\nimport EditVestaSslOption from './EditVestaSslOption';\nimport EditDatabaseOption from './EditDatabaseOption';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport EditBackupOption from './EditBackupOption';\nimport EditMailOption from './EditMailOption';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './EditServer.scss';\nimport { Helmet } from 'react-helmet';\nimport HtmlParser from 'react-html-parser';\nimport { refreshUserSession } from 'src/actions/Session/sessionActions';\n\nconst EditServer = props => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const { session } = useSelector(state => state.userSession);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [okMessage, setOkMessage] = useState('');\n  const [state, setState] = useState({\n    data: {},\n    loading: false,\n    webOption: false,\n    dnsOption: false,\n    mailOption: false,\n    backupOption: false,\n    sslOption: false,\n    pluginsOption: false,\n    dbOption: false\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/server/'));\n    dispatch(removeFocusedElement());\n\n    setState({ ...state, loading: true });\n    fetchData();\n  }, []);\n\n  const fetchData = () => {\n    getServerAdditionalInfo()\n      .then(response => {\n        setState({\n          ...state,\n          data: response.data,\n          loading: false\n        });\n      })\n      .catch(err => {\n        setState({ ...state, loading: false });\n        console.error(err);\n      });\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let updatedServer = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      updatedServer[name] = value;\n    }\n\n    if (updatedServer['v_backup_type']) {\n      updatedServer['v_backup_type'] = updatedServer['v_backup_type'].toLowerCase();\n    }\n\n    updatedServer['save'] = 'save';\n    updatedServer['token'] = token;\n\n    if (updatedServer['v_softaculous'] === 'no' && !session['SOFTACULOUS']) {\n      delete updatedServer['v_softaculous'];\n    }\n\n    if (Object.keys(updatedServer).length !== 0 && updatedServer.constructor === Object) {\n      setState({ ...state, loading: true });\n\n      updateService(updatedServer)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg, ok_msg } = result.data;\n\n            if (error_msg) {\n              setErrorMessage(error_msg);\n              setOkMessage('');\n            } else {\n              setErrorMessage('');\n              setOkMessage(ok_msg);\n            }\n          }\n        })\n        .then(() => dispatch(refreshUserSession()).then(() => fetchData()))\n        .catch(err => console.error(err));\n    }\n  }\n\n  const toggleOption = option => {\n    setState({\n      ...state,\n      [option]: !state[option]\n    });\n  }\n\n  return (\n    <div className=\"edit-template edit-server\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.SERVER}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Configuring Server']}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {errorMessage}\n          </span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"edit-server\">\n            <TextInput\n              value={state.data.hostname}\n              title={i18n['Hostname']}\n              name=\"v_hostname\"\n              id=\"hostname\" />\n\n            {\n              state.data.timezones && (\n                <div className=\"form-group select-group\">\n                  <label className=\"label-wrapper\" htmlFor=\"timezone\">\n                    {i18n['Time Zone']}\n                  </label>\n                  <select className=\"form-control\" id=\"timezone\" name=\"v_timezone\">\n                    {\n                      Object.keys(state.data.timezones).map(key => {\n                        const value = state.data.timezones[key];\n\n                        return <option key={key} value={key} selected={state.data.timezone === key}>{value}</option>;\n                      })\n                    }\n                  </select>\n                </div>\n              )\n            }\n\n            <SelectInput\n              options={state.data.languages}\n              selected={state.data.language}\n              title={i18n['Default Language']}\n              name=\"v_language\"\n              id=\"language\" />\n\n            <div className=\"modules\">\n              <button type=\"button\" onClick={() => toggleOption('webOption')}>\n                {i18n['WEB']}\n                {state.webOption ? <FontAwesomeIcon icon=\"caret-up\" /> : <FontAwesomeIcon icon=\"caret-down\" />}\n              </button>\n\n              <EditServerWebOption\n                webBackendPool={state.data.web_backend_pool}\n                proxySystem={state.data.proxy_system}\n                webBackend={state.data.web_backend}\n                webSystem={state.data.web_system}\n                visible={state.webOption} />\n\n              <button type=\"button\" onClick={() => toggleOption('dnsOption')}>\n                {i18n['DNS']}\n                {state.dnsOption ? <FontAwesomeIcon icon=\"caret-up\" /> : <FontAwesomeIcon icon=\"caret-down\" />}\n              </button>\n\n              <EditServerDnsOption\n                selected={state.data.v_dns_cluster}\n                dnsCluster={state.data.dns_cluster}\n                dnsSystem={state.data.dns_system}\n                visible={state.dnsOption} />\n\n              <button type=\"button\" onClick={() => toggleOption('mailOption')}>\n                {i18n['MAIL']}\n                {state.mailOption ? <FontAwesomeIcon icon=\"caret-up\" /> : <FontAwesomeIcon icon=\"caret-down\" />}\n              </button>\n\n              <EditMailOption data={state.data} visible={state.mailOption} />\n\n              <button type=\"button\" onClick={() => toggleOption('dbOption')}>\n                {i18n['DB']}\n                {state.dbOption ? <FontAwesomeIcon icon=\"caret-up\" /> : <FontAwesomeIcon icon=\"caret-down\" />}\n              </button>\n\n              <EditDatabaseOption data={state.data} visible={state.dbOption} />\n\n              <button type=\"button\" onClick={() => toggleOption('backupOption')}>\n                {i18n['BACKUP']}\n                {state.backupOption ? <FontAwesomeIcon icon=\"caret-up\" /> : <FontAwesomeIcon icon=\"caret-down\" />}\n              </button>\n\n              <EditBackupOption data={state.data} visible={state.backupOption} />\n\n              <button type=\"button\" onClick={() => toggleOption('sslOption')}>\n                {i18n['Vesta SSL']}\n                {state.sslOption ? <FontAwesomeIcon icon=\"caret-up\" /> : <FontAwesomeIcon icon=\"caret-down\" />}\n              </button>\n\n              <EditVestaSslOption data={state.data} visible={state.sslOption} />\n\n              <button type=\"button\" onClick={() => toggleOption('pluginsOption')}>\n                {i18n['Vesta Control Panel Plugins']}\n                {state.pluginsOption ? <FontAwesomeIcon icon=\"caret-up\" /> : <FontAwesomeIcon icon=\"caret-down\" />}\n              </button>\n\n              <EditVestaPluginsOption data={state.data} visible={state.pluginsOption} />\n            </div>\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Save}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/server/')}>{i18n.Back}</button>\n            </div>\n\n          </form>\n        }\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default EditServer;\n","import React, { useEffect, useState } from 'react';\nimport { addActiveElement, removeFocusedElement } from \"../../../../actions/MainNavigation/mainNavigationActions\";\nimport Checkbox from '../../../ControlPanel/AddItemLayout/Form/Checkbox/Checkbox';\nimport TextArea from '../../../ControlPanel/AddItemLayout/Form/TextArea/TextArea';\nimport { getServiceInfo, updateService } from 'src/ControlPanelService/Server';\nimport AddItemLayout from '../../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Spinner from '../../../../components/Spinner/Spinner';\nimport Toolbar from '../../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './Dovecot.scss';\nimport { Helmet } from 'react-helmet';\nimport HtmlParser from 'react-html-parser';\n\nconst Dovecot = () => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [okMessage, setOkMessage] = useState('');\n  const [state, setState] = useState({\n    data: {},\n    loading: false\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/server/'));\n    dispatch(removeFocusedElement());\n\n    setState({ ...state, loading: true });\n    fetchData();\n  }, []);\n\n  const fetchData = () => {\n    getServiceInfo('dovecot')\n      .then(response => {\n        if (!response.data.config) {\n          history.push('/list/server');\n        }\n\n        setState({\n          ...state,\n          data: response.data,\n          loading: false\n        });\n      })\n      .catch(err => {\n        setState({ ...state, loading: false });\n        console.error(err);\n      });\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let updatedService = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      updatedService[name] = value;\n    }\n\n    if (Object.keys(updatedService).length !== 0 && updatedService.constructor === Object) {\n      setState({ ...state, loading: true });\n\n      updateService(updatedService, '/dovecot')\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg, ok_msg } = result.data;\n\n            setErrorMessage(error_msg || '');\n            setOkMessage(ok_msg || '');\n          }\n        })\n        .then(() => fetchData())\n        .catch(err => console.error(err));\n    }\n  }\n\n  return (\n    <div className=\"edit-template edit-dovecot\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.SERVER}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">\n          {i18n['Configuring Server']} / {state.data.service_name}\n        </div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {errorMessage}\n          </span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"edit-dovecot\">\n            <input type=\"hidden\" name=\"save\" value=\"save\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            <TextArea\n              defaultValue={state.data.config}\n              title={state.data.config_path}\n              name=\"v_config\"\n              id=\"v_config\"\n              rows=\"10\" />\n\n            <br />\n\n            <TextArea\n              defaultValue={state.data.config1}\n              title={state.data.config_path1}\n              name=\"v_config1\"\n              id=\"v_config1\"\n              rows=\"10\" />\n\n            <br />\n\n            <TextArea\n              defaultValue={state.data.config2}\n              title={state.data.config_path2}\n              name=\"v_config2\"\n              id=\"v_config2\"\n              rows=\"10\" />\n\n            <br />\n\n            <TextArea\n              defaultValue={state.data.config3}\n              title={state.data.config_path3}\n              name=\"v_config3\"\n              id=\"v_config3\"\n              rows=\"10\" />\n\n            <br />\n\n            <TextArea\n              defaultValue={state.data.config4}\n              title={state.data.config_path4}\n              name=\"v_config4\"\n              id=\"v_config4\"\n              rows=\"10\" />\n\n            <br />\n\n            <TextArea\n              defaultValue={state.data.config5}\n              title={state.data.config_path5}\n              name=\"v_config5\"\n              id=\"v_config5\"\n              rows=\"10\" />\n\n            <br />\n\n            <TextArea\n              defaultValue={state.data.config6}\n              title={state.data.config_path6}\n              name=\"v_config6\"\n              id=\"v_config6\"\n              rows=\"10\" />\n\n            <br />\n\n            <TextArea\n              defaultValue={state.data.config7}\n              title={state.data.config_path7}\n              name=\"v_config7\"\n              id=\"v_config7\"\n              rows=\"10\" />\n\n            <br />\n\n            <TextArea\n              defaultValue={state.data.config8}\n              title={state.data.config_path8}\n              name=\"v_config8\"\n              id=\"v_config8\"\n              rows=\"10\" />\n\n            <br />\n\n            <Checkbox\n              title={i18n['restart']}\n              defaultChecked={true}\n              name=\"v_restart\"\n              id=\"restart\" />\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Save}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/server/')}>{i18n.Back}</button>\n            </div>\n\n          </form>\n        }\n      </AddItemLayout>\n    </div >\n  );\n}\n\nexport default Dovecot;","import axios from \"axios\";\nimport { getAuthToken } from \"src/utils/token\";\n\nconst BASE_URL = window.location.origin;\nconst webApiUri = '/api/v1/list/mail/index.php';\nconst addMailApiUri = '/api/v1/add/mail/index.php';\nconst mailInfoUri = '/api/v1/edit/mail/index.php';\nconst updateMailUri = '/api/v1/edit/mail/index.php';\n\nexport const getMailList = () => {\n  return axios.get(BASE_URL + webApiUri);\n}\n\nexport const getMailAccountList = domain => {\n  return axios.get(`${BASE_URL}${webApiUri}?domain=${domain}`)\n}\n\nexport const getMailAccountInfo = (domain, account) => {\n  return axios.get(`${BASE_URL}${mailInfoUri}?domain=${domain}&account=${account}`)\n}\n\nexport const bulkAction = (action, domainNameSystems) => {\n  const formData = new FormData();\n  formData.append(\"action\", action);\n  formData.append(\"token\", getAuthToken());\n\n  domainNameSystems.forEach(domainNameSystem => {\n    formData.append(\"domain[]\", domainNameSystem);\n  });\n\n  return axios.post(BASE_URL + '/api/v1/bulk/mail/', formData);\n};\n\nexport const bulkMailAccountAction = (action, domain, accounts = []) => {\n  const formData = new FormData();\n  formData.append(\"action\", action);\n  formData.append(\"token\", getAuthToken());\n  formData.append(\"domain\", domain);\n\n  accounts.forEach(account => {\n    formData.append(\"account[]\", account);\n  });\n\n  return axios.post(BASE_URL + '/api/v1/bulk/mail/', formData);\n};\n\nexport const handleAction = uri => {\n  return axios.get(BASE_URL + uri, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const addMail = data => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(BASE_URL + addMailApiUri, formDataObject);\n}\n\nexport const addMailAccount = (data, domain) => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(`${BASE_URL}${addMailApiUri}?domain=${domain}`, formDataObject);\n}\n\nexport const editMailAccount = (data, domain, account) => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(`${BASE_URL}${updateMailUri}?domain=${domain}&account=${account}`, formDataObject);\n}\n\nexport const getMailInfo = domain => {\n  return axios.get(BASE_URL + mailInfoUri, {\n    params: {\n      domain,\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const updateMail = (data, domain) => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(BASE_URL + updateMailUri, formDataObject, {\n    params: {\n      domain,\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const mailInfoBlockSelectOptions = i18n => [\n  {\n    value: i18n['Use server hostname'],\n    type: 'hostname',\n  },\n  {\n    value: i18n['Use domain hostname'],\n    type: 'domain',\n  },\n  {\n    value: i18n['Use STARTTLS'],\n    type: 'starttls',\n  },\n  {\n    value: i18n['Use SSL / TLS'],\n    type: 'ssl',\n  },\n  {\n    value: i18n['No encryption'],\n    type: 'no_encryption',\n  }\n];","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { mailInfoBlockSelectOptions } from 'src/ControlPanelService/Mail';\n\nimport './MailInfoBlock.scss';\n\nexport default function MailInfoBlock({ webMail, hostName, domain, userName = '', password }) {\n  const { i18n } = useSelector(state => state.session);\n  const [selectedOption, setSelectedOption] = useState('');\n  const [state, setState] = useState({\n    imapHostName: hostName,\n    smtpHostName: hostName,\n    imapEncryption: i18n['STARTTLS'],\n    smtpEncryption: i18n['STARTTLS'],\n    imapPort: '143',\n    smtpPort: '587',\n  });\n\n  useEffect(() => {\n    if (selectedOption === 'hostname') {\n      setState({ ...state, imapHostName: hostName, smtpHostName: hostName });\n    } else if (selectedOption === \"domain\") {\n      setState({ ...state, imapHostName: domain, smtpHostName: domain });\n    } else if (selectedOption === \"starttls\") {\n      setState({ ...state, imapPort: '143', imapEncryption: 'STARTTLS', smtpPort: '587', smtpEncryption: 'STARTTLS' });\n    } else if (selectedOption === \"ssl\") {\n      setState({ ...state, imapPort: '993', imapEncryption: 'SSL / TLS', smtpPort: '465', smtpEncryption: 'SSL / TLS' });\n    } else if (selectedOption === \"no_encryption\") {\n      setState({\n        ...state,\n        imapHostName: domain,\n        smtpHostName: domain,\n        imapPort: '143',\n        smtpPort: '25',\n        imapEncryption: i18n['No encryption'],\n        smtpEncryption: i18n['No encryption']\n      });\n    }\n  }, [selectedOption]);\n\n  const renderSelectOptions = () => {\n    const options = mailInfoBlockSelectOptions(i18n);\n    return options.map(option =>\n      <option key={option.type} value={option.type}>{option.value}</option>\n    );\n  }\n\n  const getCredentials = () => {\n    let result = '';\n\n    result += `${i18n['Username']}:${userName}@${domain}\\n`;\n    result += `${i18n['Password']}:${password}\\n`;\n    result += `${i18n['IMAP hostname']}:${state.imapHostName}\\n`;\n    result += `${i18n['IMAP port']}:${state.imapPort}\\n`;\n    result += `${i18n['IMAP security']}:${state.imapEncryption}\\n`;\n    result += `${i18n['IMAP auth method']}:${i18n['Normal password']}\\n`;\n    result += `${i18n['SMTP hostname']}:${state.smtpHostName}\\n`;\n    result += `${i18n['SMTP port']}:${state.smtpPort}\\n`;\n    result += `${i18n['SMTP security']}:${state.smtpEncryption}\\n`;\n    result += `${i18n['SMTP auth method']}:${i18n['Normal password']}\\n`;\n    result += `${i18n['Webmail URL']}:${`http://${window.location.hostname}${webMail}`}\\n`;\n\n    return result;\n  }\n\n  return (\n    <div className=\"mail-info-block\">\n      <div class=\"form-group select-group\">\n        <select class=\"form-control\" onChange={event => setSelectedOption(event.target.value)}>\n          {renderSelectOptions()}\n        </select>\n\n        <div className=\"details\">\n          <div>\n            <span>{i18n['Username']}:</span>\n            <span>{`${userName}@${domain}`}</span>\n          </div>\n\n          <div>\n            <span>{i18n['Password']}:</span>\n            <span>{password || '******'}</span>\n          </div>\n\n          <div>\n            <span>{i18n['IMAP hostname']}:</span>\n            <span>{state.imapHostName}</span>\n          </div>\n\n          <div>\n            <span>{i18n['IMAP port']}:</span>\n            <span>{state.imapPort}</span>\n          </div>\n\n          <div>\n            <span>{i18n['IMAP security']}:</span>\n            <span>{state.imapEncryption}</span>\n          </div>\n\n          <div>\n            <span>{i18n['IMAP auth method']}:</span>\n            <span>{i18n['Normal password']}</span>\n          </div>\n\n          <div>\n            <span>{i18n['SMTP hostname']}:</span>\n            <span>{state.smtpHostName}</span>\n          </div>\n\n          <div>\n            <span>{i18n['SMTP port']}:</span>\n            <span>{state.smtpPort}</span>\n          </div>\n\n          <div>\n            <span>{i18n['SMTP security']}:</span>\n            <span>{state.smtpEncryption}</span>\n          </div>\n\n          <div>\n            <span>{i18n['SMTP auth method']}:</span>\n            <span>{i18n['Normal password']}</span>\n          </div>\n\n          <div>\n            <span>{i18n['Webmail URL']}:</span>\n            <span><Link to={{ pathname: `http://${window.location.hostname}${webMail}` }} target=\"_blank\">{webMail}</Link></span>\n          </div>\n\n          <input type=\"hidden\" name=\"v_credentials\" value={getCredentials()} />\n        </div>\n      </div>\n    </div>\n  );\n}","import React, { useEffect, useState } from 'react';\n\nimport TextInputWithExtraButton from 'src/components/ControlPanel/AddItemLayout/Form/TextInputWithExtraButton/TextInputWithExtraButton';\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport TextInput from 'src/components/ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport Password from 'src/components/ControlPanel/AddItemLayout/Form/Password/Password';\nimport TextArea from 'src/components/ControlPanel/AddItemLayout/Form/TextArea/TextArea';\nimport Checkbox from 'src/components/ControlPanel/AddItemLayout/Form/Checkbox/Checkbox';\nimport { editMailAccount, getMailAccountInfo } from '../../../ControlPanelService/Mail';\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport MailInfoBlock from '../MailInfoBlock/MailInfoBlock';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport Spinner from '../../Spinner/Spinner';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport HtmlParser from 'react-html-parser';\n\nexport default function EditMailAccount(props) {\n  const [autoreplyChecked, setAutoreplyChecked] = useState(false);\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [okMessage, setOkMessage] = useState('');\n  const [state, setState] = useState({\n    data: {},\n    quotaValue: '',\n    loading: false,\n    password: ''\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement(`/list/mail/`));\n    dispatch(removeFocusedElement());\n    setState({ ...state, loading: true });\n\n    fetchData();\n  }, []);\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let newMailDomain = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      newMailDomain[name] = value;\n    }\n\n    newMailDomain['v_domain'] = props.domain;\n    newMailDomain['v_account'] = props.account;\n    newMailDomain['Password'] = newMailDomain['v_password'];\n\n    if (Object.keys(newMailDomain).length !== 0 && newMailDomain.constructor === Object) {\n      setState({ ...state, loading: true });\n      editMailAccount(newMailDomain, props.domain, props.account)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg, ok_msg } = result.data;\n\n            if (error_msg) {\n              setErrorMessage(error_msg);\n              setOkMessage('');\n              setState({ ...state, loading: false });\n            } else {\n              dispatch(refreshCounters()).then(() => {\n                setErrorMessage('');\n                setOkMessage(ok_msg);\n                setState({ ...state, loading: false });\n              });\n            }\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const fetchData = () => {\n    setState({ ...state, loading: true });\n\n    getMailAccountInfo(props.domain, props.account)\n      .then(response => {\n        setState({\n          ...state,\n          data: response.data,\n          loading: false\n        });\n\n        setAutoreplyChecked(response.data.autoreply === 'yes');\n      })\n      .catch(err => console.error(err));\n  }\n\n  const toggleQuota = () => {\n    const value = state.data.quota === 'unlimited' ? '1000' : 'unlimited';\n    setState({ ...state, data: { ...state.data, quota: value } });\n  }\n\n  const goBack = () => {\n    history.push(`/list/mail/?domain=${props.domain}`);\n  }\n\n  return (\n    <div className=\"edit-template add-mail-account\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.MAIL}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Editing Mail Account']}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            {errorMessage}</span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            <span>{HtmlParser(okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        {state.loading ? <Spinner /> : (\n          <form onSubmit={event => submitFormHandler(event)}>\n            <input type=\"hidden\" name=\"save\" value=\"save\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            <div className=\"r-1\">\n              <div className=\"c-1\">\n                <TextInput\n                  title={i18n['Domain']}\n                  value={props.domain}\n                  name=\"v_domain\"\n                  id=\"domain\"\n                  disabled />\n\n                <Password name=\"v_password\" onChange={password => setState({ ...state, password })} />\n\n                <TextInputWithExtraButton title={i18n['Quota']} optionalTitle={i18n['in megabytes']} id=\"quota\" name=\"v_quota\" value={state.data.quota}>\n                  <button type=\"button\" onClick={toggleQuota}>\n                    <FontAwesomeIcon icon=\"infinity\" />\n                  </button>\n                </TextInputWithExtraButton>\n\n                <TextArea\n                  optionalTitle={`${i18n['use local-part']}`}\n                  defaultValue={state.data.aliases}\n                  title={i18n['Aliases']}\n                  name=\"v_aliases\"\n                  id=\"aliases\" />\n\n                <TextArea\n                  optionalTitle={`${i18n['one or more email addresses']}`}\n                  defaultValue={state.data.fwd}\n                  title={i18n['Forward to']}\n                  name=\"v_fwd\"\n                  id=\"fwd\" />\n\n                <Checkbox\n                  title={i18n['Do not store forwarded mail']}\n                  defaultChecked={state.data.fwd_only === 'yes'}\n                  name=\"v_fwd_only\"\n                  id=\"fwd_only\" />\n\n                <Checkbox\n                  title={i18n['Autoreply']}\n                  checked={autoreplyChecked}\n                  onChange={checked => setAutoreplyChecked(checked)}\n                  name=\"v_autoreply\"\n                  id=\"autoreply\" />\n\n                {\n                  autoreplyChecked && (\n                    <div style={{ transform: 'translateX(3rem)' }}>\n                      <TextArea\n                        defaultValue={state.data.autoreply_message}\n                        title={i18n['Message']}\n                        name=\"v_autoreply_message\"\n                        id=\"autoreply_message\" />\n                    </div>\n                  )\n                }\n\n                <TextInput\n                  title={i18n['Send login credentials to email address']}\n                  value={state.data.send_email}\n                  name=\"v_credentials\"\n                  id=\"credentials\" />\n              </div>\n\n              <div className=\"c-2\">\n                <MailInfoBlock\n                  webMail={state.data.webmail}\n                  hostName={state.data.hostname}\n                  userName={props.account}\n                  password={state.password}\n                  domain={props.domain} />\n              </div>\n            </div>\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Save}</button>\n              <button type=\"button\" className=\"back\" onClick={goBack}>{i18n.Back}</button>\n            </div>\n          </form>\n        )}\n      </AddItemLayout>\n    </div>\n  );\n}","import React, { useEffect, useState } from 'react';\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport TextInput from '../../ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport Checkbox from '../../ControlPanel/AddItemLayout/Form/Checkbox/Checkbox';\nimport { getMailInfo, updateMail } from '../../../ControlPanelService/Mail';\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Spinner from '../../../components/Spinner/Spinner';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport QS from 'qs';\n\nimport './EditMail.scss';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport HtmlParser from 'react-html-parser';\n\nconst EditMail = props => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [okMessage, setOkMessage] = useState('');\n  const [state, setState] = useState({\n    data: {},\n    loading: false\n  });\n\n  useEffect(() => {\n    let queryParams = QS.parse(history.location.search, { ignoreQueryPrefix: true });\n    const { domain } = queryParams;\n\n    dispatch(addActiveElement('/list/mail/'));\n    dispatch(removeFocusedElement());\n\n    if (domain) {\n      setState({ ...state, loading: true });\n      fetchData(domain);\n    }\n  }, []);\n\n  const fetchData = domain => {\n    getMailInfo(domain)\n      .then(response => {\n        setState({\n          ...state,\n          data: response.data,\n          loading: false\n        });\n      })\n      .catch(err => {\n        setState({ ...state, loading: false });\n        console.error(err);\n      });\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let updatedDomain = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      updatedDomain[name] = value;\n    }\n\n    updatedDomain['v_domain'] = state.data.domain;\n\n    if (Object.keys(updatedDomain).length !== 0 && updatedDomain.constructor === Object) {\n      setState({ ...state, loading: true });\n\n      updateMail(updatedDomain, state.data.domain)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg, ok_msg } = result.data;\n\n            if (error_msg) {\n              setErrorMessage(error_msg);\n              setOkMessage('');\n            } else {\n              dispatch(refreshCounters()).then(() => {\n                setErrorMessage('');\n                setOkMessage(ok_msg);\n              });\n            }\n          }\n        })\n        .then(() => fetchData(state.data.domain))\n        .catch(err => console.error(err));\n    }\n  }\n\n  return (\n    <div className=\"edit-template edit-mail\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.MAIL}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Editing Mail Domain']}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {errorMessage}\n          </span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout date={state.data.date} time={state.data.time} status={state.data.status}>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"edit-mail\">\n            <input type=\"hidden\" name=\"save\" value=\"save\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            <TextInput id=\"domain\" name=\"v_domain\" title={i18n['Domain']} value={state.data.domain} disabled />\n\n            <Checkbox\n              name=\"v_antispam\"\n              id=\"antispam\"\n              title={i18n['AntiSpam Support']}\n              defaultChecked={state.data.antispam === 'yes'} />\n\n            <Checkbox\n              name=\"v_antivirus\"\n              id=\"antivirus\"\n              title={i18n['AntiVirus Support']}\n              defaultChecked={state.data.antivirus === 'yes'} />\n\n            <Checkbox\n              name=\"v_dkim\"\n              id=\"dkim\"\n              title={i18n['DKIM Support']}\n              defaultChecked={state.data.dkim === 'yes'} />\n\n            <TextInput id=\"catchall\" name=\"v_catchall\" title={i18n['Catchall email']} value={state.data.catchall} />\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Save}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/mail/')}>{i18n.Back}</button>\n            </div>\n\n          </form>\n        }\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default EditMail;","import React, { useEffect, useState } from 'react';\nimport EditMailAccount from 'src/components/MailAccount/Edit/EditMailAccount';\nimport EditMail from 'src/components/Mail/Edit/EditMail';\nimport { useHistory } from 'react-router-dom';\nimport QueryString from 'qs';\nimport { Helmet } from 'react-helmet';\nimport { useSelector } from 'react-redux';\n\nexport default function EditMailWrapper() {\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const parsedQueryString = QueryString.parse(history.location.search, { ignoreQueryPrefix: true });\n  const [isMailAccount, setIsMailAccount] = useState(false);\n\n  useEffect(() => {\n    if (parsedQueryString.domain && parsedQueryString.account) {\n      setIsMailAccount(true);\n    } else {\n      setIsMailAccount(false);\n    }\n  }, [history.location]);\n\n  return (\n    <>\n      <Helmet>\n        <title>{`Vesta - ${i18n.MAIL}`}</title>\n      </Helmet>\n      {\n        isMailAccount\n          ? <EditMailAccount domain={parsedQueryString.domain} account={parsedQueryString.account} />\n          : <EditMail />\n      }\n    </>\n  );\n}","import React, { useEffect, useState } from 'react';\nimport { addActiveElement, removeFocusedElement } from \"../../../../actions/MainNavigation/mainNavigationActions\";\nimport Checkbox from '../../../ControlPanel/AddItemLayout/Form/Checkbox/Checkbox';\nimport TextArea from '../../../ControlPanel/AddItemLayout/Form/TextArea/TextArea';\nimport AddItemLayout from '../../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { getServiceInfo, updateService } from 'src/ControlPanelService/Server';\nimport Spinner from '../../../../components/Spinner/Spinner';\nimport Toolbar from '../../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './Service.scss';\nimport { Helmet } from 'react-helmet';\nimport HtmlParser from 'react-html-parser';\n\nconst Service = ({ serviceName = '' }) => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [okMessage, setOkMessage] = useState('');\n  const [state, setState] = useState({\n    data: {},\n    loading: false\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/server/'));\n    dispatch(removeFocusedElement());\n\n    if (!serviceName) {\n      history.push('/list/server');\n    }\n\n    setState({ ...state, loading: true });\n    fetchData(serviceName);\n  }, []);\n\n  const fetchData = serviceName => {\n    getServiceInfo(serviceName)\n      .then(response => {\n        const { config } = response.data;\n\n        if (!config || config.includes(\"file doesn't exist\")) {\n          history.push('/list/server');\n        }\n\n        setState({ ...state, data: response.data, loading: false });\n      })\n      .catch(err => console.error(err));\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let updatedService = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      updatedService[name] = value;\n    }\n\n    if (Object.keys(updatedService).length !== 0 && updatedService.constructor === Object) {\n      setState({ ...state, loading: true });\n\n      updateService(updatedService, serviceName)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg, ok_msg } = result.data;\n\n            setErrorMessage(error_msg || '');\n            setOkMessage(ok_msg || '');\n          }\n        })\n        .then(() => fetchData(serviceName))\n        .catch(err => console.error(err));\n    }\n  }\n\n  return (\n    <div className=\"edit-template edit-service\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.SERVER}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">\n          {i18n['Configuring Server']} / {state.data.service_name}\n        </div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {errorMessage}\n          </span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"edit-service\">\n            <input type=\"hidden\" name=\"save\" value=\"save\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            <TextArea\n              defaultValue={state.data.config}\n              title={state.data.config_path}\n              name=\"v_config\"\n              id=\"v_config\"\n              rows=\"18\" />\n\n            <br />\n\n            <Checkbox\n              title={i18n['restart']}\n              defaultChecked={true}\n              name=\"v_restart\"\n              id=\"restart\" />\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Save}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/server/')}>{i18n.Back}</button>\n            </div>\n\n          </form>\n        }\n      </AddItemLayout>\n    </div >\n  );\n}\n\nexport default Service;","import React, { useEffect, useState } from 'react';\n\nimport TextInputWithExtraButton from 'src/components/ControlPanel/AddItemLayout/Form/TextInputWithExtraButton/TextInputWithExtraButton';\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport TextInput from 'src/components/ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport Password from 'src/components/ControlPanel/AddItemLayout/Form/Password/Password';\nimport TextArea from 'src/components/ControlPanel/AddItemLayout/Form/TextArea/TextArea';\nimport Checkbox from 'src/components/ControlPanel/AddItemLayout/Form/Checkbox/Checkbox';\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { addMailAccount, getMailList } from '../../../ControlPanelService/Mail';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport MailInfoBlock from '../MailInfoBlock/MailInfoBlock';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport Spinner from '../../Spinner/Spinner';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './AddMailAccount.scss';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport HtmlParser from 'react-html-parser';\n\nexport default function AddMailAccount(props) {\n  const { i18n } = useSelector(state => state.session);\n  const dispatch = useDispatch();\n  const token = localStorage.getItem(\"token\");\n  const history = useHistory();\n  const [state, setState] = useState({\n    data: {},\n    advancedOptions: false,\n    autoreplyChecked: false,\n    quotaValue: '',\n    loading: false,\n    password: '',\n    userName: '',\n    okMessage: '',\n    errorMessage: '',\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement(`/list/mail/`));\n    dispatch(removeFocusedElement());\n\n    fetchData();\n  }, []);\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let newMailDomain = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {      \n      newMailDomain[name] = value;\n    }\n\n    newMailDomain['ok_acc'] = 'add';\n    newMailDomain['token'] = token;\n    newMailDomain['v_domain'] = props.domain;\n    newMailDomain['v_password'] = state.password;\n\n    if (!newMailDomain['v_quota']) newMailDomain['v_quota'] = '';\n    if (!newMailDomain['v_aliases']) newMailDomain['v_aliases'] = '';\n    if (!newMailDomain['v_fwd']) newMailDomain['v_fwd'] = '';\n\n    if (Object.keys(newMailDomain).length !== 0 && newMailDomain.constructor === Object) {\n      setState({ ...state, loading: true });\n      addMailAccount(newMailDomain, props.domain)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg: errorMessage, ok_msg: okMessage } = result.data;\n\n            if (errorMessage) {\n              setState({ ...state, errorMessage, okMessage, loading: false });\n            } else {\n              dispatch(refreshCounters()).then(() => {\n                setState({ ...state, okMessage, errorMessage: '', loading: false });\n              });\n            }\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const fetchData = () => {\n    setState({ ...state, loading: true });\n\n    getMailList()\n      .then(response => {\n        setState({\n          ...state,\n          data: response.data,\n          errorMessage: response.data['error_msg'],\n          okMessage: response.data['ok_msg'],\n          loading: false\n        });\n      })\n      .catch(err => console.error(err));\n  }\n\n  const toggleOptions = () => {\n    setState({ ...state, advancedOptions: !state.advancedOptions });\n  }\n\n  const toggleQuotaValue = () => {\n    if (state.quotaValue !== 'unlimited') {\n      setState({ ...state, quotaValue: 'unlimited' });\n    } else {\n      setState({ ...state, quotaValue: '' });\n    }\n  }\n\n  return (\n    <div className=\"edit-template add-mail-account\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.MAIL}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Adding Mail Account']}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {state.errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            {state.errorMessage}</span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {state.okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            <span>{HtmlParser(state.okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        {state.loading ? <Spinner /> : (\n          <form onSubmit={event => submitFormHandler(event)}>\n            <div className=\"r-1\">\n              <div className=\"c-1\">\n                <TextInput\n                  title={i18n['Domain']}\n                  value={props.domain}\n                  name=\"v_domain\"\n                  id=\"domain\"\n                  disabled />\n\n                <TextInput\n                  title={i18n['Account']}\n                  onChange={e => setState({ ...state, userName: e.target.value })}\n                  name=\"v_account\"\n                  id=\"account\" />\n\n                <Password name=\"v_password\" onChange={password => setState({ ...state, password })} />\n              </div>\n\n              <div className=\"c-2\">\n                <MailInfoBlock\n                  webMail={state.data.webmail}\n                  hostName={state.data.hostname}\n                  userName={state.userName}\n                  password={state.password}\n                  domain={props.domain} />\n              </div>\n            </div>\n\n            <div className=\"r-2\">\n              <button type=\"button\" onClick={toggleOptions}>\n                {i18n['Advanced options']}\n                {state.advancedOptions ? <FontAwesomeIcon icon=\"caret-up\" /> : <FontAwesomeIcon icon=\"caret-down\" />}\n              </button>\n\n              {\n                state.advancedOptions && (\n                  <>\n                    <TextInputWithExtraButton title={i18n['Quota']} optionalTitle={i18n['in megabytes']} id=\"quota\" name=\"v_quota\" value={state.quotaValue}>\n                      <button type=\"button\" onClick={toggleQuotaValue}>\n                        <FontAwesomeIcon icon=\"infinity\" />\n                      </button>\n                    </TextInputWithExtraButton>\n\n                    <TextArea\n                      optionalTitle={`${i18n['use local-part']}`}\n                      defaultValue={state.data.v_aliases}\n                      title={i18n['Aliases']}\n                      name=\"v_aliases\"\n                      id=\"aliases\" />\n\n                    <TextArea\n                      optionalTitle={`${i18n['one or more email addresses']}`}\n                      defaultValue={state.data.forward}\n                      title={i18n['Forward to']}\n                      name=\"v_fwd\"\n                      id=\"fwd\" />\n\n                    <Checkbox\n                      title={i18n['Do not store forwarded mail']}\n                      name=\"v_fwd_only\"\n                      id=\"fwd_only\" />\n                  </>\n                )\n              }\n\n              <TextInput\n                title={i18n['Send login credentials to email address']}\n                name=\"v_send_email\"\n                id=\"send_email\" />\n            </div>\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Add}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push(`/list/mail/?domain=${props.domain}`)}>{i18n.Back}</button>\n            </div>\n          </form>\n        )}\n      </AddItemLayout>\n    </div>\n  );\n}","import React, { useEffect, useState } from 'react';\n\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { addMail } from '../../../ControlPanelService/Mail';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport Spinner from '../../Spinner/Spinner';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './AddMail.scss'\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport HtmlParser from 'react-html-parser';\n\nconst AddMail = props => {\n  const { i18n } = useSelector(state => state.session);\n  const dispatch = useDispatch();\n  const token = localStorage.getItem(\"token\");\n  const history = useHistory();\n  const [state, setState] = useState({\n    loading: false,\n    antiSpamChecked: true,\n    antiVirusChecked: true,\n    dkimChecked: true,\n    okMessage: '',\n    errorMessage: '',\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/mail/'));\n    dispatch(removeFocusedElement());\n  }, []);\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let newMailDomain = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      newMailDomain[name] = value;\n    }\n\n    if (Object.keys(newMailDomain).length !== 0 && newMailDomain.constructor === Object) {\n      setState({ ...state, loading: true });\n      addMail(newMailDomain)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg: errorMessage, ok_msg: okMessage } = result.data;\n\n            if (errorMessage) {\n              setState({ ...state, errorMessage, okMessage, loading: false });\n            } else {\n              dispatch(refreshCounters()).then(() => {\n                setState({ ...state, okMessage, errorMessage: '', loading: false });\n              });\n            }\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  return (\n    <div className=\"edit-template add-web\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.MAIL}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Adding Mail Domain']}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {state.errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            {state.errorMessage}</span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {state.okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            <span>{HtmlParser(state.okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        {state.loading ? <Spinner /> : (\n          <form onSubmit={event => submitFormHandler(event)}>\n            <input type=\"hidden\" name=\"ok\" value=\"add\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            <div className=\"form-group\">\n              <label htmlFor=\"domain\">{i18n.Domain}</label>\n              <input type=\"text\" className=\"form-control\" id=\"domain\" name=\"v_domain\" />\n            </div>\n\n            <div className=\"form-group\">\n              <div className=\"checkbox-wrapper\">\n                <input\n                  type=\"checkbox\"\n                  name=\"v_antispam\"\n                  id=\"antispam-support\"\n                  onChange={event => setState({ ...state, antiSpamChecked: event.target.checked })}\n                  checked={state.antiSpamChecked} />\n                <label htmlFor=\"antispam-support\">{i18n['AntiSpam Support']}</label>\n              </div>\n            </div>\n\n            <div className=\"form-group\">\n              <div className=\"checkbox-wrapper\">\n                <input\n                  type=\"checkbox\"\n                  name=\"v_antivirus\"\n                  id=\"antivirus-support\"\n                  onChange={event => setState({ ...state, antiVirusChecked: event.target.checked })}\n                  checked={state.antiVirusChecked} />\n                <label htmlFor=\"antivirus-support\">{i18n['AntiVirus Support']}</label>\n              </div>\n            </div>\n\n            <div className=\"form-group\">\n              <div className=\"checkbox-wrapper\">\n                <input\n                  type=\"checkbox\"\n                  name=\"v_dkim\"\n                  id=\"dkim-support\"\n                  onChange={event => setState({ ...state, dkimChecked: event.target.checked })}\n                  checked={state.dkimChecked} />\n                <label htmlFor=\"dkim-support\">{i18n['DKIM Support']}</label>\n              </div>\n            </div>\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Add}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/mail/')}>{i18n.Back}</button>\n            </div>\n          </form>\n        )}\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default AddMail;","import React, { useEffect, useState } from 'react';\nimport AddMailAccount from 'src/components/MailAccount/Add/AddMailAccount';\nimport AddMail from 'src/components/Mail/Add/AddMail';\nimport { useHistory } from 'react-router-dom';\nimport QueryString from 'qs';\nimport { Helmet } from 'react-helmet';\nimport { useSelector } from 'react-redux';\n\nexport default function AddMailWrapper() {\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const [domain, setDomain] = useState(false);\n\n  useEffect(() => {\n    const parsedQueryString = QueryString.parse(history.location.search, { ignoreQueryPrefix: true });\n\n    if (parsedQueryString.domain) {\n      setDomain(parsedQueryString.domain);\n    } else {\n      setDomain('');\n    }\n  }, [history.location]);\n\n  return (\n    <>\n      <Helmet>\n        <title>{`Vesta - ${i18n.MAIL}`}</title>\n      </Helmet>\n      {\n        domain\n          ? <AddMailAccount domain={domain} />\n          : <AddMail />\n      }\n    </>\n  );\n}","import axios from \"axios\";\nimport { getAuthToken } from \"src/utils/token\";\n\nconst updateDNSUri = '/api/v1/edit/dns/index.php';\nconst addDnsApiUri = '/api/v1/add/dns/index.php';\nconst dNSInfoUri = '/api/v1/edit/dns/index.php';\nconst BASE_URL = window.location.origin;\nconst dnsApiUri = '/api/v1/list/dns/index.php';\n\nexport const getDnsList = () => {\n  return axios.get(BASE_URL + dnsApiUri);\n}\n\nexport const getDNSRecordsList = domain => {\n  return axios.get(`${BASE_URL}${dnsApiUri}?domain=${domain}`);\n}\n\nexport const getDNSRecordInfo = (domain, recordId) => {\n  return axios.get(`${BASE_URL}${updateDNSUri}?domain=${domain}&record_id=${recordId}`);\n}\n\nexport const bulkDomainAction = (action, domains) => {\n  const formData = new FormData();\n  formData.append(\"action\", action);\n  formData.append(\"token\", getAuthToken());\n\n  domains.forEach(record => {\n    formData.append(\"domain[]\", record);\n  });\n\n  return axios.post(BASE_URL + '/api/v1/bulk/dns/', formData);\n};\n\nexport const bulkAction = (action, records, domain) => {\n  const formData = new FormData();\n  formData.append(\"action\", action);\n  formData.append(\"token\", getAuthToken());\n  formData.append(\"domain\", domain);\n\n  records.forEach(record => {\n    formData.append(\"record[]\", record);\n  });\n\n  return axios.post(BASE_URL + '/api/v1/bulk/dns/', formData);\n};\n\nexport const handleAction = uri => {\n  return axios.get(BASE_URL + uri, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const addDomainNameSystem = data => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(BASE_URL + addDnsApiUri, formDataObject);\n}\n\nexport const addDomainNameSystemRecord = data => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(BASE_URL + addDnsApiUri, formDataObject);\n}\n\nexport const getDNSInfo = domain => {\n  return axios.get(BASE_URL + dNSInfoUri, {\n    params: {\n      domain,\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const updateDNS = (data, domain, recordId) => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(BASE_URL + updateDNSUri, formDataObject, {\n    params: {\n      domain,\n      record_id: recordId,\n      token: getAuthToken()\n    }\n  });\n}","import React, { useEffect, useState } from 'react';\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport SelectInput from '../../ControlPanel/AddItemLayout/Form/SelectInput/SelectInput';\nimport TextInput from '../../ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { getDNSInfo, updateDNS } from '../../../ControlPanelService/Dns';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Spinner from '../../../components/Spinner/Spinner';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport QS from 'qs';\n\nimport './EditDomainNameSystem.scss';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport HtmlParser from 'react-html-parser';\n\nconst EditDomainNameSystem = props => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [okMessage, setOkMessage] = useState('');\n  const [state, setState] = useState({\n    data: {},\n    loading: false\n  });\n\n  useEffect(() => {\n    let queryParams = QS.parse(history.location.search, { ignoreQueryPrefix: true });\n    const { domain } = queryParams;\n\n    dispatch(addActiveElement('/list/dns/'));\n    dispatch(removeFocusedElement());\n\n    if (domain) {\n      setState({ ...state, loading: true });\n      fetchData(domain);\n    }\n  }, []);\n\n  const fetchData = domain => {\n    getDNSInfo(domain)\n      .then(response => {\n        setState({\n          ...state,\n          data: response.data,\n          loading: false\n        });\n      })\n      .catch(err => {\n        setState({ ...state, loading: false });\n        console.error(err)\n      });\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let updatedDomain = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      updatedDomain[name] = value;\n    }\n\n    updatedDomain['v_domain'] = state.data.domain;\n\n    if (Object.keys(updatedDomain).length !== 0 && updatedDomain.constructor === Object) {\n      setState({ ...state, loading: true });\n\n      updateDNS(updatedDomain, state.data.domain)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg, ok_msg } = result.data;\n\n            if (error_msg) {\n              setErrorMessage(error_msg);\n              setOkMessage('');\n            } else {\n              dispatch(refreshCounters()).then(() => {\n                setErrorMessage('');\n                setOkMessage(ok_msg);\n              });\n            }\n          }\n        })\n        .then(() => fetchData(state.data.domain))\n        .catch(err => console.error(err));\n    }\n  }\n\n  return (\n    <div className=\"edit-template edit-dns\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.DNS}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Editing DNS Domain']}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {errorMessage}\n          </span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout date={state.data.date} time={state.data.time} status={state.data.status}>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"edit-dns\">\n            <input type=\"hidden\" name=\"save\" value=\"save\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            <TextInput id=\"domain\" name=\"v_domain\" title={i18n['Domain']} value={state.data.domain} disabled />\n\n            <TextInput id=\"ip\" name=\"v_ip\" title={i18n['IP Address']} value={state.data.ip} />\n\n            <SelectInput\n              optionalTitle={state.data.dns_system}\n              options={state.data.templates}\n              selected={state.data.template}\n              title={i18n['Template']}\n              name=\"v_template\"\n              id=\"templates\" />\n\n            <TextInput\n              optionalTitle={state.data['YYYY-MM-DD']}\n              title={i18n['Expiration Date']}\n              value={state.data.exp}\n              name=\"v_exp\"\n              id=\"exp\" />\n\n            <TextInput id=\"soa\" name=\"v_soa\" title=\"SOA\" value={state.data.soa} />\n\n            <TextInput id=\"ttl\" name=\"v_ttl\" title=\"TTL\" value={state.data.ttl} />\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Save}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/dns/')}>{i18n.Back}</button>\n            </div>\n\n          </form>\n        }\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default EditDomainNameSystem;","import React, { useEffect, useState } from 'react';\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport SelectInput from 'src/components/ControlPanel/AddItemLayout/Form/SelectInput/SelectInput';\nimport TextInput from '../../ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { updateDNS, getDNSRecordInfo } from 'src/ControlPanelService/Dns';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Spinner from '../../../components/Spinner/Spinner';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport QS from 'qs';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport HtmlParser from 'react-html-parser';\n\nexport default function EditDNSRecord(props) {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [okMessage, setOkMessage] = useState('');\n  const [state, setState] = useState({\n    data: {},\n    selectOptions: [\n      'A',\n      'AAAA',\n      'NS',\n      'CNAME',\n      'MX',\n      'TXT',\n      'SRV',\n      'DNSKEY',\n      'KEY',\n      'IPSECKEY',\n      'PTR',\n      'SPF',\n      'TLSA',\n      'CAA'\n    ],\n    loading: false\n  });\n\n  useEffect(() => {\n    const { domain, record_id } = props;\n\n    dispatch(addActiveElement('/list/dns/'));\n    dispatch(removeFocusedElement());\n\n    if (domain && record_id) {\n      setState({ ...state, loading: true });\n      fetchData(domain, record_id);\n    }\n  }, []);\n\n  const fetchData = (domain, record_id) => {\n    getDNSRecordInfo(domain, record_id)\n      .then(response => {\n        setState({\n          ...state,\n          data: response.data,\n          loading: false\n        });\n      })\n      .catch(err => console.error(err));\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let updatedRecord = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      updatedRecord[name] = value;\n    }\n\n    updatedRecord['v_domain'] = state.data.domain;\n    updatedRecord['v_record_id'] = props.record_id;\n    updatedRecord['v_type'] = state.data.type;\n\n    if (Object.keys(updatedRecord).length !== 0 && updatedRecord.constructor === Object) {\n      setState({ ...state, loading: true });\n\n      updateDNS(updatedRecord, props.domain, props.record_id)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg, ok_msg } = result.data;\n\n            if (error_msg) {\n              setOkMessage('');\n              setErrorMessage(error_msg);\n            } else {\n              dispatch(refreshCounters()).then(() => {\n                setOkMessage(ok_msg);\n                setErrorMessage('');\n              });\n            }\n          }\n        })\n        .then(() => fetchData(props.domain, props.record_id))\n        .catch(err => console.error(err));\n    }\n  }\n\n  return (\n    <div className=\"edit-template edit-dns-rec\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.DNS}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Editing DNS Record']}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {errorMessage}\n          </span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout date={state.data.date} time={state.data.time} status={state.data.status}>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"edit-dns-rec\">\n            <input type=\"hidden\" name=\"save\" value=\"save\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            <TextInput\n              title={i18n['Domain']}\n              value={props.domain}\n              name=\"v_domain\"\n              id=\"domain\"\n              disabled />\n\n            <TextInput\n              value={state.data.rec}\n              title={i18n['Record']}\n              name=\"v_record_id\"\n              id=\"domain\"\n              disabled />\n\n            <SelectInput\n              options={state.selectOptions}\n              selected={state.data.type}\n              title={i18n['Type']}\n              name=\"v_type\"\n              id=\"type\"\n              disabled />\n\n            <TextInput\n              title={i18n['IP or Value']}\n              value={state.data.val}\n              name=\"v_val\"\n              id=\"val\" />\n\n            <TextInput\n              optionalTitle={`(${i18n['optional']})`}\n              value={state.data.priority}\n              title={i18n['Priority']}\n              name=\"v_priority\"\n              id=\"priority\" />\n\n            <TextInput\n              optionalTitle={`(${i18n['internal']})`}\n              title={i18n['Record Number']}\n              value={state.data.record_id}\n              name=\"v_priority\"\n              id=\"priority\" />\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Save}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push(`/list/dns?domain=${props.domain}`)}>{i18n.Back}</button>\n            </div>\n\n          </form>\n        }\n      </AddItemLayout>\n    </div>\n  );\n}","import React, { useEffect, useState } from 'react';\nimport EditDomainNameSystem from 'src/components/DomainNameSystem/Edit/EditDomainNameSystem';\nimport EditDNSRecord from 'src/components/DNSRecord/Edit/EditDNSRecord';\nimport { useHistory } from 'react-router-dom';\nimport QueryString from 'qs';\nimport { Helmet } from 'react-helmet';\nimport { useSelector } from 'react-redux';\n\nexport default function EditDNSWrapper() {\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const parsedQueryString = QueryString.parse(history.location.search, { ignoreQueryPrefix: true });\n  const [isDnsRecord, setIsDnsRecord] = useState(false);\n\n  useEffect(() => {\n    if (parsedQueryString.domain && parsedQueryString.record_id) {\n      setIsDnsRecord(true);\n    } else {\n      setIsDnsRecord(false);\n    }\n  }, [history.location]);\n\n  return (\n    <>\n      <Helmet>\n        <title>{`Vesta - ${i18n.DNS}`}</title>\n      </Helmet>\n      {\n        isDnsRecord\n          ? <EditDNSRecord domain={parsedQueryString.domain} record_id={parsedQueryString.record_id} />\n          : <EditDomainNameSystem />\n      }\n    </>\n  );\n}","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport Checkbox from '../../../ControlPanel/AddItemLayout/Form/Checkbox/Checkbox';\nimport TextArea from '../../../ControlPanel/AddItemLayout/Form/TextArea/TextArea';\n\nimport './SslSupport.scss';\n\nconst SslSupport = props => {\n  const { i18n } = useSelector(state => state.session);\n  const [letsEncrypt, setLetsEncrypt] = useState(props.letsEncrypt);\n\n  useEffect(() => {\n    setLetsEncrypt(props.letsEncrypt);\n  }, []);\n\n  const onChangeLetsEncrypt = checked => {\n    setLetsEncrypt(checked);\n  }\n\n  return (\n    <div className=\"ssl-support\">\n      <>\n        <Checkbox\n          onChange={onChangeLetsEncrypt}\n          name=\"v_letsencrypt\"\n          id=\"lets-encrypt\"\n          title={i18n['Lets Encrypt Support']}\n          defaultChecked={letsEncrypt} />\n\n        {!props.letsEncrypt && <span className=\"lets-encrypt-span\">{letsEncrypt ? i18n['Your certificate will be automatically issued in 5 minutes'] : null}</span>}\n      </>\n\n      <input type=\"hidden\" value=\"same\" name=\"v_ssl_home\" />\n\n      <TextArea\n        id=\"ssl-certificate\"\n        name=\"v_ssl_crt\"\n        title={i18n['SSL Certificate']}\n        defaultValue={props.sslCertificate}\n        disabled={letsEncrypt}\n        optionalTitle={<>/ <button type=\"button\" onClick={() => props.setModalVisible(true)} className=\"generate-csr\">{i18n['Generate CSR']}</button></>} />\n\n      <TextArea\n        id=\"ssl-key\"\n        name=\"v_ssl_key\"\n        disabled={letsEncrypt}\n        defaultValue={props.sslKey}\n        title={i18n['SSL Key']} />\n\n      <TextArea\n        id=\"ssl-ca\"\n        name=\"v_ssl_ca\"\n        disabled={letsEncrypt}\n        defaultValue={props.sslCertificateAuthority}\n        title={i18n['SSL Certificate Authority / Intermediate']}\n        optionalTitle={`( ${i18n['optional']} )`} />\n\n      <div className=\"additional-info\">\n        {\n          props.sslSubject.length > 0\n          && (\n            <div>\n              <span>{i18n['SUBJECT']}:</span>\n              <span>{props.sslSubject}</span>\n            </div>\n          )\n        }\n\n        {\n          props.sslAliases.length > 0\n          && (\n            <div>\n              <span>{i18n['ALIASES']}:</span>\n              <span>{props.sslAliases}</span>\n            </div>\n          )\n        }\n\n        {\n          props.sslNotBefore.length > 0\n          && (\n            <div>\n              <span>{i18n['NOT_BEFORE']}:</span>\n              <span>{props.sslNotBefore}</span>\n            </div>\n          )\n        }\n\n        {\n          props.sslNotAfter.length > 0\n          && (\n            <div>\n              <span>{i18n['NOT_AFTER']}:</span>\n              <span>{props.sslNotAfter}</span>\n            </div>\n          )\n        }\n\n        {\n          props.sslSignature.length > 0\n          && (\n            <div>\n              <span>{i18n['SIGNATURE']}:</span>\n              <span>{props.sslSignature}</span>\n            </div>\n          )\n        }\n\n        {\n          props.sslPubKey.length > 0\n          && (\n            <div>\n              <span>{i18n['PUB_KEY']}:</span>\n              <span>{props.sslPubKey}</span>\n            </div>\n          )\n        }\n\n        {\n          props.sslIssuer.length > 0\n          && (\n            <div>\n              <span>{i18n['ISSUER']}:</span>\n              <span>{props.sslIssuer}</span>\n            </div>\n          )\n        }\n      </div>\n\n      <br />\n      <br />\n    </div>\n  );\n}\n\nexport default SslSupport;\n","import React, { useEffect, useState } from 'react';\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport { updateWebDomain, getDomainInfo } from '../../../ControlPanelService/Web';\nimport Password from '../../../components/ControlPanel/AddItemLayout/Form/Password/Password';\nimport SelectInput from '../../ControlPanel/AddItemLayout/Form/SelectInput/SelectInput';\nimport AdditionalFtpWrapper from '../Add/AdditionalFtpWrapper/AdditionalFtpWrapper';\nimport TextInput from '../../ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport Checkbox from '../../ControlPanel/AddItemLayout/Form/Checkbox/Checkbox';\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Spinner from '../../../components/Spinner/Spinner';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport SslSupport from './SslSupport/SslSupport';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport GenerateSSL from 'src/containers/GenerateCSR';\nimport 'src/components/Modal/Modal.scss';\nimport QS from 'qs';\n\nimport './EditWeb.scss';\nimport TextArea from '../../ControlPanel/AddItemLayout/Form/TextArea/TextArea';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport HtmlParser from 'react-html-parser';\n\nconst EditWeb = props => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const { session } = useSelector(state => state.userSession);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [modalVisible, setModalVisible] = useState(false);\n  const [okMessage, setOkMessage] = useState('');\n  const [state, setState] = useState({\n    data: {},\n    domain: '',\n    webStat: '',\n    sslSupport: false,\n    letsEncrypt: false,\n    additionalFtp: false,\n    proxySupport: false,\n    statAuth: false,\n    loading: false\n  });\n\n  useEffect(() => {\n    let queryParams = QS.parse(history.location.search, { ignoreQueryPrefix: true });\n    const { domain } = queryParams;\n\n    dispatch(addActiveElement('/list/web/'));\n    dispatch(removeFocusedElement());\n\n    if (domain) {\n      setState({ ...state, loading: true });\n      fetchData(domain);\n    }\n  }, []);\n\n  const fetchData = domain => {\n    getDomainInfo(domain)\n      .then(response => {\n        setState({\n          ...state,\n          domain,\n          webStat: response.data.v_stats ? response.data.v_stats : 'none',\n          sslSupport: response.data.ssl === 'yes',\n          letsEncrypt: response.data.letsencrypt === 'yes',\n          proxySupport: !!response.data.proxy,\n          data: response.data,\n          additionalFtp: !!response.data.ftp_user,\n          statAuth: response.data.stats_user,\n          loading: false\n        });\n      })\n      .catch(err => console.error(err));\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let updatedDomain = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      updatedDomain[name] = value;\n    }\n\n    updatedDomain['v_domain'] = state.domain;\n\n    if (updatedDomain['v_ssl'] === 'on') {\n      updatedDomain['v_ssl'] = 'yes';\n    } else {\n      delete updatedDomain['v_ssl'];\n    }\n\n    if (updatedDomain['v_letsencrypt'] === 'on') {\n      updatedDomain['v_letsencrypt'] = 'yes';\n    } else {\n      delete updatedDomain['v_letsencrypt'];\n    }\n\n    if (!updatedDomain['v_ssl_ca']) {\n      delete updatedDomain['v_ssl_ca'];\n    }\n\n    if (!updatedDomain['v_ssl_crt']) {\n      delete updatedDomain['v_ssl_crt'];\n    }\n\n    if (!updatedDomain['v_ssl_key']) {\n      delete updatedDomain['v_ssl_key'];\n    }\n\n    if (Object.keys(updatedDomain).length !== 0 && updatedDomain.constructor === Object) {\n      setState({ ...state, loading: true });\n\n      updateWebDomain(updatedDomain, state.domain)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg, ok_msg } = result.data;\n\n            if (error_msg) {\n              setErrorMessage(error_msg);\n              setOkMessage('');\n              setState({ ...state, loading: false });\n            } else {\n              dispatch(refreshCounters()).then(() => {\n                setErrorMessage('');\n                setOkMessage(ok_msg);\n                fetchData(state.domain);\n              });\n            }\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const formatData = object => {\n    let result = [];\n\n    for (let i in object) {\n      result.push(i);\n    }\n\n    return result;\n  }\n\n  const onChangeSslSupport = checked => {\n    setState({ ...state, sslSupport: checked });\n  }\n\n  const onChangeProxySupport = checked => {\n    setState({ ...state, proxySupport: checked });\n  }\n\n  const onChangeWebStats = webStat => {\n    setState({ ...state, webStat });\n  }\n\n  const onChangeStatisticsAuth = statAuth => {\n    setState({ ...state, statAuth });\n  }\n\n  const onChangeAdditionalFtp = additionalFtp => {\n    setState({ ...state, additionalFtp });\n  }\n\n  return (\n    <div className=\"edit-template edit-web\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.WEB}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Editing Domain']}</div>\n        <div className=\"error\"><span className=\"error-message\">{errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {errorMessage}</span></div>\n        <div className=\"success\">\n          <span className=\"ok-message\">{okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(okMessage)}</span> </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout date={state.data.date} time={state.data.time} status={state.data.status}>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"add-web\">\n            <input type=\"hidden\" name=\"save\" value=\"save\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            <TextInput id=\"domain\" name=\"v_domain\" title={i18n['Domain']} value={state.domain} disabled />\n\n            <SelectInput\n              options={formatData(state.data.ips)}\n              selected={state.data.ip}\n              name=\"v_ip\"\n              id=\"ip\"\n              title={i18n['IP Address']} />\n\n            <TextArea\n              id=\"proxy-aliases\"\n              name=\"v_aliases\"\n              title={i18n['Aliases']}\n              defaultValue={state.data.aliases} />\n\n            <SelectInput\n              options={state.data.templates}\n              selected={state.data.template}\n              name=\"v_template\"\n              id=\"web-template\"\n              optionalTitle={state.data.web_system}\n              title={i18n['Web Template']} />\n\n            {\n              session.WEB_BACKEND && (\n                <SelectInput\n                  options={state.data.backend_templates}\n                  selected={state.data.backend_template || 'default'}\n                  name=\"v_backend_template\"\n                  id=\"backend-template\"\n                  optionalTitle={state.data.web_backend}\n                  title={i18n['Backend Template']} />\n              )\n            }\n\n            {\n              state.data.proxy_system && (\n                <>\n                  <Checkbox\n                    onChange={onChangeProxySupport}\n                    name=\"v_proxy\"\n                    id=\"proxy\"\n                    title={i18n['Proxy Support'] ?? 'Proxy Support'}\n                    defaultChecked={state.proxySupport} />\n\n                  {\n                    state.proxySupport && (<div style={{ transform: 'translateX(3rem)' }}>\n                      <SelectInput\n                        options={state.data.proxy_templates}\n                        selected={state.data.proxy_template || 'default'}\n                        optionalTitle={state.data.proxy_system}\n                        name=\"v_proxy_template\"\n                        id=\"proxy_template\"\n                        title={i18n['Proxy Template']} />\n\n                      <TextArea\n                        id=\"proxy-extensions\"\n                        name=\"v_proxy_ext\"\n                        title={i18n['Proxy Extensions']}\n                        defaultValue={state.data.proxy_ext} />\n                    </div>)\n                  }\n                </>\n              )\n            }\n\n            <Checkbox\n              onChange={onChangeSslSupport}\n              name=\"v_ssl\"\n              id=\"ssl-support\"\n              title={i18n['SSL Support'] ?? 'SSL Support'}\n              defaultChecked={state.sslSupport} />\n\n            {\n              state.sslSupport && (\n                <SslSupport\n                  sslSubject={state.data.ssl_subject}\n                  sslAliases={state.data.ssl_aliases}\n                  sslNotBefore={state.data.ssl_not_before}\n                  sslNotAfter={state.data.ssl_not_after}\n                  sslSignature={state.data.ssl_signature}\n                  sslPubKey={state.data.ssl_pub_key}\n                  sslIssuer={state.data.ssl_issuer}\n                  sslCertificate={state.data.ssl_crt}\n                  sslKey={state.data.ssl_key}\n                  setModalVisible={bool => setModalVisible(bool)}\n                  sslCertificateAuthority={state.data.ssl_ca}\n                  domain={state.domain}\n                  sslHome={state.data.ssl_home}\n                  letsEncrypt={state.letsEncrypt}\n                />\n              )\n            }\n\n            <SelectInput\n              options={state.data.stats}\n              selected={state.webStat}\n              title={i18n['Web Statistics']}\n              onChange={onChangeWebStats}\n              name=\"v_stats\"\n              id=\"stats\" />\n\n            {\n              state.webStat !== 'none' && (\n                <div className=\"web-stat-additional\">\n                  <Checkbox\n                    onChange={onChangeStatisticsAuth}\n                    name=\"v_stats_auth\"\n                    id=\"stat-auth\"\n                    defaultChecked={state.data.stats_user}\n                    title={i18n['Statistics Authorization']} />\n\n                  {\n                    state.statAuth && (\n                      <>\n                        <TextInput id=\"domain\" name=\"v_stats_user\" title={i18n['Username']} value={state.data.stats_user} />\n\n                        <Password name='v_stats_password' />\n                      </>\n                    )\n                  }\n                </div>\n              )\n            }\n\n            <Checkbox\n              onChange={onChangeAdditionalFtp}\n              name=\"v_ftp\"\n              id=\"add-ftp\"\n              checked={state.additionalFtp}\n              title={i18n['Additional FTP Account']} />\n\n            <AdditionalFtpWrapper\n              checked={state.additionalFtp}\n              prefixI18N={state.data.prefixI18N}\n              ftps={state.data.ftp_users}\n              ftpUserPrePath={state.data.ftp_user_prepath}\n              unCheckAdditionalFtpBox={() => onChangeAdditionalFtp(false)} />\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Save}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/web/')}>{i18n.Back}</button>\n            </div>\n\n          </form>\n        }\n      </AddItemLayout>\n\n      <div className={`modal fade ${modalVisible ? 'show' : ''}`} id=\"c-panel-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" style={{ display: modalVisible ? 'block' : 'none' }}>\n        <div className=\"modal-dialog\" role=\"document\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5>{i18n['Generating CSR']}</h5>\n              <button type=\"button\" onClick={() => setModalVisible(false)} className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n            <GenerateSSL\n              domain={state.domain}\n              closeModal={() => setModalVisible(false)}\n              prePopulateInputs={({ crt, key }) => {\n                setState({ ...state, data: { ...state.data, ssl_crt: crt, ssl_key: key } });\n                setModalVisible(false);\n              }} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default EditWeb;\n","import React, { useEffect, useState } from 'react';\nimport { addActiveElement, removeFocusedElement } from \"../../../../actions/MainNavigation/mainNavigationActions\";\nimport TextInput from '../../../ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport Checkbox from '../../../ControlPanel/AddItemLayout/Form/Checkbox/Checkbox';\nimport TextArea from '../../../ControlPanel/AddItemLayout/Form/TextArea/TextArea';\nimport { getServiceInfo, updateService } from 'src/ControlPanelService/Server';\nimport AddItemLayout from '../../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Spinner from '../../../../components/Spinner/Spinner';\nimport Toolbar from '../../../MainNav/Toolbar/Toolbar';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './EditPhp.scss';\nimport { Helmet } from 'react-helmet';\nimport HtmlParser from 'react-html-parser';\n\nconst EditPhp = ({ serviceName = '' }) => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [okMessage, setOkMessage] = useState('');\n  const [restart, setRestart] = useState(true);\n  const [state, setState] = useState({\n    data: {},\n    loading: false,\n    basicOptions: true,\n    advancedOptions: false\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/server/'));\n    dispatch(removeFocusedElement());\n\n    if (!serviceName) {\n      history.push('/list/server');\n    }\n\n    setState({ ...state, loading: true });\n    fetchData();\n  }, []);\n\n  const fetchData = () => {\n    getServiceInfo(serviceName)\n      .then(response => {\n        setState({\n          ...state,\n          data: response.data,\n          loading: false\n        });\n      })\n      .catch(err => {\n        setState({ ...state, loading: false });\n        console.error(err);\n      });\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let updatedService = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      updatedService[name] = value;\n    }\n\n    if (Object.keys(updatedService).length !== 0 && updatedService.constructor === Object) {\n      setState({ ...state, loading: true });\n\n      updatedService['v_config'] = state.data.config;\n      updatedService['v_restart'] = restart ? 'yes' : 'no';\n\n      updateService(updatedService, `/${serviceName}`)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg, ok_msg } = result.data;\n\n            setErrorMessage(error_msg || '');\n            setOkMessage(ok_msg || '');\n          }\n        })\n        .then(() => fetchData())\n        .catch(err => console.error(err));\n    }\n  }\n\n  const toggleOptions = () => {\n    setState({\n      ...state,\n      advancedOptions: !state.advancedOptions,\n      basicOptions: !state.basicOptions\n    });\n  }\n\n  const onUpdateConfig = ({ id, value }) => {\n    if (!value) return;\n\n    var regexp = new RegExp(`(${id})(.+)(${state.data[id]})`, 'gm');\n    const updatedConfig = state.data.config.replace(regexp, `$1$2${value}`);\n    setState({ ...state, data: { ...state.data, config: updatedConfig, [id]: value } });\n  }\n\n  return (\n    <div className=\"edit-template edit-php\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.SERVER}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\"><Link to={`/edit/server/${state.data.web_system}`}>{i18n['Configuring Server']} / {state.data.web_system}</Link></div>\n        <div className=\"link\"><Link to=\"/edit/server/php\">{i18n['Configure']} php.ini</Link></div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {errorMessage}\n          </span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"edit-mail\">\n            <input type=\"hidden\" name=\"save\" value=\"save\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            {\n              !state.basicOptions && (\n                <button type=\"button\" onClick={() => toggleOptions()}>\n                  {i18n['Basic options']}\n                  {state.basicOptions ? <FontAwesomeIcon icon=\"caret-up\" /> : <FontAwesomeIcon icon=\"caret-down\" />}\n                </button>\n              )\n            }\n\n            {\n              state.basicOptions && (\n                <>\n                  <TextInput\n                    id=\"max_execution_time\"\n                    title=\"max_execution_time\"\n                    name=\"v_max_execution_time\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={parseInt(state.data.max_execution_time)} />\n\n                  <TextInput\n                    id=\"worker_connections\"\n                    title=\"worker_connections\"\n                    name=\"v_worker_connections\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={parseInt(state.data.max_input_time)} />\n\n                  <TextInput\n                    id=\"memory_limit\"\n                    title=\"memory_limit\"\n                    name=\"v_memory_limit\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={parseInt(state.data.memory_limit)} />\n\n                  <TextInput\n                    id=\"error_reporting\"\n                    title=\"error_reporting\"\n                    name=\"v_error_reporting\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={state.data.error_reporting} />\n\n                  <TextInput\n                    id=\"display_errors\"\n                    title=\"display_errors\"\n                    name=\"v_display_errors\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={state.data.display_errors} />\n\n                  <TextInput\n                    id=\"post_max_size\"\n                    title=\"post_max_size\"\n                    name=\"v_post_max_size\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={state.data.post_max_size} />\n\n                  <TextInput\n                    id=\"upload_max_filesize\"\n                    title=\"upload_max_filesize\"\n                    name=\"v_upload_max_filesize\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={state.data.upload_max_filesize} />\n                </>\n              )\n            }\n\n            {\n              !state.advancedOptions && (\n                <button type=\"button\" onClick={() => toggleOptions()}>\n                  {i18n['Advanced options']}\n                  {state.advancedOptions ? <FontAwesomeIcon icon=\"caret-up\" /> : <FontAwesomeIcon icon=\"caret-down\" />}\n                </button>\n              )\n            }\n\n            <br />\n            <br />\n\n            {\n              state.advancedOptions && (\n                <>\n                  <TextArea\n                    onChange={e => setState({ ...state, data: { ...state.data, config: e.target.value } })}\n                    defaultValue={state.data.config}\n                    title={state.data.config_path}\n                    name=\"v_config\"\n                    id=\"v_config\"\n                    rows=\"25\" />\n\n                  <br />\n\n                  <Checkbox\n                    title={i18n['restart']}\n                    defaultChecked={true}\n                    onChange={checked => setRestart(checked)}\n                    name=\"v_restart\"\n                    id=\"restart\" />\n                </>\n              )\n            }\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Save}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/server/')}>{i18n.Back}</button>\n            </div>\n\n          </form>\n        }\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default EditPhp;","import React from 'react';\nimport ListItem from '../ControlPanel/ListItem/ListItem';\nimport Container from '../ControlPanel/Container/Container';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst Database = props => {\n  const { data } = props;\n  const { i18n } = useSelector(state => state.session);\n  const token = localStorage.getItem(\"token\");\n\n  const toggleFav = (starred) => {\n    if (starred) {\n      props.toggleFav(data.NAME, 'add');\n    } else {\n      props.toggleFav(data.NAME, 'delete');\n    }\n  }\n\n  const checkItem = () => {\n    props.checkItem(data.NAME);\n  }\n\n  const handleSuspend = () => {\n    let suspendedStatus = data.SUSPENDED === 'yes' ? 'unsuspend' : 'suspend' === 'yes' ? 'unsuspend' : 'suspend';\n    props.handleModal(data.suspend_conf, `/api/v1/${suspendedStatus}/db/index.php?database=${data.NAME}`);\n  }\n\n  const handleDelete = () => {\n    props.handleModal(data.delete_conf, `/api/v1/delete/db/index.php?database=${data.NAME}`);\n  }\n\n  return (\n    <ListItem\n      id={data.NAME}\n      date={data.DATE}\n      toggleFav={toggleFav}\n      checkItem={checkItem}\n      starred={data.STARRED}\n      focused={data.FOCUSED}\n      checked={data.isChecked}\n      suspended={data.SUSPENDED === 'yes'}>\n\n      <Container className=\"r-col w-85\">\n        <div className=\"name\">{data.DATABASE}</div>\n        <br />\n        <div className=\"stats\">\n          <Container className=\"c-1\">\n            <div className=\"disk\">\n              {i18n.Disk}: <span><span className=\"stat\">{data.U_DISK}</span>{i18n.mb}</span>\n              <div className=\"percent\" style={{ width: `${data.U_DISK_PERCENT}%` || '0%' }}></div>\n            </div>\n          </Container>\n          <Container className=\"c-2\">\n            <div>{i18n.User}: <span className=\"stat\">{data.DBUSER}</span></div>\n            <div>{i18n.Charset}: <span className=\"stat\">{data.CHARSET}</span></div>\n          </Container>\n          <Container className=\"c-3\">\n            <div>{i18n.Host}: <span className=\"stat\">{data.HOST}</span></div>\n            <div>{i18n.Type}: <span className=\"stat\">{data.TYPE}</span></div>\n          </Container>\n        </div>\n      </Container>\n      <div className=\"actions\">\n        <div>\n          <Link className=\"link-edit\" to={`/edit/db/?database=${data.NAME}`}>\n            {i18n.edit}\n            {data.FOCUSED ? <span className=\"shortcut-button html-unicode\">&#8617;</span> : <FontAwesomeIcon icon=\"pen\" />}\n          </Link>\n        </div>\n\n        <div>\n          <button\n            className=\"link-gray\"\n            onClick={() => handleSuspend()}>\n            {i18n[data.suspend_action]}\n            {data.FOCUSED ? <span className=\"shortcut-button\">S</span> : <FontAwesomeIcon icon={data.SUSPENDED === 'yes' ? 'unlock' : 'lock'} />}\n          </button>\n        </div>\n\n        <div>\n          <button className=\"link-delete\" onClick={() => handleDelete()}>\n            {i18n.Delete}\n            {data.FOCUSED ? <span className=\"shortcut-button del\">Del</span> : <FontAwesomeIcon icon=\"times\" />}\n          </button>\n        </div>\n      </div>\n    </ListItem>\n  );\n}\n\nexport default Database;","import React, { useState, useEffect } from 'react';\nimport { addControlPanelContentFocusedElement, removeControlPanelContentFocusedElement } from '../../actions/ControlPanelContent/controlPanelContentActions';\nimport { addActiveElement, removeFocusedElement } from '../../actions/MainNavigation/mainNavigationActions';\nimport DropdownFilter from '../../components/MainNav/Toolbar/DropdownFilter/DropdownFilter';\nimport { bulkAction, getDatabaseList, handleAction } from '../../ControlPanelService/Db';\nimport * as MainNavigation from '../../actions/MainNavigation/mainNavigationActions';\nimport SearchInput from '../../components/MainNav/Toolbar/SearchInput/SearchInput';\nimport { addFavorite, deleteFavorite } from '../../ControlPanelService/Favorites';\nimport LeftButton from '../../components/MainNav/Toolbar/LeftButton/LeftButton';\nimport Checkbox from '../../components/MainNav/Toolbar/Checkbox/Checkbox';\nimport Select from '../../components/MainNav/Toolbar/Select/Select';\nimport Toolbar from '../../components/MainNav/Toolbar/Toolbar';\nimport Modal from '../../components/ControlPanel/Modal/Modal';\nimport Database from '../../components/Database/Database';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Spinner from '../../components/Spinner/Spinner';\nimport './Databases.scss';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport { Link } from 'react-router-dom';\n\nconst Databases = props => {\n  const { i18n } = useSelector(state => state.session);\n  const { controlPanelFocusedElement } = useSelector(state => state.controlPanelContent);\n  const { focusedElement } = useSelector(state => state.mainNavigation);\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const [modal, setModal] = useState({\n    text: '',\n    visible: false,\n    actionUrl: '',\n  });\n  const [state, setState] = useState({\n    databases: [],\n    dbFav: [],\n    toggledAll: false,\n    dbAdmin: '',\n    dbAdminLink: '',\n    db_myadmin_link: '',\n    db_pgadmin_link: '',\n    sorting: i18n.Date,\n    order: \"descending\",\n    selection: [],\n    totalAmount: ''\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/db/'));\n    dispatch(removeFocusedElement());\n    dispatch(removeControlPanelContentFocusedElement());\n    fetchData().then(() => setLoading(false));\n\n    return () => {\n      dispatch(removeControlPanelContentFocusedElement());\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleContentSelection);\n    window.addEventListener(\"keydown\", handleFocusedElementShortcuts);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleContentSelection);\n      window.removeEventListener(\"keydown\", handleFocusedElementShortcuts);\n    };\n  }, [controlPanelFocusedElement, focusedElement, state.databases]);\n\n  const handleContentSelection = event => {\n    if (event.keyCode === 38 || event.keyCode === 40) {\n      if (focusedElement) {\n        dispatch(MainNavigation.removeFocusedElement());\n      }\n    }\n\n    if (event.keyCode === 38) {\n      event.preventDefault();\n      handleArrowUp();\n    } else if (event.keyCode === 40) {\n      event.preventDefault();\n      handleArrowDown();\n    }\n  }\n\n  const initFocusedElement = databases => {\n    databases[0]['FOCUSED'] = databases[0]['NAME'];\n    setState({ ...state, databases });\n    dispatch(addControlPanelContentFocusedElement(databases[0]['NAME']));\n  }\n\n  const handleArrowDown = () => {\n    let databases = [...state.databases];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(databases);\n      return;\n    }\n\n    let focusedElementPosition = databases.findIndex(database => database.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== databases.length - 1) {\n      let nextFocusedElement = databases[focusedElementPosition + 1];\n      databases[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, databases });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleArrowUp = () => {\n    let databases = [...state.databases];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(databases);\n      return;\n    }\n\n    let focusedElementPosition = databases.findIndex(database => database.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== 0) {\n      let nextFocusedElement = databases[focusedElementPosition - 1];\n      databases[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, databases });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleFocusedElementShortcuts = event => {\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus');\n\n    if (controlPanelFocusedElement && !isSearchInputFocused) {\n      switch (event.keyCode) {\n        case 8: return handleDelete();\n        case 13: return handleEdit();\n        case 83: return handleSuspend();\n        default: break;\n      }\n    }\n  }\n\n  const handleEdit = () => {\n    props.history.push(`/edit/database?domain=${controlPanelFocusedElement}`);\n  }\n\n  const handleSuspend = () => {\n    const { databases } = state;\n    let currentDatabaseData = databases.filter(database => database.NAME === controlPanelFocusedElement)[0];\n    let suspendedStatus = currentDatabaseData.SUSPENDED === 'yes' ? 'unsuspend' : 'suspend';\n\n    displayModal(currentDatabaseData.suspend_conf, `/api/v1/${suspendedStatus}/database/index.php?domain=${controlPanelFocusedElement}`);\n  }\n\n  const handleDelete = () => {\n    const { databases } = state;\n    let currentDatabaseData = databases.filter(database => database.NAME === controlPanelFocusedElement)[0];\n\n    displayModal(currentDatabaseData.delete_conf, `/api/v1/delete/database/index.php?domain=${controlPanelFocusedElement}`);\n  }\n\n  const fetchData = () => {\n    setLoading(true);\n    return new Promise((resolve, reject) => {\n      getDatabaseList()\n        .then(result => {\n          setState({\n            ...state,\n            databases: reformatData(result.data.data),\n            dbAdmin: result.data.db_admin,\n            dbAdminLink: result.data.db_admin_link,\n            db_myadmin_link: result.data.db_myadmin_link,\n            db_pgadmin_link: result.data.db_pgadmin_link,\n            dbFav: result.data.dbFav,\n            selection: [],\n            toggledAll: false,\n            totalAmount: result.data.totalAmount\n          });\n          resolve();\n        })\n        .catch(err => console.error(err));\n    });\n  }\n\n  const reformatData = data => {\n    let databases = [];\n\n    for (let i in data) {\n      data[i]['NAME'] = i;\n      data[i]['FOCUSED'] = controlPanelFocusedElement === i;\n      databases.push(data[i]);\n    }\n\n    return databases;\n  }\n\n  const changeSorting = (sorting, order) => {\n    setState({\n      ...state,\n      sorting,\n      order\n    });\n  }\n\n  const databases = () => {\n    const { databases } = state;\n    const result = [];\n    const dbFav = { ...state.dbFav };\n\n    databases.forEach(database => {\n      database.FOCUSED = controlPanelFocusedElement === database.NAME;\n\n      if (dbFav[database.NAME]) {\n        database.STARRED = dbFav[database.NAME];\n      } else {\n        database.STARRED = 0;\n      }\n\n      result.push(database);\n    });\n\n    let sortedResult = sortArray(result);\n\n    return sortedResult.map((item, index) => {\n      return <Database data={item} key={index} toggleFav={toggleFav} checkItem={checkItem} handleModal={displayModal} />;\n    });\n  }\n\n  const checkItem = name => {\n    const { selection, databases } = state;\n    let duplicate = [...selection];\n    let dbDuplicate = databases;\n    let checkedItem = duplicate.indexOf(name);\n\n    let incomingItem = dbDuplicate.findIndex(db => db.NAME === name);\n    dbDuplicate[incomingItem].isChecked = !dbDuplicate[incomingItem].isChecked;\n\n    if (checkedItem !== -1) {\n      duplicate.splice(checkedItem, 1);\n    } else {\n      duplicate.push(name);\n    }\n\n    setState({ ...state, databases: dbDuplicate, selection: duplicate });\n  }\n\n  const sortArray = array => {\n    const { order, sorting } = state;\n    let sortingColumn = sortBy(sorting);\n\n    if (order === \"descending\") {\n      return array.sort((a, b) => (a[sortingColumn] < b[sortingColumn]) ? 1 : ((b[sortingColumn] < a[sortingColumn]) ? -1 : 0));\n    } else {\n      return array.sort((a, b) => (a[sortingColumn] > b[sortingColumn]) ? 1 : ((b[sortingColumn] > a[sortingColumn]) ? -1 : 0));\n    }\n  }\n\n  const sortBy = sorting => {\n    const { Date, Database, Disk, User, Host, Starred } = i18n;\n\n    switch (sorting) {\n      case Date: return 'DATE';\n      case Database: return 'DATABASE';\n      case Disk: return 'U_DISK';\n      case User: return 'DBUSER';\n      case Host: return 'HOST';\n      case Starred: return 'STARRED';\n      default: break;\n    }\n  }\n\n  const toggleFav = (value, type) => {\n    const { dbFav } = state;\n    let dbFavDuplicate = dbFav;\n\n    if (type === 'add') {\n      dbFavDuplicate[value] = 1;\n\n      addFavorite(value, 'db')\n        .then(() => {\n          setState({ ...state, dbFav: dbFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    } else {\n      dbFavDuplicate[value] = undefined;\n\n      deleteFavorite(value, 'db')\n        .then(() => {\n          setState({ ...state, dbFav: dbFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    }\n  }\n\n  const toggleAll = toggled => {\n    const databasesDuplicate = [...state.databases];\n\n    if (toggled) {\n      let dbNames = []\n\n      let databases = databasesDuplicate.map(database => {\n        dbNames.push(database.NAME);\n        database.isChecked = true;\n        return database;\n      });\n\n      setState({ ...state, databases, selection: dbNames, toggledAll: toggled });\n    } else {\n      let databases = databasesDuplicate.map(database => {\n        database.isChecked = false;\n        return database;\n      });\n\n      setState({ ...state, databases, selection: [], toggledAll: toggled });\n    }\n  }\n\n  const bulk = action => {\n    const { selection } = state;\n\n    if (selection.length && action) {\n      setLoading(true);\n      bulkAction(action, selection)\n        .then(result => {\n          if (result.status === 200) {\n            toggleAll(false);\n            fetchData().then(() => refreshMenuCounters());\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const displayModal = (text, url) => {\n    setModal({\n      ...modal,\n      visible: true,\n      text: text,\n      actionUrl: url\n    });\n  }\n\n  const modalConfirmHandler = () => {\n    if (!modal.actionUrl) {\n      return modalCancelHandler();\n    }\n\n    modalCancelHandler();\n    setLoading(true);\n    handleAction(modal.actionUrl)\n      .then(res => {\n        if (res.data.error) {\n          setLoading(false);\n          return displayModal(res.data.error, '');\n        }\n        fetchData().then(() => refreshMenuCounters())\n      })\n      .catch(err => { setLoading(false); console.error(err); });\n  }\n\n  const refreshMenuCounters = () => {\n    dispatch(refreshCounters()).then(() => setLoading(false));\n  }\n\n  const modalCancelHandler = () => {\n    setModal({\n      ...modal,\n      visible: false,\n      text: '',\n      actionUrl: ''\n    });\n  }\n\n  return (\n    <div className=\"databases\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.DB}`}</title>\n      </Helmet>\n      <Toolbar mobile={false} >\n        <LeftButton name=\"Add Database\" href=\"/add/db\" showLeftMenu={true} />\n        <div className=\"r-menu\">\n          <div className=\"input-group input-group-sm\">\n            {state.db_myadmin_link && <Link to={{ pathname: state.db_myadmin_link }} className=\"button-extra\" type=\"submit\" target=\"_blank\">phpMyAdmin</Link>}\n            {state.db_pgadmin_link && <Link to={{ pathname: state.db_pgadmin_link }} className=\"button-extra\" type=\"submit\" target=\"_blank\">phpPgAdmin</Link>}\n            <Checkbox toggleAll={toggleAll} toggled={state.toggledAll} />\n            <Select list='dbList' bulkAction={bulk} />\n            <DropdownFilter changeSorting={changeSorting} sorting={state.sorting} order={state.order} list=\"dbList\" />\n            <SearchInput handleSearchTerm={term => props.changeSearchTerm(term)} />\n          </div>\n        </div>\n      </Toolbar>\n      <div className=\"mails-wrapper\">\n        {loading\n          ? <Spinner />\n          : (<>\n            {databases()}\n            <div className=\"total\">{state.totalAmount}</div>\n          </>)}\n      </div>\n      <Modal\n        onSave={modalConfirmHandler}\n        onCancel={modalCancelHandler}\n        show={modal.visible}\n        text={modal.text} />\n    </div>\n  );\n}\n\nexport default Databases;\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Container from '../ControlPanel/Container/Container';\nimport ListItem from '../ControlPanel/ListItem/ListItem';\nimport { Link } from 'react-router-dom';\nimport './Firewall.scss';\nimport { useSelector } from 'react-redux';\n\nconst Firewall = ({ data, ...props }) => {\n  const { i18n } = useSelector(state => state.session);\n\n  const toggleFav = (starred) => {\n    if (starred) {\n      props.toggleFav(data.NAME, 'add');\n    } else {\n      props.toggleFav(data.NAME, 'delete');\n    }\n  }\n\n  const checkItem = () => {\n    props.checkItem(data.NAME);\n  }\n\n  const handleSuspend = () => {\n    let suspendedStatus = data.SUSPENDED === 'yes' ? 'unsuspend' : 'suspend';\n    props.handleModal(data.suspend_conf, `/api/v1/${suspendedStatus}/firewall/index.php?rule=${data.NAME}`);\n  }\n\n  const handleDelete = () => {\n    props.handleModal(data.delete_conf, `/api/v1/delete/firewall/index.php?rule=${data.NAME}`);\n  }\n\n  return (\n    <ListItem\n      id={data.NAME}\n      date={data.DATE}\n      starred={data.STARRED}\n      focused={data.FOCUSED}\n      checked={data.isChecked}\n      toggleFav={toggleFav}\n      checkItem={checkItem}\n      suspended={data.SUSPENDED === 'yes'}>\n\n      <Container className=\"cron-jobs-list r-col w-85\">\n        <div className=\"stats\">\n          <Container className=\"cron-col\">\n            <div><span className=\"stat\">{data.ACTION}</span></div>\n          </Container>\n          <Container className=\"cron-col\">\n            <div><span><span className=\"stat\">{data.PROTOCOL}</span> / {data.COMMENT}</span></div>\n          </Container>\n          <Container className=\"cron-col\">\n            <div></div>\n          </Container>\n          <Container className=\"cron-col\">\n            <div><span className=\"stat\">{data.PORT}</span></div>\n          </Container>\n          <Container className=\"cron-col\">\n            <div><span className=\"stat\">{data.IP}</span></div>\n          </Container>\n        </div>\n      </Container>\n      <div className=\"actions\">\n        <div>\n          <Link className=\"link-edit\" to={`/edit/firewall/?rule=${data.NAME}`}>\n            {i18n.edit}\n            {data.FOCUSED ? <span className=\"shortcut-button html-unicode\">&#8617;</span> : <FontAwesomeIcon icon=\"pen\" />}\n          </Link>\n        </div>\n\n        <div>\n          <button\n            className=\"link-gray\"\n            onClick={() => handleSuspend()}>\n            {i18n[data.suspend_action]}\n            {data.FOCUSED ? <span className=\"shortcut-button\">S</span> : <FontAwesomeIcon icon={data.SUSPENDED === 'yes' ? 'unlock' : 'lock'} />}\n          </button>\n        </div>\n\n        <div>\n          <button className=\"link-delete\" onClick={() => handleDelete()}>\n            {i18n.Delete}\n            {data.FOCUSED ? <span className=\"shortcut-button del\">Del</span> : <FontAwesomeIcon icon=\"times\" />}\n          </button>\n        </div>\n      </div>\n    </ListItem>\n  );\n}\n\nexport default Firewall;\n","import React, { useEffect, useState } from 'react';\nimport { addControlPanelContentFocusedElement, removeControlPanelContentFocusedElement } from '../../actions/ControlPanelContent/controlPanelContentActions';\nimport { addActiveElement, removeFocusedElement } from '../../actions/MainNavigation/mainNavigationActions';\nimport { bulkFirewallAction, getFirewallList, handleAction } from '../../ControlPanelService/Firewalls';\nimport DropdownFilter from '../../components/MainNav/Toolbar/DropdownFilter/DropdownFilter';\nimport * as MainNavigation from '../../actions/MainNavigation/mainNavigationActions';\nimport SearchInput from '../../components/MainNav/Toolbar/SearchInput/SearchInput';\nimport { addFavorite, deleteFavorite } from '../../ControlPanelService/Favorites';\nimport LeftButton from '../../components/MainNav/Toolbar/LeftButton/LeftButton';\nimport Checkbox from '../../components/MainNav/Toolbar/Checkbox/Checkbox';\nimport Select from '../../components/MainNav/Toolbar/Select/Select';\nimport Toolbar from '../../components/MainNav/Toolbar/Toolbar';\nimport Modal from '../../components/ControlPanel/Modal/Modal';\nimport Firewall from '../../components/Firewall/Firewall';\nimport Spinner from '../../components/Spinner/Spinner';\nimport { useDispatch, useSelector } from 'react-redux';\nimport './Firewalls.scss';\nimport { Helmet } from 'react-helmet';\nimport { Link } from 'react-router-dom';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\n\nconst Firewalls = props => {\n  const { i18n } = useSelector(state => state.session);\n  const { controlPanelFocusedElement } = useSelector(state => state.controlPanelContent);\n  const { focusedElement } = useSelector(state => state.mainNavigation);\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const [modal, setModal] = useState({\n    text: '',\n    visible: false,\n    actionUrl: ''\n  });\n  const [state, setState] = useState({\n    firewalls: [],\n    firewallFav: [],\n    selection: [],\n    firewallExtension: '',\n    toggledAll: false,\n    sorting: i18n.Action,\n    order: \"descending\",\n    totalAmount: ''\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/firewall/'));\n    dispatch(removeFocusedElement());\n    dispatch(removeControlPanelContentFocusedElement());\n    fetchData().then(() => setLoading(false));\n\n    return () => {\n      dispatch(removeControlPanelContentFocusedElement());\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleContentSelection);\n    window.addEventListener(\"keydown\", handleFocusedElementShortcuts);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleContentSelection);\n      window.removeEventListener(\"keydown\", handleFocusedElementShortcuts);\n    };\n  }, [controlPanelFocusedElement, focusedElement, state.firewalls]);\n\n  const handleContentSelection = event => {\n    if (event.keyCode === 38 || event.keyCode === 40) {\n      if (focusedElement) {\n        dispatch(MainNavigation.removeFocusedElement());\n      }\n    }\n\n    if (event.keyCode === 38) {\n      event.preventDefault();\n      handleArrowUp();\n    } else if (event.keyCode === 40) {\n      event.preventDefault();\n      handleArrowDown();\n    }\n  }\n\n  const initFocusedElement = firewalls => {\n    firewalls[0]['FOCUSED'] = firewalls[0]['NAME'];\n    setState({ ...state, firewalls });\n    dispatch(addControlPanelContentFocusedElement(firewalls[0]['NAME']));\n  }\n\n  const handleArrowDown = () => {\n    let firewalls = [...state.firewalls];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(firewalls);\n      return;\n    }\n\n    let focusedElementPosition = firewalls.findIndex(firewall => firewall.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== firewalls.length - 1) {\n      let nextFocusedElement = firewalls[focusedElementPosition + 1];\n      firewalls[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, firewalls });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleArrowUp = () => {\n    let firewalls = [...state.firewalls];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(firewalls);\n      return;\n    }\n\n    let focusedElementPosition = firewalls.findIndex(firewall => firewall.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== 0) {\n      let nextFocusedElement = firewalls[focusedElementPosition - 1];\n      firewalls[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, firewalls });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleFocusedElementShortcuts = event => {\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus');\n\n    if (controlPanelFocusedElement && !isSearchInputFocused) {\n      switch (event.keyCode) {\n        case 8: return handleDelete();\n        case 13: return handleEdit();\n        case 83: return handleSuspend();\n        default: break;\n      }\n    }\n  }\n\n  const handleEdit = () => {\n    props.history.push(`/edit/firewall?rule=${controlPanelFocusedElement}`);\n  }\n\n  const handleSuspend = () => {\n    const { firewalls } = state;\n    let currentFirewallData = firewalls.filter(firewall => firewall.NAME === controlPanelFocusedElement)[0];\n    let suspendedStatus = currentFirewallData.SUSPENDED === 'yes' ? 'unsuspend' : 'suspend';\n\n    displayModal(currentFirewallData.suspend_conf, `/api/v1/${suspendedStatus}/firewall/index.php?rule=${controlPanelFocusedElement}`);\n  }\n\n  const handleDelete = () => {\n    const { firewalls } = state;\n    let currentFirewallData = firewalls.filter(firewall => firewall.NAME === controlPanelFocusedElement)[0];\n\n    displayModal(currentFirewallData.delete_conf, `/api/v1/delete/firewall/index.php?rule=${controlPanelFocusedElement}`);\n  }\n\n  const fetchData = () => {\n    setLoading(true);\n    return new Promise((resolve, reject) => {\n      getFirewallList()\n        .then(result => {\n          setState({\n            ...state,\n            firewalls: reformatData(result.data.data),\n            firewallFav: result.data.firewallFav,\n            selection: [],\n            firewallExtension: result.data.firewallExtension,\n            totalAmount: result.data.totalAmount,\n            toggledAll: false\n          });\n          resolve();\n        })\n        .catch(err => console.error(err));\n    });\n  }\n\n  const reformatData = data => {\n    let firewalls = [];\n\n    for (let i in data) {\n      data[i]['NAME'] = i;\n      data[i]['FOCUSED'] = controlPanelFocusedElement === i;\n      firewalls.push(data[i]);\n    }\n\n    return firewalls;\n  }\n\n  const changeSorting = (sorting, order) => {\n    setState({\n      ...state,\n      sorting,\n      order\n    });\n  }\n\n  const firewalls = () => {\n    const firewallFav = { ...state.firewallFav };\n    let firewalls = [...state.firewalls];\n\n    firewalls.forEach(firewall => {\n      firewall.FOCUSED = controlPanelFocusedElement === firewall.NAME;\n\n      if (firewallFav[firewall.NAME]) {\n        firewall.STARRED = firewallFav[firewall.NAME];\n      } else {\n        firewall.STARRED = 0;\n      }\n    });\n\n    let sortedResult = sortArray(firewalls);\n\n    return sortedResult.map((item, index) => {\n      return <Firewall data={item} key={index} toggleFav={toggleFav} checkItem={checkItem} handleModal={displayModal} />;\n    });\n  }\n\n  const checkItem = name => {\n    const { selection, firewalls } = state;\n    let duplicate = [...selection];\n    let firewallsDuplicate = firewalls;\n    let checkedItem = duplicate.indexOf(name);\n\n    let incomingItem = firewallsDuplicate.findIndex(db => db.NAME === name);\n    firewallsDuplicate[incomingItem].isChecked = !firewallsDuplicate[incomingItem].isChecked;\n\n    if (checkedItem !== -1) {\n      duplicate.splice(checkedItem, 1);\n    } else {\n      duplicate.push(name);\n    }\n\n    setState({ ...state, firewalls: firewallsDuplicate, selection: duplicate });\n  }\n\n  const sortArray = array => {\n    const { order, sorting } = state;\n    let sortingColumn = sortBy(sorting);\n\n    if (order === \"descending\") {\n      return array.sort((a, b) => (a[sortingColumn] < b[sortingColumn]) ? 1 : ((b[sortingColumn] < a[sortingColumn]) ? -1 : 0));\n    } else {\n      return array.sort((a, b) => (a[sortingColumn] > b[sortingColumn]) ? 1 : ((b[sortingColumn] > a[sortingColumn]) ? -1 : 0));\n    }\n  }\n\n  const sortBy = sorting => {\n    const { Action, Protocol, Port, Comment, Starred } = i18n;\n\n    switch (sorting) {\n      case Action: return 'ACTION';\n      case Protocol: return 'PROTOCOL';\n      case Port: return 'PORT';\n      case i18n['IP address']: return 'IP';\n      case Comment: return 'COMMENT';\n      case Starred: return 'STARRED';\n      default: break;\n    }\n  }\n\n  const toggleFav = (value, type) => {\n    const { firewallFav } = state;\n    let firewallFavDuplicate = firewallFav;\n\n    if (type === 'add') {\n      firewallFavDuplicate[value] = 1;\n\n      addFavorite(value, 'firewall')\n        .then(() => {\n          setState({ ...state, firewallFav: firewallFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    } else {\n      firewallFavDuplicate[value] = undefined;\n\n      deleteFavorite(value, 'firewall')\n        .then(() => {\n          setState({ ...state, firewallFav: firewallFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    }\n  }\n\n  const toggleAll = toggled => {\n    if (toggled) {\n      let firewallNames = [];\n\n      let firewalls = state.firewalls.map(firewall => {\n        firewallNames.push(firewall.NAME);\n        firewall.isChecked = true;\n        return firewall;\n      });\n\n      setState({ ...state, firewalls, selection: firewallNames, toggledAll: toggled });\n    } else {\n      let firewalls = state.firewalls.map(firewall => {\n        firewall.isChecked = false;\n        return firewall;\n      });\n\n      setState({ ...state, firewalls, selection: [], toggledAll: toggled });\n    }\n  }\n\n  const bulk = action => {\n    const { selection } = state;\n\n    if (selection.length && action) {\n      setLoading(true);\n      bulkFirewallAction(action, selection)\n        .then(result => {\n          if (result.status === 200) {\n            toggleAll(false);\n            fetchData().then(() => refreshMenuCounters());\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const displayModal = (text, actionUrl) => {\n    setModal({ ...modal, visible: !modal.visible, text, actionUrl });\n  }\n\n  const modalConfirmHandler = () => {\n    if (!modal.actionUrl) {\n      return modalCancelHandler();\n    }\n\n    modalCancelHandler();\n    setLoading(true);\n    handleAction(modal.actionUrl)\n      .then(res => {\n        if (res.data.error) {\n          setLoading(false);\n          return displayModal(res.data.error, '');\n        }\n        fetchData().then(() => refreshMenuCounters())\n      })\n      .catch(err => { setLoading(false); console.error(err); });\n  }\n\n  const refreshMenuCounters = () => {\n    dispatch(refreshCounters()).then(() => setLoading(false));\n  }\n\n  const modalCancelHandler = () => {\n    setModal({ ...modal, visible: !modal.visible, text: '', actionUrl: '' });\n  }\n\n  return (\n    <div className=\"firewalls\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.FIREWALL}`}</title>\n      </Helmet>\n      <Toolbar mobile={false} >\n        <LeftButton href=\"/add/firewall/\" name={i18n['Add Rule']} showLeftMenu={true} />\n        <div className=\"r-menu\">\n          <div className=\"input-group input-group-sm\">\n            <Link to='/list/firewall/banlist/' className=\"button-extra\" type=\"submit\">{i18n['list fail2ban']}</Link>\n            <Checkbox toggleAll={toggleAll} toggled={state.toggledAll} />\n            <Select list='firewallList' bulkAction={bulk} />\n            <DropdownFilter changeSorting={changeSorting} sorting={state.sorting} order={state.order} list=\"firewallList\" />\n            <SearchInput handleSearchTerm={term => props.changeSearchTerm(term)} />\n          </div>\n        </div>\n      </Toolbar>\n      <div className=\"firewalls-wrapper\">\n        {loading\n          ? <Spinner />\n          : (<>\n            {firewalls()}\n            <div className=\"total\">{state.totalAmount}</div>\n          </>)}\n      </div>\n      <Modal\n        onSave={modalConfirmHandler}\n        onCancel={modalCancelHandler}\n        show={modal.visible}\n        text={modal.text} />\n    </div>\n  );\n}\n\nexport default Firewalls;\n","import axios from 'axios';\nimport { getAuthToken } from 'src/utils/token';\n\nconst BASE_URL = window.location.origin;\nconst usersUri = '/api/v1/list/user/index.php';\nconst addUsersUri = '/api/v1/add/user/index.php';\nconst userInfoUri = '/api/v1/edit/user/index.php';\nconst updateUserUri = '/api/v1/edit/user/index.php';\n\nexport const getUsersList = () => {\n  return axios.get(BASE_URL + usersUri, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const bulkAction = (action, selectedUsers) => {\n  const formData = new FormData();\n  formData.append(\"token\", getAuthToken());\n  formData.append(\"action\", action);\n\n  selectedUsers.forEach(user => {\n    formData.append(\"user[]\", user);\n  });\n\n  return axios.post(BASE_URL + '/api/v1/bulk/user/', formData);\n};\n\nexport const handleAction = uri => {\n  return axios.get(BASE_URL + uri, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const addUser = data => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  formDataObject.append(\"token\", getAuthToken());\n  formDataObject.append(\"ok\", \"Add\");\n\n  return axios.post(BASE_URL + addUsersUri, formDataObject);\n}\n\nexport const getUserInfo = username => {\n  return axios.get(BASE_URL + userInfoUri, {\n    params: {\n      user: username,\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const updateUser = (data, user) => {\n  let formDataObject = new FormData();\n\n  for (let key in data) {\n    formDataObject.append(key, data[key]);\n  }\n\n  return axios.post(BASE_URL + updateUserUri, formDataObject, {\n    params: {\n      user,\n      token: getAuthToken()\n    }\n  });\n}\n","import React, { useEffect, useState } from 'react';\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport Password from '../../../components/ControlPanel/AddItemLayout/Form/Password/Password';\nimport SelectInput from '../../ControlPanel/AddItemLayout/Form/SelectInput/SelectInput';\nimport NameServers from '../../ControlPanel/AddItemLayout/Form/NameServers/NameServers';\nimport TextInput from '../../ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport { updateUser, getUserInfo } from '../../../ControlPanelService/Users';\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Spinner from '../../../components/Spinner/Spinner';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Helmet } from 'react-helmet';\nimport HtmlParser from 'react-html-parser';\nimport QS from 'qs';\nimport './EditUser.scss';\n\nconst EditUser = props => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [okMessage, setOkMessage] = useState('');\n  const [state, setState] = useState({\n    data: {},\n    loading: false,\n    username: ''\n  });\n\n  useEffect(() => {\n    let queryParams = QS.parse(history.location.search, { ignoreQueryPrefix: true });\n    const { user } = queryParams;\n\n    dispatch(addActiveElement('/list/user/'));\n    dispatch(removeFocusedElement());\n\n    if (user) {\n      setState({ ...state, loading: true });\n      fetchData(user);\n    }\n  }, []);\n\n  const fetchData = user => {\n    getUserInfo(user)\n      .then(response => {\n        setState({\n          ...state,\n          username: user,\n          data: response.data,\n          loading: false\n        });\n      })\n      .catch(err => {\n        setState({ ...state, loading: false });\n        console.error(err);\n      });\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let updatedUser = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      updatedUser[name] = value;\n    }\n\n    updatedUser['v_username'] = state.username;\n\n    if (Object.keys(updatedUser).length !== 0 && updatedUser.constructor === Object) {\n      setState({ ...state, loading: true });\n\n      updateUser(updatedUser, state.username)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg: errorMessage, ok_msg: okMessage } = result.data;\n\n            if (errorMessage) {\n              setErrorMessage(errorMessage);\n              setOkMessage('');\n            } else {\n              setErrorMessage('');\n              setOkMessage(okMessage);\n            }\n          }\n        })\n        .then(() => fetchData(state.username))\n        .catch(err => console.error(err));\n    }\n  }\n\n  const convertObjectOfObjectsToArrayOfObjects = object => {\n    let result = [];\n\n    for (let i in object) {\n      result.push(i);\n    }\n\n    return result;\n  }\n\n  return (\n    <div className=\"edit-template edit-user\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.USER}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Editing User']}</div>\n        <div className=\"error\"><span className=\"error-message\">{errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {errorMessage}</span></div>\n        <div className=\"success\">\n          <span className=\"ok-message\">{okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(okMessage)}</span> </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout date={state.data.date} time={state.data.time} status={state.data.status}>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"add-user\">\n            <input type=\"hidden\" name=\"save\" value=\"save\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            <TextInput id=\"username\" name=\"v_user\" title={i18n['Username']} value={state.username} disabled />\n\n            <Password name='v_password' />\n\n            <TextInput id=\"email\" name=\"v_email\" title={i18n['Email']} value={state.data.email} />\n\n            <SelectInput\n              options={convertObjectOfObjectsToArrayOfObjects(state.data.packages)}\n              selected={state.data.package}\n              name=\"v_package\"\n              id=\"packages\"\n              title={i18n['Package']} />\n\n            <SelectInput\n              options={state.data.languages}\n              selected={state.data.language}\n              name=\"v_language\"\n              id=\"languages\"\n              title={i18n['Language']} />\n\n            <TextInput id=\"first-name\" name=\"v_fname\" title={i18n['First Name']} value={state.data.fname} />\n\n            <TextInput id=\"last-name\" name=\"v_lname\" title={i18n['Last Name']} value={state.data.lname} />\n\n            <SelectInput\n              options={state.data.shells}\n              selected={state.data.shell}\n              name=\"v_shell\"\n              id=\"shell\"\n              title={i18n['SSH Access']} />\n\n            <NameServers usersNS={state.data.nameservers} />\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Save}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/user/')}>{i18n.Back}</button>\n            </div>\n\n          </form>\n        }\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default EditUser;","import React, { useEffect, useState } from 'react';\nimport { addActiveElement, removeFocusedElement } from \"../../../../actions/MainNavigation/mainNavigationActions\";\nimport Checkbox from '../../../ControlPanel/AddItemLayout/Form/Checkbox/Checkbox';\nimport TextArea from '../../../ControlPanel/AddItemLayout/Form/TextArea/TextArea';\nimport AddItemLayout from '../../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { getServiceInfo, updateService } from 'src/ControlPanelService/Server';\nimport Spinner from '../../../../components/Spinner/Spinner';\nimport Toolbar from '../../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './Bind9.scss';\nimport { Helmet } from 'react-helmet';\nimport HtmlParser from 'react-html-parser';\n\nconst Bind9 = () => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [okMessage, setOkMessage] = useState('');\n  const [state, setState] = useState({\n    data: {},\n    loading: false\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/server/'));\n    dispatch(removeFocusedElement());\n\n    setState({ ...state, loading: true });\n    fetchData();\n  }, []);\n\n  const fetchData = () => {\n    getServiceInfo('bind9')\n      .then(response => {\n        if (response.data.config.includes('Error')) {\n          history.push('/list/server');\n        }\n\n        setState({ ...state, data: response.data, loading: false });\n      })\n      .catch(err => {\n        setState({ ...state, loading: false });\n        console.error(err);\n      });\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let updatedService = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      updatedService[name] = value;\n    }\n\n    if (Object.keys(updatedService).length !== 0 && updatedService.constructor === Object) {\n      setState({ ...state, loading: true });\n\n      updateService(updatedService, '/bind9')\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg, ok_msg } = result.data;\n\n            setErrorMessage(error_msg || '');\n            setOkMessage(ok_msg || '');\n          }\n        })\n        .then(() => fetchData())\n        .catch(err => console.error(err));\n    }\n  }\n\n  return (\n    <div className=\"edit-template edit-bind9\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.SERVER}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">\n          {i18n['Configuring Server']} / {state.data.service_name}\n        </div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {errorMessage}\n          </span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"edit-bind9\">\n            <input type=\"hidden\" name=\"save\" value=\"save\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            <TextArea\n              defaultValue={state.data.options}\n              title={state.data.options_path}\n              name=\"v_options\"\n              id=\"v_options\"\n              rows=\"10\" />\n\n            <br />\n\n            <TextArea\n              defaultValue={state.data.config}\n              title={state.data.config_path}\n              name=\"v_config\"\n              id=\"v_config\"\n              rows=\"10\" />\n\n            <br />\n\n            <Checkbox\n              title={i18n['restart']}\n              defaultChecked={true}\n              name=\"v_restart\"\n              id=\"restart\" />\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Save}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/server/')}>{i18n.Back}</button>\n            </div>\n\n          </form>\n        }\n      </AddItemLayout>\n    </div >\n  );\n}\n\nexport default Bind9;","import React, { useEffect, useState } from 'react';\nimport { addActiveElement, removeFocusedElement } from \"../../../../actions/MainNavigation/mainNavigationActions\";\nimport TextInput from '../../../ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport Checkbox from '../../../ControlPanel/AddItemLayout/Form/Checkbox/Checkbox';\nimport TextArea from '../../../ControlPanel/AddItemLayout/Form/TextArea/TextArea';\nimport { getServiceInfo, updateService } from 'src/ControlPanelService/Server';\nimport AddItemLayout from '../../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Spinner from '../../../../components/Spinner/Spinner';\nimport Toolbar from '../../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './Mysql.scss';\nimport { Helmet } from 'react-helmet';\nimport HtmlParser from 'react-html-parser';\n\nconst Mysql = ({ serviceName = '' }) => {\n  const token = localStorage.getItem(\"token\");\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [okMessage, setOkMessage] = useState('');\n  const [restart, setRestart] = useState(true);\n  const [state, setState] = useState({\n    data: {},\n    loading: false,\n    basicOptions: true,\n    advancedOptions: false\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/server/'));\n    dispatch(removeFocusedElement());\n\n    if (!serviceName) {\n      history.push('/list/server');\n    }\n\n    setState({ ...state, loading: true });\n    fetchData();\n  }, []);\n\n  const fetchData = () => {\n    getServiceInfo('mysql')\n      .then(response => {\n        if (response.data.config.includes('Error')) {\n          history.push('/list/server');\n        }\n\n        setState({ ...state, data: response.data, loading: false });\n      })\n      .catch(err => {\n        setState({ ...state, loading: false });\n        console.error(err);\n      });\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let updatedService = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      updatedService[name] = value;\n    }\n\n    if (Object.keys(updatedService).length !== 0 && updatedService.constructor === Object) {\n      setState({ ...state, loading: true });\n\n      updatedService['v_config'] = state.data.config;\n      updatedService['v_restart'] = restart ? 'yes' : 'no';\n\n      updateService(updatedService, `/${serviceName}`)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg, ok_msg } = result.data;\n\n            setErrorMessage(error_msg || '');\n            setOkMessage(ok_msg || '');\n          }\n        })\n        .then(() => fetchData())\n        .catch(err => console.error(err));\n    }\n  }\n\n  const toggleOptions = () => {\n    setState({\n      ...state,\n      advancedOptions: !state.advancedOptions,\n      basicOptions: !state.basicOptions\n    });\n  }\n\n  const onUpdateConfig = ({ id, value }) => {\n    if (!value) return;\n\n    var regexp = new RegExp(`(${id})(.+)(${state.data[id]})`, 'gm');\n    const updatedConfig = state.data.config.replace(regexp, `$1$2${value}`);\n    setState({ ...state, data: { ...state.data, config: updatedConfig, [id]: value } });\n  }\n\n  return (\n    <div className=\"edit-template edit-mysql\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.SERVER}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Configuring Server']} / {state.data.service_name}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {errorMessage}\n          </span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"edit-mysql\">\n            <input type=\"hidden\" name=\"save\" value=\"save\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            {\n              !state.basicOptions && (\n                <button type=\"button\" onClick={() => toggleOptions()}>\n                  {i18n['Basic options']}\n                  {state.basicOptions ? <FontAwesomeIcon icon=\"caret-up\" /> : <FontAwesomeIcon icon=\"caret-down\" />}\n                </button>\n              )\n            }\n\n            {\n              state.basicOptions && (\n                <>\n                  <TextInput\n                    id=\"max_connections\"\n                    title=\"max_connections\"\n                    name=\"v_max_connections\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={state.data.max_connections} />\n\n                  <TextInput\n                    id=\"max_user_connections\"\n                    title=\"v_max_user_connections\"\n                    name=\"v_max_user_connections\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={state.data.max_user_connections} />\n\n                  <TextInput\n                    id=\"wait_timeout\"\n                    title=\"v_wait_timeout\"\n                    name=\"v_wait_timeout\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={state.data.wait_timeout} />\n\n                  <TextInput\n                    id=\"interactive_timeout\"\n                    title=\"v_interactive_timeout\"\n                    name=\"v_interactive_timeout\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={state.data.interactive_timeout} />\n\n                  <TextInput\n                    id=\"display_errors\"\n                    title=\"v_display_errors\"\n                    name=\"v_display_errors\"\n                    onChange={event => onUpdateConfig(event.target)}\n                    value={state.data.max_allowed_packet} />\n                </>\n              )\n            }\n\n            {\n              !state.advancedOptions && (\n                <button type=\"button\" onClick={() => toggleOptions()}>\n                  {i18n['Advanced options']}\n                  {state.advancedOptions ? <FontAwesomeIcon icon=\"caret-up\" /> : <FontAwesomeIcon icon=\"caret-down\" />}\n                </button>\n              )\n            }\n\n            <br />\n            <br />\n\n            {\n              state.advancedOptions && (\n                <>\n                  <TextArea\n                    defaultValue={state.data.config}\n                    title={state.data.config_path}\n                    onChange={e => setState({ ...state, data: { ...state.data, config: e.target.value } })}\n                    name=\"v_config\"\n                    id=\"v_config\"\n                    rows=\"25\" />\n\n                  <br />\n\n                  <Checkbox\n                    title={i18n['restart']}\n                    defaultChecked={true}\n                    onChange={checked => setRestart(checked)}\n                    name=\"v_restart\"\n                    id=\"restart\" />\n                </>\n              )\n            }\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Save}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/server/')}>{i18n.Back}</button>\n            </div>\n\n          </form>\n        }\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default Mysql;","import axios from \"axios\";\n\nconst BASE_URL = window.location.origin;\nconst userNSApiUri = '/api/v1/list-user-ns.php';\n\nexport const getUserNS = () => {\n  return axios.get(BASE_URL + userNSApiUri);\n}","import React, { useEffect, useState } from 'react';\nimport dayjs from 'dayjs';\n\nimport './AdvancedOptions.scss';\nimport { useSelector } from 'react-redux';\n\nconst AdvancedOptions = props => {\n  const { i18n } = useSelector(state => state.session);\n  const [state, setState] = useState({\n    nameServersAmount: [],\n    userNS: props.userNS\n  });\n\n  useEffect(() => {\n    if (props.userNS.length) {\n      let initNameServersAmount = props.userNS.map((userNS, index) => index + 1);\n      setState({ ...state, nameServersAmount: initNameServersAmount });\n    }\n  }, []);\n\n  const renderNameServerInputs = () => {\n    return state.nameServersAmount.map((nameServer, index) => {\n      return (\n        <div className=\"name-server-input-wrapper\" key={index}>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id={`v_ns${nameServer}`}\n            defaultValue={state.userNS[index] || ''}\n            name={`v_ns${nameServer}`} />\n          <button\n            type=\"button\"\n            className={nameServer < 3 ? 'hide' : 'show delete'}\n            onClick={() => onDeleteNameServer(nameServer)}>\n            {i18n.delete ?? 'Delete'}\n          </button>\n        </div>\n      );\n    });\n  }\n\n  const onDeleteNameServer = index => {\n    let nameServersDuplicate = [...state.nameServersAmount];\n\n    nameServersDuplicate.splice(index - 1, 1);\n\n    setState({ ...state, nameServersAmount: nameServersDuplicate });\n  }\n\n  const addNameServer = () => {\n    let nameServersLength = state.nameServersAmount.length;\n    let nameServersDuplicate = [...state.nameServersAmount];\n\n    nameServersDuplicate.push(nameServersLength + 1);\n\n    setState({ ...state, nameServersAmount: nameServersDuplicate });\n  }\n\n  const addNameServerClassName = () => {\n    return state.nameServersAmount.length === 8 ? 'hide' : 'show optional';\n  }\n\n  const getCurrentDatePlusYear = () => {\n    let currentDatePlusYear = dayjs().add(1, 'year').format('YYYY-MM-DD');\n    return currentDatePlusYear;\n  }\n\n  return (\n    <div>\n      <div className=\"form-group exp-date\">\n        <label htmlFor=\"exp_date\">\n          {i18n['Expiration Date'] ?? 'Expiration Date'}\n          <span className=\"optional\">({i18n['YYYY-MM-DD'] ?? 'YYYY-MM-DD'})</span>\n        </label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"exp_date\"\n          required\n          defaultValue={getCurrentDatePlusYear()}\n          name=\"v_exp\" />\n      </div>\n\n      <div className=\"form-group\">\n        <label htmlFor=\"name_servers\">TTL</label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"name_servers\"\n          required\n          defaultValue=\"14400\"\n          name=\"v_ttl\" />\n      </div>\n\n      <div className=\"form-group name-servers\">\n        <label htmlFor=\"v_ns1\">{i18n['Name servers'] ?? 'Name servers'}</label>\n        {renderNameServerInputs()}\n      </div>\n\n      <button\n        type=\"button\"\n        className={addNameServerClassName()}\n        onClick={() => addNameServer()}>\n        {i18n['Add one more Name Server'] ?? 'Add one more Name Server'}\n      </button>\n    </div>\n  );\n}\n\nexport default AdvancedOptions;","import React, { useEffect, useState } from 'react';\n\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { getUserNS } from '../../../ControlPanelService/UserNS';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport Spinner from '../../Spinner/Spinner';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './AddDomainNameSystem.scss';\nimport AdvancedOptions from './AdvancedOptions/AdvancedOptions';\nimport { addDomainNameSystem } from '../../../ControlPanelService/Dns';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport HtmlParser from 'react-html-parser';\n\nconst AddDomainNameSystem = props => {\n  const { i18n } = useSelector(state => state.session);\n  const dispatch = useDispatch();\n  const token = localStorage.getItem(\"token\");\n  const history = useHistory();\n  const [state, setState] = useState({\n    loading: false,\n    showAdvancedOptions: false,\n    okMessage: '',\n    domain: '',\n    errorMessage: '',\n    userNS: []\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/dns/'));\n    dispatch(removeFocusedElement());\n\n    setState({ ...state, loading: true });\n    getUserNS()\n      .then(result => {\n        if (result.data.length) {\n          setState({ ...state, userNS: result.data, loading: false });\n        }\n      })\n      .catch(err => console.error(err));\n  }, []);\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let domainNameSystem = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      domainNameSystem[name] = value;\n    }\n\n    if (Object.keys(domainNameSystem).length !== 0 && domainNameSystem.constructor === Object) {\n      setState({ ...state, loading: true });\n      addDomainNameSystem(domainNameSystem)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg: errorMessage, ok_msg: okMessage } = result.data;\n\n            if (errorMessage) {\n              setState({ ...state, errorMessage, okMessage, loading: false });\n            } else {\n              dispatch(refreshCounters()).then(() => {\n                setState({ ...state, okMessage, errorMessage: '', loading: false });\n              });\n            }\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const renderAdvancedOptions = () => {\n    if (state.showAdvancedOptions) {\n      return <AdvancedOptions prefixI18N={state.prefixI18N} userNS={state.userNS} domain={state.domain} webStats={state.webStats} />;\n    }\n  }\n\n  const showAdvancedOption = () => {\n    setState({ ...state, showAdvancedOptions: !state.showAdvancedOptions });\n  }\n\n  return (\n    <div className=\"edit-template add-dns\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.DNS}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Adding DNS Domain'] ?? 'Adding DNS Domain'}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {state.errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            {state.errorMessage}</span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {state.okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            <span>{HtmlParser(state.okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n\n      <AddItemLayout>\n        {state.loading ? <Spinner /> : (\n          <form onSubmit={event => submitFormHandler(event)}>\n            <input type=\"hidden\" name=\"ok\" value=\"add\" />\n            <input type=\"hidden\" name=\"token\" value={token} />\n\n            <div className=\"form-group\">\n              <label htmlFor=\"domain\">{i18n.Domain ?? 'Domain'}</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"domain\"\n                required\n                name=\"v_domain\" />\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"ip_address\">{i18n['IP address'] ?? 'IP address'}</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"ip_address\"\n                required\n                name=\"v_ip\" />\n            </div>\n\n            <div className=\"form-group advanced-options-button\">\n              <button type=\"button\" onClick={() => showAdvancedOption()}>\n                {i18n['Advanced options'] ?? 'Advanced options'}\n                {state.showAdvancedOptions ? <FontAwesomeIcon icon=\"caret-down\" /> : <FontAwesomeIcon icon=\"caret-up\" />}\n              </button>\n            </div>\n\n            {renderAdvancedOptions()}\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Add ?? 'Add'}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/dns/')}>{i18n.Back ?? 'Back'}</button>\n            </div>\n          </form>\n        )}\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default AddDomainNameSystem;","import React, { useEffect, useState } from 'react';\n\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport SelectInput from 'src/components/ControlPanel/AddItemLayout/Form/SelectInput/SelectInput';\nimport TextInput from 'src/components/ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { addDomainNameSystemRecord } from '../../../ControlPanelService/Dns';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport Spinner from '../../Spinner/Spinner';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './AddDNSRecord.scss'\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport HtmlParser from 'react-html-parser';\n\nexport default function AddDNSRecord(props) {\n  const { i18n } = useSelector(state => state.session);\n  const dispatch = useDispatch();\n  const token = localStorage.getItem(\"token\");\n  const history = useHistory();\n  const [state, setState] = useState({\n    data: {},\n    selectOptions: [\n      'A',\n      'AAAA',\n      'NS',\n      'CNAME',\n      'MX',\n      'TXT',\n      'SRV',\n      'DNSKEY',\n      'KEY',\n      'IPSECKEY',\n      'PTR',\n      'SPF',\n      'TLSA',\n      'CAA'\n    ],\n    loading: false,\n    okMessage: '',\n    errorMessage: '',\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement(`/list/dns/`));\n    dispatch(removeFocusedElement());\n  }, []);\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let newDnsRecord = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      newDnsRecord[name] = value;\n    }\n\n    newDnsRecord['ok_rec'] = 'add';\n    newDnsRecord['token'] = token;\n    newDnsRecord['v_domain'] = props.domain;\n\n    if (Object.keys(newDnsRecord).length !== 0 && newDnsRecord.constructor === Object) {\n      setState({ ...state, loading: true });\n      addDomainNameSystemRecord(newDnsRecord)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg: errorMessage, ok_msg: okMessage } = result.data;\n\n            if (errorMessage) {\n              setState({ ...state, errorMessage, okMessage, loading: false });\n            } else {\n              dispatch(refreshCounters()).then(() => {\n                setState({ ...state, okMessage, errorMessage: '', loading: false });\n              });\n            }\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  return (\n    <div className=\"edit-template add-dns-record\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.DNS}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Adding DNS Record']}</div>\n        <div className=\"error\">\n          <span className=\"error-message\">\n            {state.errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            {state.errorMessage}</span>\n        </div>\n        <div className=\"success\">\n          <span className=\"ok-message\">\n            {state.okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''}\n            <span>{HtmlParser(state.okMessage)}</span>\n          </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        {state.loading ? <Spinner /> : (\n          <form onSubmit={event => submitFormHandler(event)}>\n            <TextInput\n              title={i18n['Domain']}\n              value={props.domain}\n              name=\"v_domain\"\n              id=\"domain\"\n              disabled />\n\n            <TextInput\n              title={i18n['Record']}\n              name=\"v_rec\"\n              id=\"domain\" />\n\n            <SelectInput\n              options={state.selectOptions}\n              title={i18n['Type']}\n              name=\"v_type\"\n              id=\"type\" />\n\n            <TextInput\n              title={i18n['IP or Value']}\n              name=\"v_val\"\n              id=\"val\" />\n\n            <TextInput\n              optionalTitle={`(${i18n['optional']})`}\n              title={i18n['Priority']}\n              name=\"v_priority\"\n              id=\"priority\" />\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Add}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push(`/list/dns/?domain=${props.domain}`)}>{i18n.Back}</button>\n            </div>\n          </form>\n        )}\n      </AddItemLayout>\n    </div>\n  );\n}","import React, { useEffect, useState } from 'react';\nimport AddDomainNameSystem from 'src/components/DomainNameSystem/Add/AddDomainNameSystem';\nimport AddDNSRecord from 'src/components/DNSRecord/Add/AddDNSRecord';\nimport { useHistory } from 'react-router-dom';\nimport QueryString from 'qs';\nimport { Helmet } from 'react-helmet';\nimport { useSelector } from 'react-redux';\n\nexport default function AddDNSWrapper() {\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const parsedQueryString = QueryString.parse(history.location.search, { ignoreQueryPrefix: true });\n  const [isDnsRecord, setIsDnsRecord] = useState(false);\n\n  useEffect(() => {\n    if (parsedQueryString.domain) {\n      setIsDnsRecord(true);\n    } else {\n      setIsDnsRecord(false);\n    }\n  }, [history.location]);\n\n  return (\n    <>\n      <Helmet>\n        <title>{`Vesta - ${i18n.DNS}`}</title>\n      </Helmet>\n      {\n        isDnsRecord\n          ? <AddDNSRecord domain={parsedQueryString.domain} />\n          : <AddDomainNameSystem />\n      }\n    </>\n  );\n}","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Container from '../../ControlPanel/Container/Container';\nimport ListItem from '../../ControlPanel/ListItem/ListItem';\nimport { Link } from 'react-router-dom';\n\nimport './RestoreSetting.scss';\nimport { useSelector } from 'react-redux';\n\nexport default function RestoreSetting({ data, checkItemFunc = () => { }, restoreSetting = () => { } }) {\n  const { i18n } = useSelector(state => state.session);\n\n  const displayBackupDetailName = type => {\n    switch (type) {\n      case 'WEB': return `WEB ${i18n['domain']}`;\n      case 'MAIL': return `MAIL ${i18n['domain']}`;\n      case 'DNS': return `DNS ${i18n['domain']}`;\n      case 'CRON': return i18n['cron'];\n      case 'UDIR': return i18n['user dir'];\n      default: return i18n['domain'];\n    }\n  }\n\n  const checkItem = () => {\n    checkItemFunc(data.NAME);\n  }\n\n  return (\n    <ListItem\n      date={false}\n      id={data.NAME}\n      focused={data.FOCUSED}\n      checked={data.isChecked}\n      checkItem={checkItem}>\n\n      <Container className=\"r-col w-85\">\n        <div className=\"stats\">\n          <Container className=\"c-1\">\n            <div style={{ textTransform: 'uppercase' }}>{displayBackupDetailName(data.type)}</div>\n          </Container>\n          <Container className=\"c-2\">\n            <b>{data.name}</b>\n          </Container>\n          <Container className=\"c-3\"></Container>\n          <Container className=\"c-4\"></Container>\n          <Container className=\"c-5\"></Container>\n        </div>\n      </Container>\n      <div className=\"actions\">\n        <div>\n          <button className=\"link-restore\" onClick={() => restoreSetting(data.restoreLinkParams)}>\n            {i18n['restore']}\n            {data.FOCUSED ? <span className=\"shortcut-button\">R</span> : <FontAwesomeIcon icon=\"play\" />}\n          </button>\n        </div>\n      </div>\n    </ListItem>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { addControlPanelContentFocusedElement, removeControlPanelContentFocusedElement } from 'src/actions/ControlPanelContent/controlPanelContentActions';\nimport * as MainNavigation from 'src/actions/MainNavigation/mainNavigationActions';\nimport SearchInput from 'src/components/MainNav/Toolbar/SearchInput/SearchInput';\nimport LeftButton from 'src/components/MainNav/Toolbar/LeftButton/LeftButton';\nimport { getBackupDetails, restoreBackupSetting, bulkRestore } from 'src/ControlPanelService/Backup';\nimport Checkbox from 'src/components/MainNav/Toolbar/Checkbox/Checkbox';\nimport Select from 'src/components/MainNav/Toolbar/Select/Select';\nimport Toolbar from 'src/components/MainNav/Toolbar/Toolbar';\nimport RestoreSetting from '../RestoreSetting/RestoreSetting';\nimport Modal from 'src/components/ControlPanel/Modal/Modal';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Spinner from 'src/components/Spinner/Spinner';\nimport { Link } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\n\nimport './BackupRestoreSettings.scss';\n\nexport default function BackupRestoreSettings(props) {\n  const { i18n } = useSelector(state => state.session);\n  const { controlPanelFocusedElement } = useSelector(state => state.controlPanelContent);\n  const { focusedElement } = useSelector(state => state.mainNavigation);\n  const dispatch = useDispatch();\n  const [backupDetailsData, setBackupDetailsData] = useState([]);\n  const [modal, setModal] = useState({\n    text: '',\n    visible: false,\n  });\n  const [state, setState] = useState({\n    loading: false,\n    backupDetails: [],\n    toggledAll: false,\n    selection: [],\n    totalAmount: ''\n  });\n\n  useEffect(() => {\n    dispatch(removeControlPanelContentFocusedElement());\n    fetchData();\n\n    return () => dispatch(removeControlPanelContentFocusedElement());\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleContentSelection);\n    window.addEventListener(\"keydown\", handleFocusedElementShortcuts);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleContentSelection);\n      window.removeEventListener(\"keydown\", handleFocusedElementShortcuts);\n    };\n  }, [controlPanelFocusedElement, focusedElement, backupDetailsData]);\n\n  const handleContentSelection = event => {\n    if (event.keyCode === 65) {\n      handleRestore(`?backup=${props.backup}`);\n      return;\n    }\n\n    if (event.keyCode === 38 || event.keyCode === 40) {\n      if (focusedElement) {\n        dispatch(MainNavigation.removeFocusedElement());\n      }\n    }\n\n    if (event.keyCode === 38) {\n      event.preventDefault();\n      handleArrowUp();\n    } else if (event.keyCode === 40) {\n      event.preventDefault();\n      handleArrowDown();\n    }\n  }\n\n  const initFocusedElement = backupDetails => {\n    backupDetails[0]['FOCUSED'] = backupDetails[0]['NAME'];\n    setBackupDetailsData(backupDetails);\n    dispatch(addControlPanelContentFocusedElement(backupDetails[0]['NAME']));\n  }\n\n  const handleArrowDown = () => {\n    let backupDetails = [...backupDetailsData];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(backupDetails);\n      return;\n    }\n\n    let nextFocusedElement = backupDetails[controlPanelFocusedElement + 1];\n\n    if (nextFocusedElement) {\n      backupDetails[controlPanelFocusedElement]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setBackupDetailsData(backupDetails);\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleArrowUp = () => {\n    let backupDetails = [...backupDetailsData];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(backupDetails);\n      return;\n    }\n\n    let nextFocusedElement = backupDetails[controlPanelFocusedElement - 1];\n\n    if (nextFocusedElement) {\n      backupDetails[controlPanelFocusedElement]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setBackupDetailsData(backupDetails);\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleFocusedElementShortcuts = event => {\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus');\n\n    if (controlPanelFocusedElement > 0 || controlPanelFocusedElement !== '' && !isSearchInputFocused) {\n      switch (event.keyCode) {\n        case 82: return handleRestore();\n        default: break;\n      }\n    }\n  }\n\n  const handleRestore = params => {\n    const paramsUri = params ? params : backupDetailsData[controlPanelFocusedElement].restoreLinkParams;\n\n    restoreBackupSetting(paramsUri)\n      .then(response => displayModal(response.data.message))\n      .catch(err => console.error(err));\n  }\n\n  const fetchData = () => {\n    setState({ ...state, loading: true });\n\n    getBackupDetails(props.backup)\n      .then(result => {\n        reformatData(result.data.data[props.backup]);\n        setState({\n          ...state,\n          totalAmount: result.data.totalAmount,\n          selection: [],\n          toggledAll: false,\n          loading: false\n        });\n      })\n      .catch(err => console.error(err));\n  }\n\n  const reformatData = data => {\n    let reformattedData = ['WEB', 'DNS', 'MAIL', 'DB', 'UDIR', 'CRON'].reduce((acc, cat) => {\n      data[cat].split(',').map(item => {\n        acc.push({\n          type: cat,\n          name: item,\n          restoreLinkParams: `?backup=${props.backup}&type=${cat.toLowerCase()}&object=${item}`\n        });\n      });\n\n      return acc;\n    }, []);\n\n    setBackupDetailsData(reformattedData);\n  }\n\n  const listBackups = () => {\n    const backupDetails = [...backupDetailsData];\n    const result = [];\n\n    backupDetails.forEach((backupDetail, index) => {\n      backupDetail.NAME = index;\n      backupDetail.FOCUSED = controlPanelFocusedElement === index;\n      result.push(backupDetail);\n    });\n\n    return result.map((item, index) => {\n      return <RestoreSetting data={item} key={index} checkItemFunc={name => checkItem(name)} restoreSetting={handleRestore} />;\n    });\n  }\n\n  const checkItem = name => {\n    const { selection } = state;\n    let duplicate = [...selection];\n    let backupDetailsDuplicate = [...backupDetailsData];\n    let checkedItem = duplicate.indexOf(name);\n\n    let incomingItem = backupDetailsDuplicate.findIndex(backupDetail => backupDetail.NAME === name);\n    backupDetailsDuplicate[incomingItem].isChecked = !backupDetailsDuplicate[incomingItem].isChecked;\n\n    if (checkedItem !== -1) {\n      duplicate.splice(backupDetailsDuplicate[name]['name'], 1);\n    } else {\n      duplicate.push(backupDetailsDuplicate[name]['name']);\n    }\n\n    setState({ ...state, selection: duplicate });\n    setBackupDetailsData(backupDetailsDuplicate);\n  }\n\n  const toggleAll = toggled => {\n    const backupDetailsDuplicate = [...backupDetailsData];\n\n    if (toggled) {\n      let backupDetailNames = [];\n      let backupDetails = backupDetailsDuplicate.map(backupDetail => {\n        backupDetailNames.push(backupDetail.name);\n        backupDetail.isChecked = true;\n        return backupDetail;\n      });\n\n      setState({ ...state, selection: backupDetailNames, toggledAll: toggled });\n      setBackupDetailsData(backupDetails);\n    } else {\n      let backupDetails = backupDetailsDuplicate.map(backupDetail => {\n        backupDetail.isChecked = false;\n        return backupDetail;\n      });\n\n      setState({ ...state, selection: [], toggledAll: toggled });\n      setBackupDetailsData(backupDetails);\n    }\n  }\n\n  const bulk = action => {\n    const { selection } = state;\n\n    if (selection.length && action) {\n      setState({ ...state, loading: true });\n      bulkRestore(action, selection, props.backup)\n        .then(result => {\n          if (result.status === 200) {\n            displayModal(result.data.message);\n            toggleAll(false);\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const displayModal = text => {\n    setState({ ...state, loading: false });\n    setModal({ ...modal, visible: true, text });\n  }\n\n  const modalCancelHandler = () => {\n    setModal({ ...modal, visible: false, text: '' });\n  }\n\n  return (\n    <div className=\"mail-accounts backups-restore-settings\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.BACKUP}`}</title>\n      </Helmet>\n      <Toolbar mobile={false} >\n        <LeftButton name={i18n['Restore All']} list=\"backup-details\" onClick={() => handleRestore(`?backup=${props.backup}`)} showLeftMenu={true} />\n        <div className=\"r-menu\">\n          <div className=\"input-group input-group-sm\">\n            <Checkbox toggleAll={toggleAll} toggled={state.toggledAll} />\n            <Select list='backupDetailList' bulkAction={bulk} />\n            <SearchInput handleSearchTerm={term => props.changeSearchTerm(term)} />\n          </div>\n        </div>\n      </Toolbar>\n      {state.loading\n        ? <Spinner />\n        : (\n          <>\n            <div className=\"mail-accounts-wrapper\">\n              <div className=\"subtitle\">\n                <span>{`${i18n['Listing']}  ${props.backup}`}</span>\n              </div>\n              {listBackups()}\n            </div>\n            <div className=\"footer-actions-wrapper\">\n              <div className=\"total\">{state.totalAmount}</div>\n              <div className=\"back\">\n                <Link to=\"/list/backup/\">{i18n['Back']}</Link>\n              </div>\n            </div>\n          </>\n        )\n      }\n\n      <Modal\n        onSave={modalCancelHandler}\n        showCancelButton={false}\n        show={modal.visible}\n        text={modal.text} />\n    </div>\n  );\n}","import React, { } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport ListItem from '../ControlPanel/ListItem/ListItem';\nimport Container from '../ControlPanel/Container/Container';\nimport { faFileDownload } from '@fortawesome/free-solid-svg-icons'\nimport './Backup.scss';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst Backup = props => {\n  const { data } = props;\n  const { i18n } = useSelector(state => state.session);\n  const token = localStorage.getItem(\"token\");\n\n  const toggleFav = (starred) => {\n    if (starred) {\n      props.toggleFav(props.data.NAME, 'add');\n    } else {\n      props.toggleFav(props.data.NAME, 'delete');\n    }\n  }\n\n  const checkItem = () => {\n    props.checkItem(props.data.NAME);\n  }\n\n  const handleDelete = () => {\n    props.handleModal(data.delete_conf, `/api/v1/delete/backup/?backup=${data.NAME}`);\n  }\n\n  return (\n    <ListItem\n      id={data.NAME}\n      date={data.DATE}\n      toggleFav={toggleFav}\n      checkItem={checkItem}\n      focused={data.FOCUSED}\n      starred={data.STARRED}\n      checked={data.isChecked}>\n\n      <Container className=\"r-col w-85\">\n        <div className=\"name\">{data.NAME}</div>\n        <div className=\"stats\">\n          <Container className=\"c-1\">\n            <div>{i18n['Backup Size']}: <span><span className=\"stat\">{data.SIZE}</span>{i18n.mb}</span></div>\n          </Container>\n          <Container className=\"c-2\">\n            <div>{i18n.Type}: <span className=\"stat\">{data.TYPE}</span></div>\n          </Container>\n          <Container className=\"c-3\">\n            <div>{i18n['Run Time']}: <span className=\"stat\">{data.RUNTIME} minute</span></div>\n          </Container>\n        </div>\n      </Container>\n      <div className=\"actions\">\n\n        {data.UPDATED === 'no' && <div><a href={`/update/vesta/?pkg=${data.NAME}`}>{i18n.update} <FontAwesomeIcon icon=\"wrench\" /></a></div>}\n\n        <div>\n          <a className=\"link-download\" href={`/api/v1/download/backup/?backup=${data.NAME}&token=${token}`}>\n            {i18n.download}\n            {data.FOCUSED ? <span className=\"shortcut-button\">D</span> : <FontAwesomeIcon icon={faFileDownload} />}\n          </a>\n        </div>\n\n        <div>\n          <Link className=\"link-download\" to={`/list/backup?backup=${data.NAME}`}>\n            {i18n['configure restore settings']}\n            {data.FOCUSED ? <span className=\"shortcut-button html-unicode\">&#8617;</span> : <FontAwesomeIcon icon=\"list\" />}\n          </Link>\n        </div>\n\n        <div>\n          <button className=\"link-delete\" onClick={() => handleDelete()}>\n            {i18n.Delete}\n            {data.FOCUSED ? <span className=\"shortcut-button del\">Del</span> : <FontAwesomeIcon icon=\"times\" />}\n          </button>\n        </div>\n\n      </div>\n    </ListItem>\n  );\n}\n\nexport default Backup;","import React, { useState, useEffect } from 'react';\nimport { addControlPanelContentFocusedElement, removeControlPanelContentFocusedElement } from '../../actions/ControlPanelContent/controlPanelContentActions';\nimport { addActiveElement, removeFocusedElement } from '../../actions/MainNavigation/mainNavigationActions';\nimport { bulkAction, getBackupList, handleAction, scheduleBackup } from '../../ControlPanelService/Backup';\nimport * as MainNavigation from '../../actions/MainNavigation/mainNavigationActions';\nimport SearchInput from '../../components/MainNav/Toolbar/SearchInput/SearchInput';\nimport { addFavorite, deleteFavorite } from '../../ControlPanelService/Favorites';\nimport Checkbox from '../../components/MainNav/Toolbar/Checkbox/Checkbox';\nimport Select from '../../components/MainNav/Toolbar/Select/Select';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Toolbar from '../../components/MainNav/Toolbar/Toolbar';\nimport Modal from '../../components/ControlPanel/Modal/Modal';\nimport Spinner from '../../components/Spinner/Spinner';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Backup from '../../components/Backup/Backup';\nimport { Helmet } from 'react-helmet';\nimport { Link } from 'react-router-dom';\nimport './Backups.scss';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\n\nconst Backups = props => {\n  const { i18n } = useSelector(state => state.session);\n  const { controlPanelFocusedElement } = useSelector(state => state.controlPanelContent);\n  const { focusedElement } = useSelector(state => state.mainNavigation);\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const [modal, setModal] = useState({\n    text: '',\n    visible: false,\n    actionUrl: ''\n  });\n  const [state, setState] = useState({\n    backups: [],\n    backupFav: [],\n    toggledAll: false,\n    selection: [],\n    totalAmount: ''\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/backup/'));\n    dispatch(removeFocusedElement());\n    dispatch(removeControlPanelContentFocusedElement());\n    fetchData().then(() => setLoading(false));\n\n    return () => {\n      dispatch(removeControlPanelContentFocusedElement());\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleContentSelection);\n    window.addEventListener(\"keydown\", handleFocusedElementShortcuts);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleContentSelection);\n      window.removeEventListener(\"keydown\", handleFocusedElementShortcuts);\n    };\n  }, [controlPanelFocusedElement, focusedElement, state.backups]);\n\n  const handleContentSelection = event => {\n    if (event.keyCode === 38 || event.keyCode === 40) {\n      if (focusedElement) {\n        dispatch(MainNavigation.removeFocusedElement());\n      }\n    }\n\n    if (event.keyCode === 38) {\n      event.preventDefault();\n      handleArrowUp();\n    } else if (event.keyCode === 40) {\n      event.preventDefault();\n      handleArrowDown();\n    }\n  }\n\n  const initFocusedElement = backups => {\n    backups[0]['FOCUSED'] = backups[0]['NAME'];\n    setState({ ...state, backups });\n    dispatch(addControlPanelContentFocusedElement(backups[0]['NAME']));\n  }\n\n  const handleArrowDown = () => {\n    let backups = [...state.backups];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(backups);\n      return;\n    }\n\n    let focusedElementPosition = backups.findIndex(backup => backup.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== backups.length - 1) {\n      let nextFocusedElement = backups[focusedElementPosition + 1];\n      backups[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, backups });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleArrowUp = () => {\n    let backups = [...state.backups];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(backups);\n      return;\n    }\n\n    let focusedElementPosition = backups.findIndex(backup => backup.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== 0) {\n      let nextFocusedElement = backups[focusedElementPosition - 1];\n      backups[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, backups });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleFocusedElementShortcuts = event => {\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus');\n\n    if (controlPanelFocusedElement && !isSearchInputFocused) {\n      switch (event.keyCode) {\n        case 8: return handleDelete();\n        case 13: return configureRestoreSettings();\n        case 68: return download();\n        default: break;\n      }\n    }\n  }\n\n  const configureRestoreSettings = () => {\n    props.history.push(`/list/backup?backup=${controlPanelFocusedElement}`);\n  }\n\n  const download = () => {\n    window.open(`/api/v1/download/backup?backup=${controlPanelFocusedElement}`);\n  }\n\n  const handleDelete = () => {\n    const { backups } = state;\n    let currentBackupData = backups.filter(backup => backup.NAME === controlPanelFocusedElement)[0];\n\n    displayModal(currentBackupData.delete_conf, `/api/v1/delete/cron/?job=${controlPanelFocusedElement}`);\n  }\n\n  const fetchData = () => {\n    setLoading(true);\n    return new Promise((resolve, reject) => {\n      getBackupList()\n        .then(result => {\n          setState({\n            ...state,\n            backups: reformatData(result.data.data),\n            backupFav: result.data.backup_fav,\n            totalAmount: result.data.totalAmount,\n            selection: [],\n            toggledAll: false\n          });\n          resolve();\n        })\n        .catch(err => console.error(err));\n    });\n  }\n\n  const reformatData = data => {\n    let backups = [];\n\n    for (let i in data) {\n      data[i]['NAME'] = i;\n      data[i]['isChecked'] = false;\n      data[i]['FOCUSED'] = controlPanelFocusedElement === i;\n      backups.push(data[i]);\n    }\n\n    return backups;\n  }\n\n  const backups = () => {\n    const { backups } = state;\n    const result = [];\n    const backupFav = { ...state.backupFav };\n\n    backups.forEach(backup => {\n      backup.FOCUSED = controlPanelFocusedElement === backup.NAME;\n\n      if (backupFav[backup.NAME]) {\n        backup.STARRED = backupFav[backup.NAME];\n      } else {\n        backup.STARRED = 0;\n      }\n\n      result.push(backup);\n    });\n\n    return result.map((item, index) => {\n      return <Backup data={item} key={index} toggleFav={toggleFav} checkItem={checkItem} handleModal={displayModal} />;\n    });\n  }\n\n  const checkItem = name => {\n    const { selection, backups } = state;\n    let duplicate = [...selection];\n    let backupDuplicate = [...backups];\n    let checkedItem = duplicate.indexOf(name);\n\n    let incomingItem = backupDuplicate.findIndex(backup => backup.NAME === name);\n    backupDuplicate[incomingItem].isChecked = !backupDuplicate[incomingItem].isChecked;\n\n    if (checkedItem !== -1) {\n      duplicate.splice(checkedItem, 1);\n    } else {\n      duplicate.push(name);\n    }\n\n    setState({ ...state, backups: backupDuplicate, selection: duplicate });\n  }\n\n  const toggleFav = (value, type) => {\n    const { backupFav } = state;\n    let backupFavDuplicate = backupFav;\n\n    if (type === 'add') {\n      backupFavDuplicate[value] = 1;\n\n      addFavorite(value, 'backup')\n        .then(() => {\n          setState({ ...state, backupFav: backupFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    } else {\n      backupFavDuplicate[value] = undefined;\n\n      deleteFavorite(value, 'backup')\n        .then(() => {\n          setState({ ...state, backupFav: backupFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    }\n  }\n\n  const toggleAll = toggled => {\n    const backupsDuplicate = [...state.backups];\n\n    if (toggled) {\n      let backupNames = [];\n\n      let backups = backupsDuplicate.map(backup => {\n        backupNames.push(backup.NAME);\n        backup.isChecked = true;\n        return backup;\n      });\n\n      setState({ ...state, backups, selection: backupNames, toggledAll: toggled });\n    } else {\n      let backups = backupsDuplicate.map(backup => {\n        backup.isChecked = false;\n        return backup;\n      });\n      setState({ ...state, backups, selection: [], toggledAll: toggled });\n    }\n  }\n\n  const bulk = action => {\n    const { selection } = state;\n\n    if (selection.length && action) {\n      setLoading(true);\n      bulkAction(action, selection)\n        .then(result => {\n          if (result.status === 200) {\n            toggleAll(false);\n            fetchData().then(() => refreshMenuCounters());\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const displayModal = (text, url) => {\n    setLoading(false);\n    setModal({\n      ...modal,\n      visible: true,\n      text: text,\n      actionUrl: url\n    });\n  }\n\n  const modalConfirmHandler = () => {\n    if (!modal.actionUrl) {\n      return modalCancelHandler();\n    }\n\n    modalCancelHandler();\n    setLoading(true);\n    handleAction(modal.actionUrl)\n      .then(res => {\n        if (res.data.error) {\n          setLoading(false);\n          return displayModal(res.data.error, '');\n        }\n        fetchData().then(() => refreshMenuCounters())\n      })\n      .catch(err => { setLoading(false); console.error(err); });\n  }\n\n  const refreshMenuCounters = () => {\n    dispatch(refreshCounters()).then(() => setLoading(false));\n  }\n\n  const modalCancelHandler = () => {\n    setModal({\n      ...modal,\n      visible: false,\n      text: '',\n      actionUrl: ''\n    });\n  }\n\n  const scheduleBackupButton = () => {\n    setLoading(true);\n    scheduleBackup()\n      .then(result => {\n        if (result.data.error) {\n          displayModal(result.data.error, '');\n        } else {\n          displayModal(result.data.ok, '');\n        }\n      })\n      .catch(err => console.error(err));\n  }\n\n  return (\n    <div className=\"backups\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.BACKUP}`}</title>\n      </Helmet>\n      <Toolbar mobile={false} >\n        <div className=\"l-menu\">\n          <button onClick={scheduleBackupButton}>\n            <FontAwesomeIcon icon=\"plus\" />\n            <span className=\"add\">{i18n[\"Create Backup\"]}</span>\n          </button>\n        </div>\n        <div className=\"r-menu\">\n          <div className=\"input-group input-group-sm\">\n            <Link to='/list/backup/exclusions' className=\"button-extra\" type=\"submit\">{i18n['backup exclusions']}</Link>\n            <Checkbox toggleAll={toggleAll} toggled={state.toggledAll} />\n            <Select list='backupList' bulkAction={bulk} />\n            <SearchInput handleSearchTerm={term => props.changeSearchTerm(term)} />\n          </div>\n        </div>\n      </Toolbar>\n      <div className=\"backups-wrapper\">\n        {loading\n          ? <Spinner />\n          : (<>\n            {backups()}\n            <div className=\"total\">{state.totalAmount}</div>\n          </>)}\n      </div>\n      <Modal\n        onSave={modalConfirmHandler}\n        onCancel={modalCancelHandler}\n        show={modal.visible}\n        text={modal.text} />\n    </div>\n  );\n}\n\nexport default Backups;\n","import React, { useEffect, useState } from 'react';\nimport BackupRestoreSettings from '../../components/Backup/RestoreSettings/BackupRestoreSettings';\nimport { useHistory } from 'react-router-dom';\nimport Backups from '../Backups/Backups';\nimport QueryString from 'qs';\nimport { Helmet } from 'react-helmet';\nimport { useSelector } from 'react-redux';\n\nexport default function BackupWrapper(props) {\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const parsedQueryString = QueryString.parse(history.location.search, { ignoreQueryPrefix: true });\n  const [isBackupSettings, setIsBackupSettings] = useState(false);\n\n  useEffect(() => {\n    if (parsedQueryString.backup) {\n      setIsBackupSettings(true);\n    } else {\n      setIsBackupSettings(false);\n    }\n  }, [history.location]);\n\n  return (\n    <>\n      <Helmet>\n        <title>{`Vesta - ${i18n.DNS}`}</title>\n      </Helmet>\n      {\n        isBackupSettings\n          ? <BackupRestoreSettings backup={parsedQueryString.backup} />\n          : <Backups {...props} changeSearchTerm={props.changeSearchTerm} />\n      }\n    </>\n  );\n}","import React, { useEffect, useState } from 'react';\nimport { addActiveElement, removeFocusedElement } from \"src/actions/MainNavigation/mainNavigationActions\";\nimport AddItemLayout from 'src/components/ControlPanel/AddItemLayout/AddItemLayout';\nimport { getBanIps, addBanIp } from 'src/ControlPanelService/Firewalls';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Spinner from 'src/components/Spinner/Spinner';\nimport Toolbar from '../../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Helmet } from 'react-helmet';\nimport HtmlParser from 'react-html-parser';\n\nconst AddBanIP = () => {\n  const { i18n } = useSelector(state => state.session);\n  const userLanguage = localStorage.getItem(\"language\");\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [state, setState] = useState({\n    banIps: [],\n    errorMessage: '',\n    okMessage: '',\n    loading: false\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/firewall/'));\n    dispatch(removeFocusedElement());\n\n    setState({ ...state, loading: true });\n\n    getBanIps()\n      .then(result => {\n        setState({ ...state, ip: result.data.ip, chain: result.data.chain, loading: false });\n      });\n  }, []);\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let newUser = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      newUser[name] = value;\n    }\n\n    if (Object.keys(newUser).length !== 0 && newUser.constructor === Object) {\n      setState({ ...state, loading: true });\n      addBanIp(newUser)\n        .then(result => {\n          if (result.status === 200) {\n            const { error_msg, ok_msg } = result.data;\n\n            if (error_msg) {\n              setState({ ...state, errorMessage: error_msg, okMessage: '', loading: false });\n            } else if (ok_msg) {\n              setState({ ...state, errorMessage: '', okMessage: ok_msg, loading: false });\n            } else {\n              setState({ ...state, loading: false });\n            }\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const renderChainOptions = () => {\n    return ['SSH', 'WEB', 'FTP', 'DNS', 'MAIL', 'DB', 'VESTA'].map((chain, index) => (\n      <option key={index} selected={userLanguage === chain} value={chain}>{chain}</option>\n    ));\n  }\n\n  return (\n    <div className=\"edit-template add-user\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.FIREWALL}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Adding IP Address to Banlist']}</div>\n        <div className=\"error\"><span className=\"error-message\">{state.errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {state.errorMessage}</span></div>\n        <div className=\"success\">\n          <span className=\"ok-message\">{state.okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(state.okMessage)}</span> </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"add-user\">\n            <input type=\"hidden\" name=\"ok\" value=\"add\" />\n\n            <div class=\"form-group\">\n              <label htmlFor=\"chain\">{i18n.Banlist}</label>\n              <select class=\"form-control\" id=\"chain\" name=\"v_chain\">\n                {renderChainOptions()}\n              </select>\n            </div>\n\n            <div className=\"form-group exp-date\">\n              <label htmlFor=\"ip\">\n                {i18n['IP address']}\n                <span className=\"optional\">({i18n['CIDR format is supported']})</span>\n              </label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"ip\"\n                required\n                name=\"v_ip\" />\n            </div>\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Add}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/firewall/banlist')}>{i18n.Back}</button>\n            </div>\n\n          </form>\n        }\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default AddBanIP;\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport ListItem from '../ControlPanel/ListItem/ListItem';\nimport Container from '../ControlPanel/Container/Container';\nimport './CronJob.scss';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst CronJob = props => {\n  const { data } = props;\n  const { i18n } = useSelector(state => state.session);\n  const token = localStorage.getItem(\"token\");\n\n  const toggleFav = (starred) => {\n    if (starred) {\n      props.toggleFav(props.data.NAME, 'add');\n    } else {\n      props.toggleFav(props.data.NAME, 'delete');\n    }\n  }\n\n  const checkItem = () => {\n    props.checkItem(props.data.NAME);\n  }\n\n  const handleSuspend = () => {\n    let suspendedStatus = data.SUSPENDED === 'yes' ? 'unsuspend' : 'suspend' === 'yes' ? 'unsuspend' : 'suspend';\n    props.handleModal(data.suspend_conf, `/api/v1/${suspendedStatus}/cron/index.php?job=${data.NAME}`);\n  }\n\n  const handleDelete = () => {\n    props.handleModal(data.delete_conf, `/api/v1/delete/cron/index.php?job=${data.NAME}`);\n  }\n\n  return (\n    <ListItem\n      id={data.NAME}\n      date={data.DATE}\n      checkItem={checkItem}\n      toggleFav={toggleFav}\n      focused={data.FOCUSED}\n      starred={data.STARRED}\n      checked={data.isChecked}\n      suspended={data.SUSPENDED === 'yes'}>\n\n      <Container className=\"cron-jobs-list r-col w-85\">\n        <div className=\"name\">{data.CMD}</div>\n        <div className=\"stats\">\n          <Container className=\"cron-col\">\n            <div>{i18n.Min} <span>{data.MIN}</span></div>\n          </Container>\n          <Container className=\"cron-col\">\n            <div>{i18n.Hour} <span>{data.HOUR}</span></div>\n          </Container>\n          <Container className=\"cron-col\">\n            <div>{i18n.Day} <span>{data.DAY}</span></div>\n          </Container>\n          <Container className=\"cron-col\">\n            <div>{i18n.Month} <span>{data.MONTH}</span></div>\n          </Container>\n          <Container className=\"cron-col\">\n            <div>{i18n['Day of week']} <span>{data.WDAY}</span></div>\n          </Container>\n        </div>\n      </Container>\n      <div className=\"actions\">\n\n        <div>\n          <Link className=\"link-edit\" to={`/edit/cron/?job=${data.NAME}`}>\n            {i18n.edit}\n            {data.FOCUSED ? <span className=\"shortcut-button html-unicode\">&#8617;</span> : <FontAwesomeIcon icon=\"pen\" />}\n          </Link>\n        </div>\n\n        <div>\n          <button\n            className=\"link-gray\"\n            onClick={() => handleSuspend()}>\n            {i18n[data.suspend_action]}\n            {data.FOCUSED ? <span className=\"shortcut-button\">S</span> : <FontAwesomeIcon icon={data.SUSPENDED === 'yes' ? 'unlock' : 'lock'} />}\n          </button>\n        </div>\n\n        <div>\n          <button className=\"link-delete\" onClick={() => handleDelete()}>\n            {i18n.Delete}\n            {data.FOCUSED ? <span className=\"shortcut-button del\">Del</span> : <FontAwesomeIcon icon=\"times\" />}\n          </button>\n        </div>\n\n      </div>\n    </ListItem>\n  );\n}\n\nexport default CronJob;","import React, { useState, useEffect } from 'react';\nimport { addControlPanelContentFocusedElement, removeControlPanelContentFocusedElement } from '../../actions/ControlPanelContent/controlPanelContentActions';\nimport { addActiveElement, removeFocusedElement } from '../../actions/MainNavigation/mainNavigationActions';\nimport DropdownFilter from '../../components/MainNav/Toolbar/DropdownFilter/DropdownFilter';\nimport { bulkAction, getCronList, handleAction } from '../../ControlPanelService/Cron';\nimport * as MainNavigation from '../../actions/MainNavigation/mainNavigationActions';\nimport SearchInput from '../../components/MainNav/Toolbar/SearchInput/SearchInput';\nimport { addFavorite, deleteFavorite } from '../../ControlPanelService/Favorites';\nimport LeftButton from '../../components/MainNav/Toolbar/LeftButton/LeftButton';\nimport Checkbox from '../../components/MainNav/Toolbar/Checkbox/Checkbox';\nimport Select from '../../components/MainNav/Toolbar/Select/Select';\nimport Toolbar from '../../components/MainNav/Toolbar/Toolbar';\nimport Modal from '../../components/ControlPanel/Modal/Modal';\nimport CronJob from '../../components/CronJob/CronJob';\nimport Spinner from '../../components/Spinner/Spinner';\nimport { useSelector, useDispatch } from 'react-redux';\nimport './CronJobs.scss';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\n\nconst CronJobs = props => {\n  const { i18n } = useSelector(state => state.session);\n  const { controlPanelFocusedElement } = useSelector(state => state.controlPanelContent);\n  const { focusedElement } = useSelector(state => state.mainNavigation);\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const [modal, setModal] = useState({\n    text: '',\n    visible: false,\n    actionUrl: '',\n  });\n  const [state, setState] = useState({\n    cronJobs: [],\n    cronFav: [],\n    toggledAll: false,\n    cronReports: '',\n    sorting: i18n.Date,\n    order: \"descending\",\n    selection: [],\n    totalAmount: ''\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/cron/'));\n    dispatch(removeFocusedElement());\n    dispatch(removeControlPanelContentFocusedElement());\n    fetchData().then(() => setLoading(false));\n\n    return () => {\n      dispatch(removeControlPanelContentFocusedElement());\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleContentSelection);\n    window.addEventListener(\"keydown\", handleFocusedElementShortcuts);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleContentSelection);\n      window.removeEventListener(\"keydown\", handleFocusedElementShortcuts);\n    };\n  }, [controlPanelFocusedElement, focusedElement, state.cronJobs]);\n\n  const handleContentSelection = event => {\n    if (event.keyCode === 38 || event.keyCode === 40) {\n      if (focusedElement) {\n        dispatch(MainNavigation.removeFocusedElement());\n      }\n    }\n\n    if (event.keyCode === 38) {\n      event.preventDefault();\n      handleArrowUp();\n    } else if (event.keyCode === 40) {\n      event.preventDefault();\n      handleArrowDown();\n    }\n  }\n\n  const initFocusedElement = cronJobs => {\n    cronJobs[0]['FOCUSED'] = cronJobs[0]['NAME'];\n    setState({ ...state, cronJobs });\n    dispatch(addControlPanelContentFocusedElement(cronJobs[0]['NAME']));\n  }\n\n  const handleArrowDown = () => {\n    let cronJobs = [...state.cronJobs];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(cronJobs);\n      return;\n    }\n\n    let focusedElementPosition = cronJobs.findIndex(cronJob => cronJob.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== cronJobs.length - 1) {\n      let nextFocusedElement = cronJobs[focusedElementPosition + 1];\n      cronJobs[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, cronJobs });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleArrowUp = () => {\n    let cronJobs = [...state.cronJobs];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(cronJobs);\n      return;\n    }\n\n    let focusedElementPosition = cronJobs.findIndex(cronJob => cronJob.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== 0) {\n      let nextFocusedElement = cronJobs[focusedElementPosition - 1];\n      cronJobs[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, cronJobs });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleFocusedElementShortcuts = event => {\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus');\n\n    if (controlPanelFocusedElement && !isSearchInputFocused) {\n      switch (event.keyCode) {\n        case 8: return handleDelete();\n        case 13: return handleEdit();\n        case 83: return handleSuspend();\n        default: break;\n      }\n    }\n  }\n\n  const handleEdit = () => {\n    props.history.push(`/edit/cron?job=${controlPanelFocusedElement}`);\n  }\n\n  const handleSuspend = () => {\n    const { cronJobs } = state;\n    let currentCronJobData = cronJobs.filter(cronJob => cronJob.NAME === controlPanelFocusedElement)[0];\n    let suspendedStatus = currentCronJobData.SUSPENDED === 'yes' ? 'unsuspend' : 'suspend';\n\n    displayModal(currentCronJobData.suspend_conf, `/api/v1/${suspendedStatus}/cron/index.php?job=${controlPanelFocusedElement}`);\n  }\n\n  const handleDelete = () => {\n    const { cronJobs } = state;\n    let currentCronJobData = cronJobs.filter(cronJob => cronJob.NAME === controlPanelFocusedElement)[0];\n\n    displayModal(currentCronJobData.delete_conf, `/api/v1/delete/cron/index.php?job=${controlPanelFocusedElement}`);\n  }\n\n  const fetchData = () => {\n    setLoading(true);\n    return new Promise((resolve, reject) => {\n      getCronList()\n        .then(result => {\n          setState({\n            ...state,\n            cronJobs: reformatData(result.data.data),\n            cronReports: result.data.cron_reports,\n            cronFav: result.data.cron_fav,\n            selection: [],\n            toggledAll: false,\n            totalAmount: result.data.totalAmount,\n          });\n          resolve();\n        })\n        .catch(err => console.error(err));\n    });\n  }\n\n  const reformatData = data => {\n    let cronJobs = [];\n\n    for (let i in data) {\n      data[i]['NAME'] = i;\n      data[i]['isChecked'] = false;\n      data[i]['FOCUSED'] = controlPanelFocusedElement === i;\n      cronJobs.push(data[i]);\n    }\n\n    return cronJobs;\n  }\n\n  const changeSorting = (sorting, order) => {\n    setState({\n      ...state,\n      sorting,\n      order\n    });\n  }\n\n  const cronJobs = () => {\n    const { cronJobs } = state;\n    const result = [];\n    const cronFav = { ...state.cronFav };\n\n    cronJobs.forEach(cronJob => {\n      cronJob.FOCUSED = controlPanelFocusedElement === cronJob.NAME;\n\n      if (cronFav[cronJob.NAME]) {\n        cronJob.STARRED = cronFav[cronJob.NAME];\n      } else {\n        cronJob.STARRED = 0;\n      }\n\n      result.push(cronJob);\n    });\n\n    let sortedResult = sortArray(result);\n\n    return sortedResult.map((item, index) => {\n      return <CronJob data={item} key={index} toggleFav={toggleFav} checkItem={checkItem} handleModal={displayModal} />;\n    });\n  }\n\n  const checkItem = name => {\n    const { selection, cronJobs } = state;\n    let duplicate = [...selection];\n    let cronDuplicate = cronJobs;\n    let checkedItem = duplicate.indexOf(name);\n\n    let incomingItem = cronDuplicate.findIndex(cronJob => cronJob.NAME === name);\n    cronDuplicate[incomingItem].isChecked = !cronDuplicate[incomingItem].isChecked;\n\n    if (checkedItem !== -1) {\n      duplicate.splice(checkedItem, 1);\n    } else {\n      duplicate.push(name);\n    }\n\n    setState({ ...state, cronJobs: cronDuplicate, selection: duplicate });\n  }\n\n  const sortArray = array => {\n    const { order, sorting } = state;\n    let sortingColumn = sortBy(sorting);\n\n    if (order === \"descending\") {\n      return array.sort((a, b) => (a[sortingColumn] < b[sortingColumn]) ? 1 : ((b[sortingColumn] < a[sortingColumn]) ? -1 : 0));\n    } else {\n      return array.sort((a, b) => (a[sortingColumn] > b[sortingColumn]) ? 1 : ((b[sortingColumn] > a[sortingColumn]) ? -1 : 0));\n    }\n  }\n\n  const sortBy = sorting => {\n    const { Date, Command, Starred } = i18n;\n\n    switch (sorting) {\n      case Date: return 'DATE';\n      case Command: return 'CMD';\n      case Starred: return 'STARRED';\n      default: break;\n    }\n  }\n\n  const toggleFav = (value, type) => {\n    const { cronFav } = state;\n    let cronFavDuplicate = cronFav;\n\n    if (type === 'add') {\n      cronFavDuplicate[value] = 1;\n\n      addFavorite(value, 'cron')\n        .then(() => {\n          setState({ ...state, cronFav: cronFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    } else {\n      cronFavDuplicate[value] = undefined;\n\n      deleteFavorite(value, 'cron')\n        .then(() => {\n          setState({ ...state, cronFav: cronFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    }\n  }\n\n  const toggleAll = toggled => {\n    const cronJobsDuplicate = [...state.cronJobs];\n\n    if (toggled) {\n      let cronJobNames = [];\n\n      let cronJobs = cronJobsDuplicate.map(cronJob => {\n        cronJobNames.push(cronJob.NAME);\n        cronJob.isChecked = true;\n        return cronJob;\n      });\n\n      setState({ ...state, cronJobs, selection: cronJobNames, toggledAll: toggled });\n    } else {\n      let cronJobs = cronJobsDuplicate.map(cronJob => {\n        cronJob.isChecked = false;\n        return cronJob;\n      });\n      setState({ ...state, cronJobs, selection: [], toggledAll: toggled });\n    }\n  }\n\n  const bulk = action => {\n    const { selection } = state;\n    const notifications = state.cronReports === 'yes' ? 'delete-cron-reports' : 'add-cron-reports';\n\n    if (action === notifications) {\n      return handleCronNotifications();\n    }\n\n    if (selection.length && action) {\n      setLoading(true);\n      bulkAction(action, selection)\n        .then(result => {\n          if (result.status === 200) {\n            toggleAll(false);\n            fetchData().then(() => refreshMenuCounters());\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const displayModal = (text, url) => {\n    setModal({\n      ...modal,\n      visible: !state.modalVisible,\n      text,\n      actionUrl: url\n    });\n  }\n\n  const modalConfirmHandler = () => {\n    if (!modal.actionUrl) {\n      return modalCancelHandler();\n    }\n\n    modalCancelHandler();\n    setLoading(true);\n    handleAction(modal.actionUrl)\n      .then(res => {\n        if (res.data.error) {\n          setLoading(false);\n          return displayModal(res.data.error, '');\n        }\n        fetchData().then(() => refreshMenuCounters())\n      })\n      .catch(err => { setLoading(false); console.error(err); });\n  }\n\n  const refreshMenuCounters = () => {\n    dispatch(refreshCounters()).then(() => setLoading(false));\n  }\n\n  const modalCancelHandler = () => {\n    setModal({\n      ...modal,\n      visible: false,\n      text: '',\n      actionUrl: ''\n    });\n  }\n\n  const handleCronNotifications = () => {\n    const token = localStorage.getItem(\"token\");\n    const url = `/api/v1/${state.cronReports === 'yes' ? 'delete' : 'add'}/cron/reports/?token=${token}`;\n\n    handleAction(url)\n      .then(res => {\n        displayModal(res.data.message, '');\n        fetchData().then(() => setLoading(false));\n      })\n      .catch(err => console.error(err));\n  }\n\n  return (\n    <div className=\"cronJobs\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.CRON}`}</title>\n      </Helmet>\n      <Toolbar mobile={false} >\n        <LeftButton name={i18n['Add Cron Job']} href=\"/add/cron\" showLeftMenu={true} />\n        <div className=\"r-menu\">\n          <div className=\"input-group input-group-sm\">\n            <button onClick={handleCronNotifications} className=\"button-extra\" type=\"submit\">\n              {state.cronReports === 'yes' ? i18n['turn off notifications'] : i18n['turn on notifications']}\n            </button>\n            <Checkbox toggleAll={toggleAll} toggled={state.toggledAll} />\n            <Select list='cronList' bulkAction={bulk} cronReports={state.cronReports === 'yes'} />\n            <DropdownFilter changeSorting={changeSorting} sorting={state.sorting} order={state.order} list=\"cronList\" />\n            <SearchInput handleSearchTerm={term => props.changeSearchTerm(term)} />\n          </div>\n        </div>\n      </Toolbar>\n      <div className=\"cron-wrapper\">\n        {loading\n          ? <Spinner />\n          : (<>\n            {cronJobs()}\n            <div className=\"total\">{state.totalAmount}</div>\n          </>)}\n      </div>\n      <Modal\n        showCancelButton={modal.actionUrl}\n        onCancel={modalCancelHandler}\n        onSave={modalConfirmHandler}\n        show={modal.visible}\n        text={modal.text} />\n    </div>\n  );\n}\n\nexport default CronJobs;\n","import React, { } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Container from '../ControlPanel/Container/Container';\nimport ListItem from '../ControlPanel/ListItem/ListItem';\nimport './Package.scss';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst Package = props => {\n  const { data } = props;\n  const { i18n } = useSelector(state => state.session);\n  const { session } = useSelector(state => state.userSession);\n\n  const printNameServers = servers => {\n    let serversArray = servers.split(',');\n\n    return serversArray.map(\n      (server, index) => <div key={index}>{server}</div>\n    );\n  }\n\n  const toggleFav = (starred) => {\n    if (starred) {\n      props.toggleFav(data.NAME, 'add');\n    } else {\n      props.toggleFav(data.NAME, 'delete');\n    }\n  }\n\n  const checkItem = () => {\n    props.checkItem(data.NAME);\n  }\n\n  const handleDelete = () => {\n    props.handleModal(data.delete_conf, `/api/v1/delete/package/index.php?package=${data.NAME}`);\n  }\n\n  return (\n    <ListItem\n      id={data.NAME}\n      date={data.DATE}\n      toggleFav={toggleFav}\n      checkItem={checkItem}\n      starred={data.STARRED}\n      focused={data.FOCUSED}\n      checked={data.isChecked}>\n\n      <Container className=\"r-col w-85\">\n        <div className=\"name\">{data.NAME}</div>\n        <div>{data.FNAME} {data.LNAME}</div>\n        <div className=\"stats\">\n          <Container className=\"c-1 w-30\">\n            <div>{i18n['Web Template']}: <span><span className=\"stat\">{data.WEB_TEMPLATE}</span></span></div>\n            {session.PROXY_SYSTEM && <div>{i18n['Proxy Template']}: <span><span className=\"stat\">{data.PROXY_TEMPLATE}</span></span></div>}\n            <div>{i18n['DNS Template']}: <span><span className=\"stat\">{data.DNS_TEMPLATE}</span></span></div>\n            <div>{i18n['SSH Access']}: <span><span className=\"stat\">{data.SHELL}</span></span></div>\n            <div>{i18n['Web Domains']}: <span><span className=\"stat\">{data.WEB_DOMAINS}</span></span></div>\n            <div>{i18n['Web Aliases']}: <span><span className=\"stat\">{data.WEB_ALIASES}</span></span></div>\n          </Container>\n          <Container className=\"c-2 w-35\">\n            <div>{i18n['DNS domains']}: <span><span className=\"stat\">{data.DNS_DOMAINS}</span></span></div>\n            <div>{i18n['DNS records']}: <span><span className=\"stat\">{data.DNS_RECORDS}</span></span></div>\n            <div>{i18n['Mail Domains']}: <span><span className=\"stat\">{data.MAIL_DOMAINS}</span></span></div>\n            <div>{i18n['Mail Accounts']}: <span><span className=\"stat\">{data.MAIL_ACCOUNTS}</span></span></div>\n            <div>{i18n.Databases}: <span><span className=\"stat\">{data.DATABASES}</span></span></div>\n            <div>{i18n['Cron Jobs']}: <span><span className=\"stat\">{data.CRON_JOBS}</span></span></div>\n          </Container>\n          <Container className=\"c-3 w-35\">\n            <div><span>{i18n.Backups}:</span> <span><span className=\"stat\">{data.BACKUPS}</span></span></div>\n            <div><span>{i18n.Bandwidth}:</span> <span><span><span className=\"stat\">{data.BANDWIDTH}</span> {i18n.mb}</span></span></div>\n            <div><span>{i18n.Disk}:</span> <span><span><span className=\"stat\">{data.DISK_QUOTA}</span> {i18n.mb}</span></span></div>\n            <div className=\"ns\"><span>{i18n['Name Servers']}:</span> <span><span className=\"stat\">{printNameServers(data.NS)}</span></span></div>\n          </Container>\n        </div>\n      </Container>\n      <div className=\"actions\">\n        <div>\n          <Link className=\"link-edit\" to={`/edit/package/?package=${data.NAME}`}>\n            {i18n.edit}\n            {data.FOCUSED ? <span className=\"shortcut-button html-unicode\">&#8617;</span> : <FontAwesomeIcon icon=\"pen\" />}\n          </Link>\n        </div>\n\n        <div>\n          <button className=\"link-delete\" onClick={() => handleDelete()}>\n            {i18n.Delete}\n            {data.FOCUSED ? <span className=\"shortcut-button del\">Del</span> : <FontAwesomeIcon icon=\"times\" />}\n          </button>\n        </div>\n      </div>\n    </ListItem>\n  );\n}\n\nexport default Package;","import React, { useEffect, useState } from 'react';\nimport { addControlPanelContentFocusedElement, removeControlPanelContentFocusedElement } from '../../actions/ControlPanelContent/controlPanelContentActions';\nimport { addActiveElement, removeFocusedElement } from '../../actions/MainNavigation/mainNavigationActions';\nimport { bulkAction, getPackageList, handleAction } from '../../ControlPanelService/Package';\nimport DropdownFilter from '../../components/MainNav/Toolbar/DropdownFilter/DropdownFilter';\nimport * as MainNavigation from '../../actions/MainNavigation/mainNavigationActions';\nimport SearchInput from '../../components/MainNav/Toolbar/SearchInput/SearchInput';\nimport { addFavorite, deleteFavorite } from '../../ControlPanelService/Favorites';\nimport LeftButton from '../../components/MainNav/Toolbar/LeftButton/LeftButton';\nimport Checkbox from '../../components/MainNav/Toolbar/Checkbox/Checkbox';\nimport Select from '../../components/MainNav/Toolbar/Select/Select';\nimport Toolbar from '../../components/MainNav/Toolbar/Toolbar';\nimport Modal from '../../components/ControlPanel/Modal/Modal';\nimport Package from '../../components/Package/Package';\nimport Spinner from '../../components/Spinner/Spinner';\nimport { useDispatch, useSelector } from 'react-redux';\nimport './Packages.scss';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\n\nconst Packages = props => {\n  const { i18n } = useSelector(state => state.session);\n  const { controlPanelFocusedElement } = useSelector(state => state.controlPanelContent);\n  const { focusedElement } = useSelector(state => state.mainNavigation);\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const [modal, setModal] = useState({\n    text: '',\n    visible: false,\n    actionUrl: ''\n  });\n  const [state, setState] = useState({\n    packages: [],\n    packagesFav: [],\n    toggledAll: false,\n    sorting: i18n.Date,\n    order: \"descending\",\n    selection: [],\n    totalAmount: ''\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/package/'));\n    dispatch(removeFocusedElement());\n    dispatch(removeControlPanelContentFocusedElement());\n    fetchData().then(() => setLoading(false));\n\n    return () => {\n      dispatch(removeControlPanelContentFocusedElement());\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleContentSelection);\n    window.addEventListener(\"keydown\", handleFocusedElementShortcuts);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleContentSelection);\n      window.removeEventListener(\"keydown\", handleFocusedElementShortcuts);\n    };\n  }, [controlPanelFocusedElement, focusedElement, state.packages]);\n\n  const handleContentSelection = event => {\n    if (event.keyCode === 38 || event.keyCode === 40) {\n      if (focusedElement) {\n        dispatch(MainNavigation.removeFocusedElement());\n      }\n    }\n\n    if (event.keyCode === 38) {\n      event.preventDefault();\n      handleArrowUp();\n    } else if (event.keyCode === 40) {\n      event.preventDefault();\n      handleArrowDown();\n    }\n  }\n\n  const initFocusedElement = packages => {\n    packages[0]['FOCUSED'] = packages[0]['NAME'];\n    setState({ ...state, packages });\n    dispatch(addControlPanelContentFocusedElement(packages[0]['NAME']));\n  }\n\n  const handleArrowDown = () => {\n    let packages = [...state.packages];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(packages);\n      return;\n    }\n\n    let focusedElementPosition = packages.findIndex(pack => pack.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== packages.length - 1) {\n      let nextFocusedElement = packages[focusedElementPosition + 1];\n      packages[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, packages });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleArrowUp = () => {\n    let packages = [...state.packages];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(packages);\n      return;\n    }\n\n    let focusedElementPosition = packages.findIndex(pack => pack.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== 0) {\n      let nextFocusedElement = packages[focusedElementPosition - 1];\n      packages[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, packages });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleFocusedElementShortcuts = event => {\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus');\n\n    if (controlPanelFocusedElement && !isSearchInputFocused) {\n      switch (event.keyCode) {\n        case 8: return handleDelete();\n        case 13: return handleEdit();\n        default: break;\n      }\n    }\n  }\n\n  const handleEdit = () => {\n    props.history.push(`/edit/package/?package=${controlPanelFocusedElement}`);\n  }\n\n  const handleDelete = () => {\n    const { packages } = state;\n    let currentPackageData = packages.filter(pack => pack.NAME === controlPanelFocusedElement)[0];\n\n    displayModal(currentPackageData.delete_conf, `/api/v1/delete/package/index.php?package=${controlPanelFocusedElement}`);\n  }\n\n  const fetchData = () => {\n    setLoading(true);\n    return new Promise((resolve, reject) => {\n      getPackageList()\n        .then(result => {\n          setState({\n            ...state,\n            packages: reformatData(result.data.data),\n            packagesFav: result.data.packagesFav,\n            totalAmount: result.data.totalAmount,\n            selection: [],\n            toggledAll: false\n          });\n          resolve();\n        })\n        .catch(err => console.error(err));\n    });\n  }\n\n  const reformatData = data => {\n    let packages = [];\n\n    for (let i in data) {\n      data[i]['NAME'] = i;\n      data[i]['FOCUSED'] = controlPanelFocusedElement === i;\n      packages.push(data[i]);\n    }\n\n    return packages;\n  }\n\n  const changeSorting = (sorting, order) => {\n    setState({\n      ...state,\n      sorting,\n      order\n    });\n  }\n\n  const packages = () => {\n    const { packages } = state;\n    const packagesFav = { ...state.packagesFav };\n    const result = [];\n\n    packages.forEach(pack => {\n      pack.FOCUSED = controlPanelFocusedElement === pack.NAME;\n\n      if (packagesFav[pack.NAME]) {\n        pack.STARRED = packagesFav[pack.NAME];\n      } else {\n        pack.STARRED = 0;\n      }\n\n      result.push(pack);\n    });\n\n    let sortedResult = sortArray(result);\n\n    return sortedResult.map((item, index) => {\n      return <Package data={item} key={index} toggleFav={toggleFav} checkItem={checkItem} handleModal={displayModal} />;\n    });\n  }\n\n  const checkItem = name => {\n    const { selection, packages } = state;\n    let duplicate = [...selection];\n    let packagesDuplicate = packages;\n    let checkedItem = duplicate.indexOf(name);\n\n    let incomingItem = packagesDuplicate.findIndex(pack => pack.NAME === name);\n    packagesDuplicate[incomingItem].isChecked = !packagesDuplicate[incomingItem].isChecked;\n\n    if (checkedItem !== -1) {\n      duplicate.splice(checkedItem, 1);\n    } else {\n      duplicate.push(name);\n    }\n\n    setState({ ...state, packages: packagesDuplicate, selection: duplicate });\n  }\n\n  const sortArray = array => {\n    const { order, sorting } = state;\n    let sortingColumn = sortBy(sorting);\n\n    if (order === \"descending\") {\n      return array.sort((a, b) => (a[sortingColumn] < b[sortingColumn]) ? 1 : ((b[sortingColumn] < a[sortingColumn]) ? -1 : 0));\n    } else {\n      return array.sort((a, b) => (a[sortingColumn] > b[sortingColumn]) ? 1 : ((b[sortingColumn] > a[sortingColumn]) ? -1 : 0));\n    }\n  }\n\n  const sortBy = sorting => {\n    const { Date, Starred } = i18n;\n\n    switch (sorting) {\n      case Date: return 'DATE';\n      case i18n['Package Name']: return 'NAME';\n      case Starred: return 'STARRED';\n      default: break;\n    }\n  }\n\n  const toggleFav = (value, type) => {\n    const { packagesFav } = state;\n    let packagesFavDuplicate = packagesFav;\n\n    if (type === 'add') {\n      packagesFavDuplicate[value] = 1;\n\n      addFavorite(value, 'package')\n        .then(() => {\n          setState({ ...state, packagesFav: packagesFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    } else {\n      packagesFavDuplicate[value] = undefined;\n\n      deleteFavorite(value, 'package')\n        .then(() => {\n          setState({ ...state, packagesFav: packagesFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    }\n  }\n\n  const toggleAll = toggled => {\n    const packagesDuplicate = [...state.packages];\n\n    if (toggled) {\n      let packageNames = [];\n\n      let packages = packagesDuplicate.map(pack => {\n        packageNames.push(pack.NAME);\n        pack.isChecked = true;\n        return pack;\n      });\n\n      setState({ ...state, packages, selection: packageNames, toggledAll: toggled });\n    } else {\n      let packages = packagesDuplicate.map(pack => {\n        pack.isChecked = false;\n        return pack;\n      });\n\n      setState({ ...state, packages, selection: [], toggledAll: toggled });\n    }\n  }\n\n  const bulk = action => {\n    const { selection } = state;\n\n    if (selection.length && action) {\n      setLoading(true);\n      bulkAction(action, selection)\n        .then(result => {\n          if (result.status === 200) {\n            toggleAll(false);\n            fetchData().then(() => refreshMenuCounters());\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const displayModal = (text, actionUrl) => {\n    setModal({ ...modal, visible: !modal.visible, text, actionUrl })\n  }\n\n  const modalConfirmHandler = () => {\n    if (!modal.actionUrl) {\n      return modalCancelHandler();\n    }\n\n    modalCancelHandler();\n    setLoading(true);\n    handleAction(modal.actionUrl)\n      .then(res => {\n        if (res.data.error) {\n          setLoading(false);\n          return displayModal(res.data.error, '');\n        }\n        fetchData().then(() => refreshMenuCounters())\n      })\n      .catch(err => { setLoading(false); console.error(err); });\n  }\n\n  const refreshMenuCounters = () => {\n    dispatch(refreshCounters()).then(() => setLoading(false));\n  }\n\n  const modalCancelHandler = () => {\n    setModal({ ...modal, visible: false, text: '', actionUrl: '' })\n  }\n\n  return (\n    <div className=\"packages\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.PACKAGE}`}</title>\n      </Helmet>\n      <Toolbar mobile={false} >\n        <LeftButton name={i18n['Add Package']} href=\"/add/package/\" showLeftMenu={true} />\n        <div className=\"r-menu\">\n          <div className=\"input-group input-group-sm\">\n            <Checkbox toggleAll={toggleAll} toggled={state.toggledAll} />\n            <Select list='packagesList' bulkAction={bulk} />\n            <DropdownFilter changeSorting={changeSorting} sorting={state.sorting} order={state.order} list=\"packagesList\" />\n            <SearchInput handleSearchTerm={term => props.changeSearchTerm(term)} />\n          </div>\n        </div>\n      </Toolbar>\n      <div className=\"packages-wrapper\">\n        {\n          loading\n            ? <Spinner />\n            : (<>\n              {packages()}\n              <div className=\"total\">{state.totalAmount}</div>\n            </>)\n        }\n      </div>\n      <Modal\n        onSave={modalConfirmHandler}\n        onCancel={modalCancelHandler}\n        show={modal.visible}\n        text={modal.text} />\n    </div>\n  );\n}\n\nexport default Packages;\n","import axios from \"axios\";\n\nconst webApiUri = '/api/v1/languages.php';\nconst BASE_URL = window.location.origin;\n\nexport const getLanguages = () => {\n  return axios.get(BASE_URL + webApiUri);\n}\n\nexport const languagesMock = [\n  \"ar\",\n  \"az\",\n  \"bg\",\n  \"bs\",\n  \"cn\",\n  \"cz\",\n  \"da\",\n  \"de\",\n  \"el\",\n  \"en\",\n  \"es\",\n  \"fa\",\n  \"fi\",\n  \"fr\",\n  \"hu\",\n  \"id\",\n  \"it\",\n  \"ja\",\n  \"ka\",\n  \"ko\",\n  \"nl\",\n  \"no\",\n  \"pl\",\n  \"pt-BR\",\n  \"pt\",\n  \"ro\",\n  \"ru\",\n  \"se\",\n  \"sr\",\n  \"th\",\n  \"tr\",\n  \"tw\",\n  \"ua\",\n  \"ur\",\n  \"vi\"\n];","import React, { useEffect, useState } from 'react';\nimport { addActiveElement, removeFocusedElement } from \"../../../actions/MainNavigation/mainNavigationActions\";\nimport Password from '../../../components/ControlPanel/AddItemLayout/Form/Password/Password';\nimport AddItemLayout from '../../ControlPanel/AddItemLayout/AddItemLayout';\nimport { getLanguages } from '../../../ControlPanelService/Languages';\nimport { getPackageList } from '../../../ControlPanelService/Package';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { addUser } from '../../../ControlPanelService/Users';\nimport Spinner from '../../../components/Spinner/Spinner';\nimport Toolbar from '../../MainNav/Toolbar/Toolbar';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './AddUser.scss';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport HtmlParser from 'react-html-parser';\n\nconst AddUser = props => {\n  const { i18n } = useSelector(state => state.session);\n  const { session } = useSelector(state => state.userSession);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [state, setState] = useState({\n    vEmail: '',\n    vNotify: '',\n    languages: [],\n    packages: [],\n    errorMessage: '',\n    okMessage: '',\n    loading: false\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/user/'));\n    dispatch(removeFocusedElement());\n\n    setState({ ...state, loading: true });\n\n    Promise.all([getAllPackages(), getAllLanguages()])\n      .then(result => {\n        const [packages, languages] = result;\n        let packageNames = getPackageNames(packages.data.data);\n\n        setState({ ...state, packages: packageNames, languages: languages.data, loading: false });\n      });\n  }, []);\n\n  const getAllPackages = () => {\n    return getPackageList().catch(err => console.error(err));\n  }\n\n  const getAllLanguages = () => {\n    return getLanguages().catch(err => console.error(err));\n  }\n\n  const getPackageNames = packages => {\n    let result = [];\n\n    for (let i in packages) {\n      result.push(i);\n    }\n\n    return result;\n  }\n\n  const submitFormHandler = event => {\n    event.preventDefault();\n    let newUser = {};\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      newUser[name] = value;\n    }\n\n    if (Object.keys(newUser).length !== 0 && newUser.constructor === Object) {\n      setState({ ...state, loading: true });\n      addUser(newUser)\n        .then(result => {\n          const { error_msg: errorMessage, ok_msg: okMessage } = result.data;\n\n          if (errorMessage) {\n            setState({ ...state, errorMessage, okMessage, loading: false });\n          } else {\n            dispatch(refreshCounters()).then(() => {\n              setState({ ...state, okMessage, errorMessage: '', loading: false });\n            });\n          }\n        })\n        .catch(err => {\n          setState({ ...state, loading: false });\n          console.error(err);\n        });\n    }\n  }\n\n  const renderPackageOptions = () => {\n    return state.packages.map((pack, index) => (\n      <option key={index} value={pack}>{pack}</option>\n    ));\n  }\n\n  const renderLanguageOptions = () => {\n    return state.languages.map((language, index) => (\n      <option key={index} selected={session.LANGUAGE === language} value={language}>{language}</option>\n    ));\n  }\n\n  const onChangeEmail = value => {\n    setState({ ...state, vEmail: value });\n  }\n\n  const onBlurEmail = () => {\n    if (!state.vNotify) {\n      setState({ ...state, vNotify: state.vEmail });\n    }\n  }\n\n  const onChangeSecondEmail = value => {\n    setState({ ...state, vNotify: value });\n  }\n\n  const repeatEmailHandler = checked => {\n    if (checked) {\n      if (state.vEmail) {\n        setState({ ...state, vNotify: state.vEmail });\n      }\n    } else {\n      setState({ ...state, vNotify: '' });\n    }\n  }\n\n  return (\n    <div className=\"edit-template add-user\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.USER}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div></div>\n        <div className=\"search-toolbar-name\">{i18n['Adding User']}</div>\n        <div className=\"error\"><span className=\"error-message\">{state.errorMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} {state.errorMessage}</span></div>\n        <div className=\"success\">\n          <span className=\"ok-message\">{state.okMessage ? <FontAwesomeIcon icon=\"long-arrow-alt-right\" /> : ''} <span>{HtmlParser(state.okMessage)}</span> </span>\n        </div>\n      </Toolbar>\n      <AddItemLayout>\n        {state.loading ? <Spinner /> :\n          <form onSubmit={event => submitFormHandler(event)} id=\"add-user\">\n            <div className=\"form-group\">\n              <label htmlFor=\"username\">{i18n.Username}</label>\n              <input type=\"text\" className=\"form-control\" id=\"username\" name=\"v_username\" />\n            </div>\n\n            <Password name='v_password' />\n\n            <div className=\"form-group\">\n              <label htmlFor=\"email\">\n                {i18n.Email} /\n                <div>\n                  <input\n                    type=\"checkbox\"\n                    id=\"send-credentials\"\n                    onChange={event => repeatEmailHandler(event.target.checked)} />\n                  <label htmlFor=\"send-credentials\">{i18n['Send login credentials to email address']}</label>\n                </div>\n              </label>\n              <input\n                type=\"email\"\n                name=\"v_email\"\n                className=\"form-control\"\n                id=\"email\"\n                value={state.vEmail}\n                onChange={event => onChangeEmail(event.target.value)}\n                onBlur={() => onBlurEmail()} />\n            </div>\n\n            <div class=\"form-group\">\n              <label htmlFor=\"package\">{i18n.Package}</label>\n              <select class=\"form-control\" id=\"package\" name=\"v_package\">\n                {renderPackageOptions()}\n              </select>\n            </div>\n\n            <div class=\"form-group\">\n              <label htmlFor=\"language\">{i18n.Language}</label>\n              <select class=\"form-control\" id=\"language\" name=\"v_language\">\n                {renderLanguageOptions()}\n              </select>\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"firstName\">{i18n['First Name']}</label>\n              <input type=\"text\" className=\"form-control\" id=\"firstName\" name=\"v_fname\" />\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"lastName\">{i18n['Last Name']}</label>\n              <input type=\"text\" className=\"form-control\" id=\"lastName\" name=\"v_lname\" />\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"sendLoginCredentialsToEmailAddress\">{i18n['Send login credentials to email address']}</label>\n              <input\n                type=\"email\"\n                className=\"form-control\"\n                id=\"sendLoginCredentialsToEmailAddress\"\n                value={state.vNotify}\n                onChange={e => onChangeSecondEmail(e.target.value)}\n                name=\"v_notify\" />\n            </div>\n\n            <div className=\"buttons-wrapper\">\n              <button type=\"submit\" className=\"add\">{i18n.Add}</button>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/user/')}>{i18n.Back}</button>\n            </div>\n\n          </form>\n        }\n      </AddItemLayout>\n    </div>\n  );\n}\n\nexport default AddUser;","import axios from \"axios\";\nimport { getAuthToken } from \"src/utils/token\";\n\nconst deleteAutoUpdateUri = '/api/v1/delete/cron/autoupdate/';\nconst addAutoUpdateUri = '/api/v1/add/cron/autoupdate/';\nconst webApiUri = '/api/v1/list/updates/index.php';\nconst BASE_URL = window.location.origin;\n\nexport const getUpdatesList = () => {\n  return axios.get(BASE_URL + webApiUri);\n}\n\nexport const bulkAction = (action, updates) => {\n  const formData = new FormData();\n  formData.append(\"action\", action);\n  formData.append(\"token\", getAuthToken());\n\n  updates.forEach(update => {\n    formData.append(\"pkg[]\", update);\n  });\n\n  return axios.post(BASE_URL + '/api/v1/bulk/vesta/', formData);\n};\n\nexport const handleAction = uri => {\n  return axios.get(BASE_URL + uri, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const enableAutoUpdate = () => {\n  return axios.get(`${BASE_URL}${addAutoUpdateUri}`, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n};\n\nexport const disableAutoUpdate = () => {\n  return axios.get(`${BASE_URL}${deleteAutoUpdateUri}`, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n};","import React, { } from 'react';\nimport { useSelector } from 'react-redux';\nimport Container from '../ControlPanel/Container/Container';\nimport ListItem from '../ControlPanel/ListItem/ListItem';\nimport './Update.scss';\n\nconst Update = props => {\n  const { data } = props;\n  const { i18n } = useSelector(state => state.session);\n\n  const isUpdated = status => {\n    if (status === 'no') {\n      return 'OUTDATED';\n    }\n\n    return 'UPDATED';\n  }\n\n  const isOutdated = status => {\n    return status === \"no\";\n  }\n\n  const checkItem = () => {\n    props.checkItem(props.data.NAME);\n  }\n\n  return (\n    <ListItem\n      date={false}\n      id={data.NAME}\n      checkItem={checkItem}\n      focused={data.FOCUSED}\n      checked={data.isChecked}\n      outdated={isOutdated(data.UPDATED)}\n      leftNameText={isUpdated(data.UPDATED)}>\n\n      <Container className=\"r-col w-85\">\n        <div className=\"name\">{data.NAME}</div>\n        <div className=\"stats\">\n          <Container className=\"c-1\">\n            <div className=\"descr\"><span className=\"stat\">{data.DESCR}</span></div>\n          </Container>\n          <Container className=\"c-2\">\n            <div>{i18n.Version}: <span><span className=\"stat\">{data.VERSION}</span> {`(${data.ARCH})`}</span></div>\n          </Container>\n          <Container className=\"c-3\">\n            <div>{i18n.Release}: <span className=\"stat\">{data.RELEASE}</span></div>\n          </Container>\n        </div>\n      </Container>\n\n    </ListItem>\n  );\n}\n\nexport default Update;","import React, { useEffect, useState } from 'react';\nimport { addControlPanelContentFocusedElement, removeControlPanelContentFocusedElement } from '../../actions/ControlPanelContent/controlPanelContentActions';\nimport { addActiveElement, removeFocusedElement } from '../../actions/MainNavigation/mainNavigationActions';\nimport { bulkAction, getUpdatesList, enableAutoUpdate, disableAutoUpdate } from '../../ControlPanelService/Updates';\nimport * as MainNavigation from '../../actions/MainNavigation/mainNavigationActions';\nimport SearchInput from '../../components/MainNav/Toolbar/SearchInput/SearchInput';\nimport LeftButton from '../../components/MainNav/Toolbar/LeftButton/LeftButton';\nimport Modal from 'src/components/ControlPanel/Modal/Modal';\nimport Checkbox from '../../components/MainNav/Toolbar/Checkbox/Checkbox';\nimport Select from '../../components/MainNav/Toolbar/Select/Select';\nimport Toolbar from '../../components/MainNav/Toolbar/Toolbar';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Spinner from '../../components/Spinner/Spinner';\nimport Update from '../../components/Update/Update';\nimport './Updates.scss';\nimport { Helmet } from 'react-helmet';\n\nconst Updates = props => {\n  const { i18n } = useSelector(state => state.session);\n  const { controlPanelFocusedElement } = useSelector(state => state.controlPanelContent);\n  const { focusedElement } = useSelector(state => state.mainNavigation);\n  const dispatch = useDispatch();\n  const [state, setState] = useState({\n    updates: [],\n    selection: [],\n    autoUpdate: '',\n    token: '',\n    loading: false,\n    toggledAll: false\n  });\n  const [modal, setModal] = useState({\n    text: '',\n    visible: false,\n    actionUrl: ''\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/updates/'));\n    dispatch(removeFocusedElement());\n    dispatch(removeControlPanelContentFocusedElement());\n    fetchData();\n\n    return () => {\n      dispatch(removeControlPanelContentFocusedElement());\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleContentSelection);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleContentSelection);\n    };\n  }, [controlPanelFocusedElement, focusedElement, state.updates]);\n\n  const handleContentSelection = event => {\n    if (event.keyCode === 38 || event.keyCode === 40) {\n      if (focusedElement) {\n        dispatch(MainNavigation.removeFocusedElement());\n      }\n    }\n\n    if (event.keyCode === 38) {\n      event.preventDefault();\n      handleArrowUp();\n    } else if (event.keyCode === 40) {\n      event.preventDefault();\n      handleArrowDown();\n    }\n  }\n\n  const initFocusedElement = updates => {\n    updates[0]['FOCUSED'] = updates[0]['NAME'];\n    setState({ ...state, updates });\n    dispatch(addControlPanelContentFocusedElement(updates[0]['NAME']));\n  }\n\n  const handleArrowDown = () => {\n    let updates = [...state.updates];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(updates);\n      return;\n    }\n\n    let focusedElementPosition = updates.findIndex(update => update.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== updates.length - 1) {\n      let nextFocusedElement = updates[focusedElementPosition + 1];\n      updates[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, updates });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleArrowUp = () => {\n    let updates = [...state.updates];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(updates);\n      return;\n    }\n\n    let focusedElementPosition = updates.findIndex(update => update.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== 0) {\n      let nextFocusedElement = updates[focusedElementPosition - 1];\n      updates[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, updates });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const fetchData = () => {\n    setState({ ...state, loading: true });\n\n    getUpdatesList()\n      .then(result => {\n        setState({\n          ...state,\n          selection: [],\n          updates: reformatData(result.data.data),\n          autoUpdate: result.data.autoUpdate,\n          loading: false\n        });\n      })\n      .catch(err => console.error(err));\n  }\n\n  const reformatData = data => {\n    let updates = [];\n\n    for (let i in data) {\n      data[i]['NAME'] = i;\n      data[i]['FOCUSED'] = controlPanelFocusedElement === i;\n      updates.push(data[i]);\n    }\n\n    return updates;\n  }\n\n  const updates = () => {\n    let updates = [...state.updates];\n\n    updates.forEach(update => {\n      update.FOCUSED = controlPanelFocusedElement === update.NAME;\n    });\n\n    return updates.map((item, index) => {\n      return <Update data={item} key={index} checkItem={checkItem} />;\n    });\n  }\n\n  const checkItem = name => {\n    let duplicate = [...state.selection];\n    let updatesDuplicate = [...state.updates];\n    let checkedItem = duplicate.indexOf(name);\n\n    let incomingItem = updatesDuplicate.findIndex(update => update.NAME === name);\n    updatesDuplicate[incomingItem].isChecked = !updatesDuplicate[incomingItem].isChecked;\n\n    if (checkedItem !== -1) {\n      duplicate.splice(checkedItem, 1);\n    } else {\n      duplicate.push(name);\n    }\n\n    setState({ ...state, updates: updatesDuplicate, selection: duplicate });\n  }\n\n  const toggleAll = toggled => {\n    const updatesDuplicate = [...state.updates];\n\n    if (toggled) {\n      let updateNames = [];\n\n      let updates = updatesDuplicate.map(update => {\n        updateNames.push(update.NAME);\n        update.isChecked = true;\n        return update;\n      });\n\n      setState({ ...state, updates, selection: updateNames, toggledAll: toggled });\n    } else {\n      let updates = updatesDuplicate.map(update => {\n        update.isChecked = false;\n        return update;\n      });\n\n      setState({ ...state, updates, selection: [], toggledAll: toggled });\n    }\n  }\n\n  const bulk = action => {\n    const { selection } = state;\n\n    if (selection.length && action !== 'apply to selected') {\n      bulkAction(action, selection)\n        .then(res => {\n          toggleAll(false);\n          if (res.status === 200) {\n            if (res.data.error) {\n              setState({ ...state, loading: false });\n              return displayModal(res.data.error, '');\n            }\n\n            displayModal(res.data.message, '');\n            fetchData();\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const handleAutoUpdate = () => {\n    if (state.autoUpdate === 'Enabled') {\n      disableAutoUpdate()\n        .then(res => {\n          if (res.data.error) {\n            setState({ ...state, loading: false });\n            return displayModal(res.data.error, '');\n          }\n\n          displayModal(res.data.message, '');\n          fetchData();\n        })\n        .catch(err => {\n          setState({ ...state, loading: false });\n          console.error(err);\n        });\n    } else {\n      enableAutoUpdate()\n        .then(res => {\n          if (res.data.error) {\n            setState({ ...state, loading: false });\n            return displayModal(res.data.error, '');\n          }\n\n          displayModal(res.data.message, '');\n          fetchData();\n        })\n        .catch(err => {\n          setState({ ...state, loading: false });\n          console.error(err);\n        });\n    }\n  }\n\n  const displayModal = (text, url) => {\n    setState({ ...state, loading: true });\n    setModal({\n      ...modal,\n      visible: true,\n      text: text,\n      actionUrl: url\n    });\n  }\n\n  const modalCancelHandler = () => {\n    setModal({\n      ...modal,\n      visible: false,\n      text: '',\n      actionUrl: ''\n    });\n  }\n\n  const printAutoUpdateButtonName = () => {\n    if (state.autoUpdate === 'Enabled') {\n      return i18n['disable autoupdate'];\n    } else {\n      return i18n['enable autoupdate'];\n    }\n  }\n\n  return (\n    <div className=\"statistics-list updates\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.UPDATES}`}</title>\n      </Helmet>\n      <Toolbar mobile={false} className=\"justify-right\">\n        <LeftButton name=\"Add Cron Job\" showLeftMenu={false} />\n        <div className=\"r-menu\">\n          <div className=\"input-group input-group-sm\">\n            <button onClick={handleAutoUpdate} className=\"button-extra\">{printAutoUpdateButtonName()}</button>\n            <Checkbox toggleAll={toggleAll} />\n            <Select list='updatesList' bulkAction={bulk} />\n            <SearchInput handleSearchTerm={term => props.changeSearchTerm(term)} />\n          </div>\n        </div>\n      </Toolbar>\n      {state.loading ? <Spinner /> : updates()}\n      <Modal\n        onSave={modalCancelHandler}\n        onCancel={modalCancelHandler}\n        show={modal.visible}\n        text={modal.text} />\n    </div>\n  );\n}\n\nexport default Updates;","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Container from '../ControlPanel/Container/Container';\nimport ListItem from '../ControlPanel/ListItem/ListItem';\nimport './ServerSys.scss';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst Server = props => {\n  const { data } = props;\n  const { i18n } = useSelector(state => state.session);\n\n  const checkItem = () => {\n    props.checkItem(props.data.HOSTNAME);\n  }\n\n  return (\n    <ListItem\n      id={data.NAME}\n      focused={data.FOCUSED}\n      sysInfo={data.HOSTNAME}\n      checked={data.isChecked}\n      checkItem={checkItem}>\n\n      <Container className=\"r-col w-85\">\n        <div className=\"name\">{data.HOSTNAME}</div>\n        <div className=\"stats\">\n          <Container className=\"c-1\">\n            <div className=\"descr\"><span><span className=\"stat\">{data.OS} {data.VERSION}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {`(${data.ARCH})`}</span></div>\n          </Container>\n          <Container className=\"c-2\">\n            <div>{i18n['Load Average']}: <span><span className=\"stat\">{data.LOADAVERAGE}</span></span></div>\n          </Container>\n          <Container className=\"c-3\">\n            <div><span>{i18n.Uptime}: <span className=\"stat\">{data.UPTIME}</span></span></div>\n          </Container>\n        </div>\n      </Container>\n      <div className=\"actions\">\n\n        <div>\n          <Link className=\"link-list\" to={`/edit/server/`}>\n            {i18n.configure}\n            {data.FOCUSED ? <span className=\"shortcut-button html-unicode\">&#8617;</span> : <FontAwesomeIcon icon=\"cogs\" />}\n          </Link>\n        </div>\n\n        <div>\n          <button className=\"link-download restart\" onClick={() => props.handleAction(`/api/v1/restart/system/?hostname=${data.NAME}`)}>\n            {i18n.restart}\n            {\n              data.FOCUSED\n                ? <span className=\"shortcut-button\">R</span>\n                : <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-repeat\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path fill-rule=\"evenodd\" d=\"M2.854 7.146a.5.5 0 0 0-.708 0l-2 2a.5.5 0 1 0 .708.708L2.5 8.207l1.646 1.647a.5.5 0 0 0 .708-.708l-2-2zm13-1a.5.5 0 0 0-.708 0L13.5 7.793l-1.646-1.647a.5.5 0 0 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0 0-.708z\" />\n                  <path fill-rule=\"evenodd\" d=\"M8 3a4.995 4.995 0 0 0-4.192 2.273.5.5 0 0 1-.837-.546A6 6 0 0 1 14 8a.5.5 0 0 1-1.001 0 5 5 0 0 0-5-5zM2.5 7.5A.5.5 0 0 1 3 8a5 5 0 0 0 9.192 2.727.5.5 0 1 1 .837.546A6 6 0 0 1 2 8a.5.5 0 0 1 .501-.5z\" />\n                </svg>\n            }\n          </button>\n        </div>\n      </div>\n    </ListItem>\n  );\n}\n\nexport default Server;","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Container from '../ControlPanel/Container/Container';\nimport ListItem from '../ControlPanel/ListItem/ListItem';\nimport './Server.scss';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst Server = props => {\n  const { data } = props;\n  const { i18n } = useSelector(state => state.session);\n\n  const checkItem = () => {\n    props.checkItem(data.NAME);\n  }\n\n  return (\n    <ListItem\n      id={data.NAME}\n      focused={data.FOCUSED}\n      checked={data.isChecked}\n      stopped={data.STATE === 'stopped'}\n      checkItem={checkItem}>\n\n      <Container className=\"r-col w-85\">\n        <div className=\"server-name\">{data.NAME}</div>\n        <div className=\"stats\">\n          <Container className=\"c-1\">\n            <div className=\"descr\"><span className=\"stat\">{i18n[data.SYSTEM]}</span></div>\n          </Container>\n          <Container className=\"c-1\" />\n          <Container className=\"c-1\">\n            <div className=\"descr\"><span>{i18n.CPU}: <span className=\"stat\">{data.CPU}</span></span></div>\n          </Container>\n          <Container className=\"c-2\">\n            <div><span>{i18n.Memory}: <span className=\"stat\">{data.MEM} {i18n.mb}</span></span></div>\n          </Container>\n          <Container className=\"c-3\">\n            <div><span>{i18n.Uptime}: <span className=\"stat\">{data.RTIME}</span></span></div>\n          </Container>\n          <Container className=\"c-1\" />\n        </div>\n      </Container>\n      <div className=\"actions\">\n\n        <div>\n          <Link className=\"link-list\" to={`/edit/server/${data.NAME}`}>\n            {i18n.configure}\n            {data.FOCUSED ? <span className=\"shortcut-button html-unicode\">&#8617;</span> : <FontAwesomeIcon icon=\"cogs\" />}\n          </Link>\n        </div>\n\n        <div>\n          <button className=\"link-delete\" onClick={() => props.handleAction('/api/v1' + data.action_url)}>\n            {data.STATE === 'running' ? i18n.stop : i18n.start}\n            {data.FOCUSED ? <span className=\"shortcut-button\">S</span> : <FontAwesomeIcon icon={data.STATE === 'running' ? \"stop\" : \"play\"} />}\n          </button>\n        </div>\n\n        <div>\n          <button className=\"link-download restart\" onClick={() => props.handleAction(`/api/v1/restart/service/?srv=${data.NAME}`)}>\n            {i18n.restart}\n            {\n              data.FOCUSED\n                ? <span className=\"shortcut-button\">R</span>\n                : <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-repeat\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path fill-rule=\"evenodd\" d=\"M2.854 7.146a.5.5 0 0 0-.708 0l-2 2a.5.5 0 1 0 .708.708L2.5 8.207l1.646 1.647a.5.5 0 0 0 .708-.708l-2-2zm13-1a.5.5 0 0 0-.708 0L13.5 7.793l-1.646-1.647a.5.5 0 0 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0 0-.708z\" />\n                  <path fill-rule=\"evenodd\" d=\"M8 3a4.995 4.995 0 0 0-4.192 2.273.5.5 0 0 1-.837-.546A6 6 0 0 1 14 8a.5.5 0 0 1-1.001 0 5 5 0 0 0-5-5zM2.5 7.5A.5.5 0 0 1 3 8a5 5 0 0 0 9.192 2.727.5.5 0 1 1 .837.546A6 6 0 0 1 2 8a.5.5 0 0 1 .501-.5z\" />\n                </svg>\n            }\n          </button>\n        </div>\n\n      </div>\n    </ListItem>\n  );\n}\n\nexport default Server;\n","import React, { useEffect, useState } from 'react';\nimport { addControlPanelContentFocusedElement, removeControlPanelContentFocusedElement } from '../../actions/ControlPanelContent/controlPanelContentActions';\nimport { addActiveElement, removeFocusedElement } from '../../actions/MainNavigation/mainNavigationActions';\nimport { bulkAction, getServersList, handleAction } from '../../ControlPanelService/Server';\nimport SearchInput from '../../components/MainNav/Toolbar/SearchInput/SearchInput';\nimport LeftButton from '../../components/MainNav/Toolbar/LeftButton/LeftButton';\nimport Checkbox from '../../components/MainNav/Toolbar/Checkbox/Checkbox';\nimport Select from '../../components/MainNav/Toolbar/Select/Select';\nimport Toolbar from '../../components/MainNav/Toolbar/Toolbar';\nimport Modal from '../../components/ControlPanel/Modal/Modal';\nimport ServerSys from '../../components/Server/ServerSys';\nimport Spinner from '../../components/Spinner/Spinner';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Server from '../../components/Server/Server';\nimport { Link } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nimport './Servers.scss';\n\nconst Servers = props => {\n  const { i18n } = useSelector(state => state.session);\n  const { controlPanelFocusedElement } = useSelector(state => state.controlPanelContent);\n  const { focusedElement } = useSelector(state => state.mainNavigation);\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const [modal, setModal] = useState({\n    text: '',\n    visible: false,\n    actionUrl: '',\n  });\n  const [state, setState] = useState({\n    servers: [],\n    selection: [],\n    toggledAll: false,\n    sorting: i18n.Action,\n    order: \"descending\",\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/server/'));\n    dispatch(removeFocusedElement());\n    dispatch(removeControlPanelContentFocusedElement());\n    fetchData().then(() => setLoading(false));\n\n    return () => {\n      dispatch(removeControlPanelContentFocusedElement());\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleContentSelection);\n    window.addEventListener(\"keydown\", handleFocusedElementShortcuts);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleContentSelection);\n      window.removeEventListener(\"keydown\", handleFocusedElementShortcuts);\n    };\n  }, [controlPanelFocusedElement, focusedElement, state.servers]);\n\n  const handleContentSelection = event => {\n    if (event.keyCode === 38 || event.keyCode === 40) {\n      if (focusedElement) {\n        dispatch(removeFocusedElement());\n      }\n    }\n\n    if (event.keyCode === 38) {\n      event.preventDefault();\n      handleArrowUp();\n    } else if (event.keyCode === 40) {\n      event.preventDefault();\n      handleArrowDown();\n    }\n  }\n\n  const initFocusedElement = servers => {\n    servers[0]['FOCUSED'] = servers[0]['NAME'];\n    setState({ ...state, servers });\n    dispatch(addControlPanelContentFocusedElement(servers[0]));\n  }\n\n  const handleArrowDown = () => {\n    let servers = [...state.servers];\n\n    if (focusedElement) {\n      removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement.NAME === '' || controlPanelFocusedElement === '') {\n      initFocusedElement(servers);\n      return;\n    }\n\n    let focusedElementPosition = servers.findIndex(server => server.NAME === controlPanelFocusedElement.NAME);\n\n    if (focusedElementPosition !== servers.length - 1) {\n      let nextFocusedElement = servers[focusedElementPosition + 1];\n      servers[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, servers });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement));\n    }\n  }\n\n  const handleArrowUp = () => {\n    let servers = [...state.servers];\n\n    if (focusedElement) {\n      removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement.NAME === '' || controlPanelFocusedElement === '') {\n      initFocusedElement(servers);\n      return;\n    }\n\n    let focusedElementPosition = servers.findIndex(server => server.NAME === controlPanelFocusedElement.NAME);\n\n    if (focusedElementPosition !== 0) {\n      let nextFocusedElement = servers[focusedElementPosition - 1];\n      servers[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, servers });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement));\n    }\n  }\n\n  const handleFocusedElementShortcuts = event => {\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus');\n\n    if (controlPanelFocusedElement.NAME && !isSearchInputFocused) {\n      switch (event.keyCode) {\n        case 13: return handleConfigure();\n        case 82: return handleRestart();\n        case 83: return handleStop();\n        default: break;\n      }\n    }\n  }\n\n  const handleConfigure = () => {\n    if (controlPanelFocusedElement.NAME !== state.servers[0].NAME) {\n      props.history.push(`/edit/server/${controlPanelFocusedElement.NAME}`);\n    } else {\n      props.history.push('/edit/server/');\n    }\n  }\n\n  const handleStop = () => {\n    onHandleAction('/api/v1' + controlPanelFocusedElement.action_url);\n  }\n\n  const handleRestart = () => {\n    onHandleAction(`/api/v1/restart/service/?srv=${controlPanelFocusedElement.NAME}`);\n  }\n\n  const fetchData = () => {\n    setLoading(true);\n    return new Promise((resolve, reject) => {\n      getServersList()\n        .then(result => {\n          setState({\n            ...state,\n            selection: [],\n            toggledAll: false,\n            servers: reformatData(result.data.data, result.data.sys)\n          });\n          resolve();\n        })\n        .catch(err => console.error(err));\n    });\n  }\n\n  const reformatData = (servers, sysInfo) => {\n    let result = [];\n\n    for (let i in servers) {\n      servers[i]['NAME'] = i;\n      servers[i]['FOCUSED'] = controlPanelFocusedElement.NAME === i;\n\n      result.push(servers[i]);\n    }\n\n    result.splice(0, 0, Object.values(sysInfo)[0]);\n    result[0]['NAME'] = result[0]['HOSTNAME'];\n\n    return result;\n  }\n\n  const servers = () => {\n    const result = [];\n\n    state.servers.forEach(server => {\n      server.FOCUSED = controlPanelFocusedElement.NAME === server.NAME;\n      result.push(server);\n    });\n\n    return result.map((item, index) => {\n      if (item.HOSTNAME) {\n        return <ServerSys data={item} key={index} checkItem={checkItem} handleAction={onHandleAction} />\n      } else {\n        return <Server data={item} key={index} checkItem={checkItem} handleAction={onHandleAction} />\n      }\n    });\n  }\n\n  const onHandleAction = uri => {\n    dispatch(removeControlPanelContentFocusedElement());\n    if (uri) {\n      setLoading(true);\n      handleAction(uri)\n        .then(res => {\n          if (res.data.error) {\n            displayModal(res.data.error);\n          }\n\n          fetchData().then(() => setLoading(false));\n        })\n        .catch(err => {\n          setLoading(false);\n          console.error(err)\n        });\n    }\n  }\n\n  const toggleAll = toggled => {\n    let serversDuplicate = [...state.servers];\n\n    if (toggled) {\n      let serverNames = [];\n\n      let servers = serversDuplicate.map(server => {\n        serverNames.push(server.NAME);\n        server.isChecked = true;\n        return server;\n      });\n\n      setState({ ...state, servers, selection: serverNames, toggledAll: toggled });\n    } else {\n      let servers = serversDuplicate.map(server => {\n        server.isChecked = false;\n        return server;\n      });\n\n      setState({ ...state, servers, selection: [], toggledAll: toggled });\n    }\n  }\n\n  const bulk = action => {\n    const { selection } = state;\n\n    if (selection.length && action) {\n      setState({ ...state, loading: true });\n      bulkAction(action, selection)\n        .then(res => {\n          if (res.data.error) {\n            displayModal(res.data.error);\n          }\n\n          toggleAll(false);\n          fetchData().then(() => setLoading(false));\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const checkItem = name => {\n    const { selection } = state;\n    let duplicate = [...selection];\n    let serversDuplicate = [...state.servers];\n    let checkedItem = duplicate.indexOf(name);\n\n    let incomingItem = serversDuplicate.findIndex(server => server.NAME === name);\n    serversDuplicate[incomingItem].isChecked = !serversDuplicate[incomingItem].isChecked;\n\n    if (checkedItem !== -1) {\n      duplicate.splice(checkedItem, 1);\n    } else {\n      duplicate.push(name);\n    }\n\n    setState({ ...state, servers: serversDuplicate, selection: duplicate });\n  }\n\n  const displayModal = text => {\n    setModal({ ...modal, visible: true, text });\n  }\n\n  const modalConfirmHandler = () => {\n    if (!modal.actionUrl) {\n      return modalCancelHandler();\n    }\n\n    modalCancelHandler();\n    setLoading(true);\n    handleAction(modal.actionUrl)\n      .then(res => {\n        if (res.data.error) {\n          setLoading(false);\n          return displayModal(res.data.error, '');\n        }\n\n        fetchData().then(() => setLoading(false));\n      })\n      .catch(err => { setLoading(false); console.error(err); });\n  }\n\n  const modalCancelHandler = () => {\n    setModal({ ...modal, visible: false, text: '' });\n  }\n\n  return (\n    <div className=\"servers-list\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.SERVER}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <LeftButton href=\"/edit/server/\" list=\"server\" name={i18n.configure} showLeftMenu={true} />\n        <div className=\"r-menu\">\n          <div className=\"input-group input-group-sm\">\n            <Link to=\"/list/server/service/?srv=cpu\" className=\"button-extra\">{i18n['show: CPU / MEM / NET / DISK']}</Link>\n            <Checkbox toggleAll={toggleAll} toggled={state.toggledAll} />\n            <Select list='serverList' bulkAction={bulk} />\n            <SearchInput handleSearchTerm={term => props.changeSearchTerm(term)} />\n          </div>\n        </div>\n      </Toolbar>\n      {loading ? <Spinner /> : (\n        <div className=\"servers-wrapper\">\n          {servers()}\n        </div>\n      )}\n\n      <Modal\n        onSave={modalConfirmHandler}\n        onCancel={modalCancelHandler}\n        showCancelButton={false}\n        show={modal.visible}\n        text={modal.text} />\n    </div>\n  );\n}\n\nexport default Servers;\n","import React, { useEffect } from 'react';\nimport { addActiveElement } from '../../../actions/MainNavigation/mainNavigationActions';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nimport './Menu.scss';\nimport Spinner from 'src/components/Spinner/Spinner';\n\nconst className = height => {\n  if (height === 35) {\n    return \"menu-stat shadow\";\n  } else {\n    return \"menu-stat\";\n  }\n}\n\nconst style = ({ menuHeight, mobile }) => {\n  if (mobile) {\n    return;\n  }\n\n  if (document.documentElement.clientWidth > 900) {\n    return menuHeight\n  } else {\n    return 45;\n  }\n}\n\nconst Menu = props => {\n  const { activeElement, focusedElement } = useSelector(state => state.mainNavigation);\n  const { i18n, userName } = useSelector(state => state.session);\n  const { panel } = useSelector(state => state.panel);\n  const { session } = useSelector(state => state.userSession);\n  const { user } = useSelector(state => state.menuCounters);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (user.LANGUAGE) {\n      localStorage.setItem(\"language\", user.LANGUAGE);\n    }\n  }, [user]);\n\n  const handleState = (tab, event) => {\n    if (`${window.location.pathname}${window.location.search}` === tab) {\n      return event.preventDefault();\n    }\n\n    dispatch(addActiveElement(tab));\n  }\n\n  const statClassName = activeName => {\n    return `stat ${activeName === activeElement && 'l-active'} ${activeName === focusedElement && 'focus'}`;\n  }\n\n  if (!panel[userName]) return <Spinner />;\n\n  return (\n    <div className=\"menu-wrapper\">\n      <div className={className(props.menuHeight)} style={{ height: style(props) }}>\n        <div className={statClassName(\"/list/user/\")}>\n          <Link to=\"/list/user/\" onClick={event => handleState(\"/list/user/\", event)} onKeyPress={event => event.preventDefault()}>\n            <h3>{i18n.USER}</h3>\n            <div className=\"stats\">\n              {\n                session.look && panel[session.look]\n                  ? (<>\n                    <div>\n                      <span>{i18n.Disk}:</span>\n                      <span>\n                        <span className=\"value\">\n                          {panel[session.look]['U_DISK']}\n                          <span className=\"unit\">{panel[session.look]['U_DISK_MEASURE']}</span>\n                        </span>\n                      </span>\n                    </div>\n                    <div>\n                      <span>{i18n.Bandwidth}:</span>\n                      <span>\n                        <span className=\"value\">\n                          {panel[session.look]['U_BANDWIDTH']}\n                          <span className=\"unit\">{panel[session.look]['U_BANDWIDTH_MEASURE']}</span>\n                        </span>\n                      </span>\n                    </div>\n                  </>)\n                  : (<>\n                    <div><span>{i18n.users}:</span> <span>{user.U_USERS}</span></div>\n                    <div><span>{i18n.spnd}:</span> <span>{user.SUSPENDED_USERS}</span></div>\n                  </>)\n              }\n            </div>\n          </Link>\n        </div>\n        {\n          panel[userName]['WEB_DOMAINS'] !== '0' && (<div className={statClassName(\"/list/web/\")}>\n            <Link to=\"/list/web/\" onClick={event => handleState(\"/list/web/\", event)} onKeyPress={event => event.preventDefault()}>\n              <h3>{i18n.WEB}</h3>\n              <div className=\"stats\">\n                <div><span>{i18n.domains}:</span> <span>{user.U_WEB_DOMAINS}</span></div>\n                <div><span>{i18n.aliases}:</span> <span>{user.U_WEB_ALIASES}</span></div>\n                <div><span>{i18n.spnd}:</span> <span>{user.SUSPENDED_WEB}</span></div>\n              </div>\n            </Link>\n          </div>)\n        }\n\n        {\n          panel[userName]['DNS_DOMAINS'] !== '0' && (<div className={statClassName(\"/list/dns/\")}>\n            <Link to=\"/list/dns/\" onClick={event => handleState(\"/list/dns/\", event)} onKeyPress={event => event.preventDefault()}>\n              <h3>{i18n.DNS}</h3>\n              <div className=\"stats\">\n                <div><span>{i18n.domains}:</span> <span>{user.U_DNS_DOMAINS}</span></div>\n                <div><span>{i18n.records}:</span> <span>{user.U_DNS_RECORDS}</span></div>\n                <div><span>{i18n.spnd}:</span> <span>{user.SUSPENDED_DNS}</span></div>\n              </div>\n            </Link>\n          </div>)\n        }\n\n        {\n          panel[userName]['MAIL_DOMAINS'] !== '0' && (<div className={statClassName(\"/list/mail/\")}>\n            <Link to=\"/list/mail/\" onClick={event => handleState(\"/list/mail/\", event)} onKeyPress={event => event.preventDefault()}>\n              <h3>{i18n.MAIL}</h3>\n              <div className=\"stats\">\n                <div><span>{i18n.domains}:</span> <span>{user.U_MAIL_DOMAINS}</span></div>\n                <div><span>{i18n.accounts}:</span> <span>{user.U_MAIL_ACCOUNTS}</span></div>\n                <div><span>{i18n.spnd}:</span> <span>{user.SUSPENDED_MAIL}</span></div>\n              </div>\n            </Link>\n          </div>)\n        }\n\n        {\n          panel[userName]['DATABASES'] !== '0' && (<div className={statClassName(\"/list/db/\")}>\n            <Link to=\"/list/db/\" onClick={event => handleState(\"/list/db/\", event)} onKeyPress={event => event.preventDefault()}>\n              <h3>{i18n.DB}</h3>\n              <div className=\"stats\">\n                <div><span>{i18n.databases}:</span> <span>{user.U_DATABASES}</span></div>\n                <div><span>{i18n.spnd}:</span> <span>{user.SUSPENDED_DB}</span></div>\n              </div>\n            </Link>\n          </div>)\n        }\n\n        {\n          panel[userName]['CRON_JOBS'] !== '0' && (<div className={statClassName(\"/list/cron/\")}>\n            <Link to=\"/list/cron/\" onClick={event => handleState(\"/list/cron/\", event)} onKeyPress={event => event.preventDefault()}>\n              <h3>{i18n.CRON}</h3>\n              <div className=\"stats\">\n                <div><span>{i18n.jobs}:</span> <span>{user.U_CRON_JOBS}</span></div>\n                <div><span>{i18n.spnd}:</span> <span>{user.SUSPENDED_CRON}</span></div>\n              </div>\n            </Link>\n          </div>)\n        }\n\n        {\n          panel[userName]['BACKUPS'] !== '0' && (<div className={statClassName(\"/list/backup/\") + ' last'}>\n            <Link to=\"/list/backup/\" onClick={event => handleState(\"/list/backup/\", event)} onKeyPress={event => event.preventDefault()}>\n              <h3>{i18n.BACKUP}</h3>\n              <div className=\"stats\">\n                <div><span>{i18n.backups}:</span> <span>{user.U_BACKUPS}</span></div>\n              </div>\n            </Link>\n          </div>)\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default Menu;\n","import React from 'react';\nimport Menu from '../../MainNav/Stat-menu/Menu';\nimport { addActiveElement } from '../../../actions/MainNavigation/mainNavigationActions';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport './MobileTopNav.scss';\n\nconst MobileTopNav = props => {\n  const { i18n, userName } = useSelector(state => state.session);\n  const { session } = useSelector(state => state.userSession);\n  const { activeElement, focusedElement } = useSelector(state => state.mainNavigation);\n  const dispatch = useDispatch();\n\n  const className = (activeName, extraClass = '') => {\n    let className = 'top-link';\n\n    if (activeName === activeElement) {\n      className += ' active';\n    }\n\n    if (activeName === focusedElement) {\n      className += ' focus';\n    }\n\n    return className + ` ${extraClass}`;\n  }\n\n  const handleState = (tab, event) => {\n    if (`${window.location.pathname}${window.location.search}` === tab) {\n      return event.preventDefault();\n    }\n\n    dispatch(addActiveElement(tab));\n  }\n\n  return (\n    <div className={props.class}>\n      <div className=\"mobile-menu\">\n        {userName === 'admin' && (<>\n          <div className={className(\"/list/package/\")}>\n            <Link to=\"/list/package/\" onClick={event => handleState(\"/list/package/\", event)} onKeyPress={event => event.preventDefault()}>{i18n.Packages}</Link>\n          </div>\n          <div className={className(\"/list/ip/\")}>\n            <Link to=\"/list/ip/\" onClick={event => handleState(\"/list/ip/\", event)} onKeyPress={event => event.preventDefault()}>{i18n.IP}</Link>\n          </div>\n          <div className={className(\"/list/rrd/\")}>\n            <Link to=\"/list/rrd/\" onClick={event => handleState(\"/list/rrd/\", event)} onKeyPress={event => event.preventDefault()}>{i18n.Graphs}</Link>\n          </div>\n        </>)}\n        <div className={className(\"/list/stats/\")}>\n          <Link to=\"/list/stats/\" onClick={event => handleState(\"/list/stats/\", event)} onKeyPress={event => event.preventDefault()}>{i18n.Statistics}</Link>\n        </div>\n        <div className={className(\"/list/log/\")}>\n          <Link to=\"/list/log/\" onClick={event => handleState(\"/list/log/\", event)} onKeyPress={event => event.preventDefault()}>{i18n.Log}</Link>\n        </div>\n        {userName === 'admin' && (<>\n          <div className={className(\"/list/updates/\")}>\n            <Link to=\"/list/updates/\" onClick={event => handleState(\"/list/updates/\", event)} onKeyPress={event => event.preventDefault()}>{i18n.Updates}</Link>\n          </div>\n          {session.FIREWALL_SYSTEM && <div className={className(\"/list/firewall/\")}>\n            <Link to=\"/list/firewall/\" onClick={event => handleState(\"/list/firewall/\", event)} onKeyPress={event => event.preventDefault()}>{i18n.Firewall}</Link>\n          </div>}\n        </>)}\n        {session.FILEMANAGER_KEY && <div className={className(\"/list/directory/\")}>\n          <Link to=\"/list/directory/\">{i18n['File Manager']}</Link>\n        </div>}\n        {session.SOFTACULOUS === \"yes\" && <div className={className(\"/softaculous/\")}><Link to=\"/softaculous/\" target=\"_blank\">{i18n.Apps ?? 'Apps'}</Link>\n        </div>}\n        {userName === 'admin' && (\n          <div className={className(\"/list/server/\")}>\n            <Link to=\"/list/server/\" onClick={event => handleState(\"/list/server/\", event)} onKeyPress={event => event.preventDefault()}>{i18n.Server}</Link>\n          </div>\n        )}\n      </div>\n      <div className=\"mobile-stat-menu\">\n        <Menu mobile={true} />\n      </div>\n    </div>\n  );\n}\n\nexport default MobileTopNav;\n","import axios from \"axios\";\nimport { getAuthToken } from \"src/utils/token\";\nlet BASE_URL = window.location.origin;\nlet getNotificationsUri = '/api/v1/list/notifications/index.php';\nlet deleteNotificationsUri = '/api/v1/delete/notification/index.php';\n\nexport const getAppNotifications = () => {\n  return axios.get(BASE_URL + getNotificationsUri, {\n    params: {\n      ajax: 1,\n      token: getAuthToken()\n    }\n  });\n}\n\nexport const deleteNotification = id => {\n  return axios.get(BASE_URL + deleteNotificationsUri, {\n    params: {\n      'delete': 1,\n      'notification_id': id,\n      token: getAuthToken()\n    }\n  });\n}","import React from 'react';\n\nexport default function Bell(props) {\n  return (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" id=\"_24x24_On_Light_Notification\" data-name=\"24x24/On Light/Notification\" xmlns=\"http://www.w3.org/2000/svg\">\n      <rect id=\"view-box\" width=\"24\" height=\"24\" fill=\"none\" />\n      <path id=\"Shape\" d=\"M6,17v-.5H2.25A2.253,2.253,0,0,1,0,14.25v-.382a2.542,2.542,0,0,1,1.415-2.289A1.248,1.248,0,0,0,2.1,10.572l.446-4.91a6.225,6.225,0,0,1,12.4,0l.446,4.91a1.26,1.26,0,0,0,.686,1.005,2.547,2.547,0,0,1,1.418,2.29v.382a2.252,2.252,0,0,1-2.25,2.25H11.5V17A2.75,2.75,0,0,1,6,17Zm1.5,0A1.25,1.25,0,0,0,10,17v-.5H7.5ZM4.045,5.8,3.6,10.708A2.738,2.738,0,0,1,2.089,12.92a1.055,1.055,0,0,0-.589.949v.382A.751.751,0,0,0,2.25,15h13A.751.751,0,0,0,16,14.25v-.382a1.054,1.054,0,0,0-.586-.948A2.739,2.739,0,0,1,13.9,10.708L13.456,5.8a4.725,4.725,0,0,0-9.411,0Z\" transform=\"translate(3.25 2.25)\" fill=\"#f8b014\" />\n    </svg>);\n}\n","import React from 'react';\n\nexport default function BellUnread(props) {\n  return (<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" id=\"_24x24_On_Light_Notification-Alert\" data-name=\"24x24/On Light/Notification-Alert\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect id=\"view-box\" width=\"24\" height=\"24\" fill=\"none\" />\n    <path id=\"Shape\" d=\"M6,17v-.5H2.25A2.253,2.253,0,0,1,0,14.25v-.382a2.542,2.542,0,0,1,1.415-2.289A1.247,1.247,0,0,0,2.1,10.572l.446-4.91A6.227,6.227,0,0,1,10.618.286a5.477,5.477,0,0,0-.635,1.374A4.794,4.794,0,0,0,8.75,1.5,4.7,4.7,0,0,0,4.045,5.8L3.6,10.708A2.739,2.739,0,0,1,2.089,12.92a1.055,1.055,0,0,0-.589.949v.382A.751.751,0,0,0,2.25,15h13A.751.751,0,0,0,16,14.25v-.382a1.053,1.053,0,0,0-.586-.948A2.739,2.739,0,0,1,13.9,10.708l-.2-2.18a5.473,5.473,0,0,0,1.526.221l.166,1.822a1.26,1.26,0,0,0,.686,1.005,2.547,2.547,0,0,1,1.418,2.29v.382a2.252,2.252,0,0,1-2.25,2.25H11.5V17A2.75,2.75,0,0,1,6,17Zm1.5,0A1.25,1.25,0,0,0,10,17v-.5H7.5ZM15.047,6.744A3.486,3.486,0,0,1,13.5,6.28L13.456,5.8a4.7,4.7,0,0,0-1.648-3.185,3.5,3.5,0,0,1,.61-1.417A6.221,6.221,0,0,1,14.95,5.662l.1,1.081v0Z\" transform=\"translate(3.25 2.25)\" fill=\"#f8b014\" />\n    <path id=\"Shape-2\" data-name=\"Shape\" d=\"M3.5,7A3.5,3.5,0,1,1,7,3.5,3.5,3.5,0,0,1,3.5,7Z\" transform=\"translate(15 2)\" fill=\"#f8b014\" />\n  </svg>);\n}\n","import React, { useState, useEffect } from 'react';\nimport { getAppNotifications, deleteNotification } from 'src/ControlPanelService/Notifications';\nimport { addNotifications } from 'src/actions/Notification/notificationActions';\nimport Bell from './Bell';\nimport BellUnread from './BellUnread';\nimport { useDispatch, useSelector } from 'react-redux';\nimport './Notifications.scss';\nimport HtmlParser from 'react-html-parser';\n\nconst Notifications = () => {\n  const { i18n } = useSelector(state => state.session);\n  const { notifications } = useSelector(state => state.notifications);\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (!notifications.length) {\n      fetchData();\n    }\n  }, [notifications]);\n\n  const fetchData = () => {\n    setLoading(true);\n    getAppNotifications()\n      .then(res => {\n        const result = [];\n\n        for (let notification in res.data.result) {\n          result.push(res.data.result[notification]);\n        }\n\n        dispatch(addNotifications(result));\n        setLoading(false);\n      })\n      .catch(err => {\n        console.error(err);\n        setLoading(false);\n      });\n  }\n\n  const removeNotification = id => {\n    deleteNotification(id)\n      .then(() => {\n        fetchData();\n      })\n      .catch(err => console.error(err));\n  }\n\n  const renderOptions = () => {\n    if (notifications.length) {\n      return notifications.map(item => {\n        return (\n          <>\n            <div className=\"dropdown-item\">\n              <span className=\"title\"><b>{item.TOPIC}</b></span>\n              <span className=\"delete-notification\" onClick={() => removeNotification(item.ID)}></span>\n            </div>\n            <div>{HtmlParser(item.NOTICE)}</div>\n            <div className=\"dropdown-divider\"></div>\n          </>\n        );\n      });\n    } else {\n      return (\n        <div className=\"dropdown-item\" style={{ cursor: 'default', marginBottom: '10' }}>\n          <span className=\"title\">{i18n['no notifications']}</span>\n        </div>\n      );\n    }\n  }\n\n  return (\n    <div className=\"btn-group\">\n      <button type=\"button\" className=\"btn btn-danger dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n        <div className=\"bell\">\n          {\n            notifications.length\n              ? <BellUnread />\n              : <Bell />\n          }\n        </div>\n      </button>\n      <div className=\"dropdown-menu\">\n        {loading ? 'Loading' : renderOptions()}\n      </div>\n    </div>\n  );\n};\n\nexport default Notifications;\n","import { ADD_NOTIFICATIONS, REMOVE_NOTIFICATIONS } from './notificationTypes';\n\nexport const addNotifications = value => {\n  return {\n    type: ADD_NOTIFICATIONS,\n    value\n  };\n};\n\nexport const removeNotifications = () => {\n  return {\n    type: REMOVE_NOTIFICATIONS,\n    value: []\n  };\n};\n","import React, { useState } from 'react';\nimport { addActiveElement } from '../../../actions/MainNavigation/mainNavigationActions';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { logout } from 'src/actions/Session/sessionActions';\nimport Notifications from './Notifications/Notifications';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Spinner from 'src/components/Spinner/Spinner';\nimport { Link } from \"react-router-dom\";\nimport './Panel.scss';\n\nconst Panel = props => {\n  const { i18n, userName } = useSelector(state => state.session);\n  const { panel } = useSelector(state => state.panel);\n  const { session } = useSelector(state => state.userSession);\n  const { activeElement, focusedElement } = useSelector(state => state.mainNavigation);\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const [state, setState] = useState({\n    smallNavigationClass: 'small-navigation hidden'\n  });\n\n  const toggleNavigation = event => {\n    props.showTopNav();\n\n    if (state.smallNavigationClass === 'small-navigation hidden') {\n      setState({ ...state, smallNavigationClass: 'small-navigation show' });\n    } else {\n      setState({ ...state, smallNavigationClass: 'small-navigation hidden' });\n    }\n  }\n\n  const className = (activeName, extraClass = '') => {\n    let className = 'top-link';\n\n    if (activeName === activeElement) {\n      className += ' active';\n    }\n\n    if (activeName === focusedElement) {\n      className += ' focus';\n    }\n\n    return className + ` ${extraClass}`;\n  }\n\n  const handleState = (tab, event) => {\n    if (`${window.location.pathname}${window.location.search}` === tab) {\n      return event.preventDefault();\n    }\n\n    dispatch(addActiveElement(tab));\n  }\n\n  const signOut = () => {\n    setLoading(true);\n\n    dispatch(logout())\n      .then(() => {\n        setLoading(false);\n      },\n        error => {\n          setLoading(false);\n          console.error(error);\n        });\n  }\n\n  const renderNotifications = () => {\n    if (panel[userName]) {\n      if (panel[userName]['NOTIFICATIONS'] === 'yes') {\n        return <Notifications />;\n      }\n    }\n  }\n\n  const renderSmallNavigation = () => {\n    if (document.documentElement.clientWidth < 900) {\n      return (<div className=\"top-panel small-device\">\n        <div className=\"container left-menu\">\n          <div className=\"logo\">\n            <Link to=\"/list/user/\" onClick={() => dispatch(addActiveElement('/list/user/'))}>\n              <div>\n                <img src=\"/images/white_logo.png\" alt=\"Logo\" />\n              </div>\n            </Link>\n          </div>\n        </div>\n        <div className=\"container hamburger\" onClick={toggleNavigation}>\n          <span className=\"bar\"></span>\n          <span className=\"bar\"></span>\n          <span className=\"bar\"></span>\n        </div>\n        <div className=\"container profile-menu\">\n          {renderNotifications()}\n          <div><Link to={`/edit/user?user=${userName}`}>{userName}</Link></div>\n          <div><button onClick={signOut}>{i18n['Log out']}</button></div>\n        </div>\n      </div>);\n    }\n  }\n\n  return (\n    <div className=\"panel-wrapper\">\n      {loading && <Spinner />}\n\n      <div className={`top-panel ${session.look ? 'long-profile' : ''}`}>\n        <div className=\"container left-menu\">\n          <div className=\"logo\">\n            <Link to=\"/list/user/\" onClick={() => dispatch(addActiveElement('/list/user/'))}>\n              <div>\n                <img src=\"/images/white_logo.png\" alt=\"Logo\" />\n              </div>\n            </Link>\n          </div>\n          {userName === 'admin' && (<>\n            <div className={className(\"/list/package/\")}>\n              <Link to=\"/list/package/\" onClick={event => handleState(\"/list/package/\", event)} onKeyPress={event => event.preventDefault()}>{i18n.Packages}</Link>\n            </div>\n            <div className={className(\"/list/ip/\")}>\n              <Link to=\"/list/ip/\" onClick={event => handleState(\"/list/ip/\", event)} onKeyPress={event => event.preventDefault()}>{i18n.IP}</Link>\n            </div>\n            <div className={className(\"/list/rrd/\")}>\n              <Link to=\"/list/rrd/\" onClick={event => handleState(\"/list/rrd/\", event)} onKeyPress={event => event.preventDefault()}>{i18n.Graphs}</Link>\n            </div>\n          </>)}\n          <div className={className(\"/list/stats/\")}>\n            <Link to=\"/list/stats/\" onClick={event => handleState(\"/list/stats/\", event)} onKeyPress={event => event.preventDefault()}>{i18n.Statistics}</Link>\n          </div>\n          <div className={className(\"/list/log/\")}>\n            <Link to=\"/list/log/\" onClick={event => handleState(\"/list/log/\", event)} onKeyPress={event => event.preventDefault()}>{i18n.Log}</Link>\n          </div>\n          {userName === 'admin' && (<>\n            <div className={className(\"/list/updates/\")}>\n              <Link to=\"/list/updates/\" onClick={event => handleState(\"/list/updates/\", event)} onKeyPress={event => event.preventDefault()}>{i18n.Updates}</Link>\n            </div>\n            {session.FIREWALL_SYSTEM && <div className={className(\"/list/firewall/\")}>\n              <Link to=\"/list/firewall/\" onClick={event => handleState(\"/list/firewall/\", event)} onKeyPress={event => event.preventDefault()}>{i18n.Firewall}</Link>\n            </div>}\n          </>)}\n          {session.FILEMANAGER_KEY && <div className={className(\"/list/directory/\")}>\n            <Link to=\"/list/directory/\">{i18n['File Manager']}</Link>\n          </div>}\n          {session.SOFTACULOUS === \"yes\" && <div className={className(\"/softaculous/\")}><Link to=\"/softaculous/\" target=\"_blank\">{i18n.Apps ?? 'Apps'}</Link>\n          </div>}\n          {userName === 'admin' && (\n            <div className={className(\"/list/server/\")}>\n              <Link to=\"/list/server/\" onClick={event => handleState(\"/list/server/\", event)} onKeyPress={event => event.preventDefault()}>{i18n.Server}</Link>\n            </div>\n          )}\n        </div>\n        <div className=\"container profile-menu\">\n          {renderNotifications()}\n          <div className=\"edit-user\">\n            <Link to={`/edit/user?user=${userName}`}>\n              {session.look\n                ? <div className=\"long-username\">\n                  <span>{session.user}</span>\n                  <FontAwesomeIcon icon=\"long-arrow-alt-right\" />\n                  <span>{session.look}</span>\n                </div>\n                : userName\n              }\n            </Link>\n          </div>\n          <div className=\"logout-button\"><button onClick={signOut}>{i18n['Log out']}</button></div>\n        </div>\n      </div>\n\n      {renderSmallNavigation()}\n    </div>\n  );\n}\n\nexport default Panel;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { addFocusedElement, addActiveElement, removeActiveElement, removeFocusedElement } from \"../../actions/MainNavigation/mainNavigationActions\";\nimport * as ControlPanelContentActions from \"../../actions/ControlPanelContent/controlPanelContentActions\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport MobileTopNav from '../MainNav/Mobile/MobileTopNav';\nimport Menu from '../MainNav/Stat-menu/Menu';\nimport Panel from '../MainNav/Panel/Panel';\nimport './MainNav.scss';\nimport { useHistory } from 'react-router';\nimport Spinner from '../Spinner/Spinner';\n\nconst MainNav = () => {\n  const history = useHistory();\n  const [loading, setLoading] = useState(true);\n  const [state, setState] = useState({\n    menuHeight: 135,\n    tabs: [],\n    showTopNav: false\n  });\n\n  const { userName } = useSelector(state => state.session);\n  const { session } = useSelector(state => state.userSession);\n  const { user } = useSelector(state => state.menuCounters);\n  const { activeElement, focusedElement, adminMenuTabs, userMenuTabs } = useSelector(state => state.mainNavigation);\n  const { controlPanelFocusedElement } = useSelector(state => state.controlPanelContent);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!userName || !Object.entries(user).length || !Object.entries(session).length) {\n      return history.push('/login');\n    }\n\n    if (session.look) {\n      const commonUserRoutes = ['package', 'ip', 'rrd', 'updates', 'firewall', 'server'];\n      const splitPath = history.location.pathname.split('/')[2];\n\n      if (history.location.pathname === '/add/user/') return history.push('/');\n\n      if (commonUserRoutes.includes(splitPath)) {\n        return history.push('/');\n      }\n    }\n\n    const tabs = session.look ? userMenuTabs : adminMenuTabs;\n    setState({ ...state, tabs });\n\n    setLoading(false);\n  }, [userName, user, history, session]);\n\n  const controlFocusedTabWithCallback = useCallback(event => {\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus') || document.querySelector('textarea:focus');\n    let currentActiveTabPositionInArray;\n\n    if (isSearchInputFocused) {\n      return;\n    }\n\n    if (event.keyCode === 37 || event.keyCode === 39) {\n      if (controlPanelFocusedElement) {\n        dispatch(ControlPanelContentActions.removeControlPanelContentFocusedElement());\n      }\n\n      if (!focusedElement) {\n        dispatch(addFocusedElement(activeElement));\n        currentActiveTabPositionInArray = state.tabs.indexOf(activeElement);\n      } else {\n        currentActiveTabPositionInArray = state.tabs.indexOf(focusedElement);\n      }\n    }\n\n    if (currentActiveTabPositionInArray === -1) {\n      return;\n    }\n\n    if (event.keyCode === 37) {\n      let newFocusedMenuTab = handleLeftArrowKey(state.tabs, currentActiveTabPositionInArray);\n      dispatch(addFocusedElement(newFocusedMenuTab));\n    } else if (event.keyCode === 39) {\n      let newFocusedMenuTab = handleRightArrowKey(state.tabs, currentActiveTabPositionInArray);\n      dispatch(addFocusedElement(newFocusedMenuTab));\n    } else if (event.keyCode === 13) {\n      if (!controlPanelFocusedElement && focusedElement && (focusedElement !== activeElement)) {\n        history.push({ pathname: focusedElement });\n        dispatch(addActiveElement(focusedElement));\n        dispatch(removeFocusedElement());\n      }\n    }\n  }, [activeElement, focusedElement, controlPanelFocusedElement]);\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", handleTopNav);\n    window.addEventListener(\"keyup\", controlFocusedTabWithCallback);\n    window.addEventListener(\"scroll\", hideMenu);\n\n    return () => {\n      window.removeEventListener(\"resize\", handleTopNav);\n      window.removeEventListener(\"keyup\", controlFocusedTabWithCallback);\n      window.removeEventListener(\"scroll\", hideMenu);\n    };\n  }, [controlFocusedTabWithCallback]);\n\n  useEffect(() => {\n    dispatch(removeFocusedElement());\n  }, [activeElement]);\n\n  useEffect(() => {\n    dispatch(addActiveElement(history.location.pathname));\n  }, []);\n\n  const handleLeftArrowKey = (array, indexInArray) => {\n    if (indexInArray === 0) {\n      return array[array.length - 1];\n    } else {\n      return array[indexInArray - 1];\n    }\n  }\n\n  const handleRightArrowKey = (array, indexInArray) => {\n    if (indexInArray === (array.length - 1)) {\n      return array[0];\n    } else {\n      return array[indexInArray + 1];\n    }\n  }\n\n  const handleTopNav = () => {\n    if (document.documentElement.clientWidth < 900) {\n      setState({\n        ...state,\n        menuHeight: 45\n      });\n    } else {\n      setState({\n        ...state,\n        menuHeight: 135\n      });\n    }\n  }\n\n  const hideMenu = () => {\n    if (document.documentElement.clientWidth > 900) {\n      let scrollTop = window.scrollY;\n      let menuHeight = Math.max(45, 135 - scrollTop);\n      setState({ ...state, menuHeight });\n    }\n  }\n\n  const showTopNav = () => {\n    let showTopNav = !state.showTopNav;\n    setState({ ...state, showTopNav });\n  }\n\n  const topNavClassName = () => {\n    if (state.showTopNav) {\n      return \"nav-wrapper show-nav\";\n    } else {\n      return \"nav-wrapper hide-nav\";\n    }\n  }\n\n  const topNavMobile = () => {\n    if (state.showTopNav) {\n      return \"mobile-top-nav-wrapper show\";\n    } else {\n      return \"mobile-top-nav-wrapper hide\";\n    }\n  }\n\n  const topNavigation = () => {\n    if (window.innerWidth > 900) {\n      return (\n        <div className={topNavClassName()}>\n          <Menu menuHeight={state.menuHeight} mobile={false} />\n        </div>\n      );\n    } else {\n      return <MobileTopNav class={topNavMobile()} />;\n    }\n  }\n\n  return (\n    <div className=\"main-nav\">\n      {\n        loading\n          ? <Spinner />\n          : (<>\n            <Panel showTopNav={showTopNav} visibleNav={state.showTopNav} />\n            {topNavigation()}\n          </>)\n      }\n    </div>\n  );\n}\n\nexport default MainNav;","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport Container from '../../ControlPanel/Container/Container';\n\nimport './style.scss';\n\nconst Exclusion = ({ data, focused }) => {\n  const { i18n } = useSelector(state => state.session);\n\n  const renderExclusionItems = () => {\n    if (!Array.isArray(data.ITEMS)) {\n      for (let item in data.ITEMS) {\n        return <><b>{item}</b> &nbsp; {data.ITEMS[item]}<br /></>;\n      }\n    } else {\n      return i18n['no exclusions'];\n    }\n  }\n\n  return (\n    <div className={focused ? 'statistic-item focused' : 'statistic-item'} id={data.NAME}>\n      <Container className=\"l-col w-15\" />\n      <Container className=\"r-col w-85\">\n        <div className=\"stats\">\n          <div className=\"name\">{data.NAME}</div>\n          <div className=\"exclusion-items\">{renderExclusionItems()}</div>\n        </div>\n      </Container>\n    </div>\n  );\n}\n\nexport default Exclusion;\n","import React, { useEffect, useState } from 'react';\nimport { addControlPanelContentFocusedElement, removeControlPanelContentFocusedElement } from 'src/actions/ControlPanelContent/controlPanelContentActions';\nimport { addActiveElement, removeFocusedElement } from 'src/actions/MainNavigation/mainNavigationActions';\nimport * as MainNavigation from 'src/actions/MainNavigation/mainNavigationActions';\nimport SearchInput from 'src/components/MainNav/Toolbar/SearchInput/SearchInput';\nimport LeftButton from 'src/components/MainNav/Toolbar/LeftButton/LeftButton';\nimport Toolbar from 'src/components/MainNav/Toolbar/Toolbar';\nimport Spinner from 'src/components/Spinner/Spinner';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Helmet } from 'react-helmet';\nimport Exclusion from 'src/components/Backup/Exclusion';\nimport { getBackupExclusions } from 'src/ControlPanelService/Backup';\n\nconst BackupExclusions = props => {\n  const { i18n } = useSelector(state => state.session);\n  const { controlPanelFocusedElement } = useSelector(state => state.controlPanelContent);\n  const { focusedElement } = useSelector(state => state.mainNavigation);\n  const dispatch = useDispatch();\n  const [state, setState] = useState({\n    exclusions: [],\n    loading: false,\n    total: 0\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/backup/'));\n    dispatch(removeFocusedElement());\n    dispatch(removeControlPanelContentFocusedElement());\n    fetchData();\n\n    return () => {\n      dispatch(removeControlPanelContentFocusedElement());\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleContentSelection);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleContentSelection);\n    };\n  }, [controlPanelFocusedElement, focusedElement, state.exclusions]);\n\n  const handleContentSelection = event => {\n    if (event.keyCode === 38 || event.keyCode === 40) {\n      if (focusedElement) {\n        dispatch(MainNavigation.removeFocusedElement());\n      }\n    }\n\n    if (event.keyCode === 38) {\n      event.preventDefault();\n      handleArrowUp();\n    } else if (event.keyCode === 40) {\n      event.preventDefault();\n      handleArrowDown();\n    }\n  }\n\n  const initFocusedElement = exclusions => {\n    exclusions[0]['FOCUSED'] = exclusions[0]['NAME'];\n    setState({ ...state, exclusions });\n    dispatch(addControlPanelContentFocusedElement(exclusions[0]['NAME']));\n  }\n\n  const handleArrowDown = () => {\n    let exclusions = [...state.exclusions];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(exclusions);\n      return;\n    }\n\n    let focusedElementPosition = exclusions.findIndex(exclusion => exclusion.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== exclusions.length - 1) {\n      let nextFocusedElement = exclusions[focusedElementPosition + 1];\n      exclusions[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, exclusions });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleArrowUp = () => {\n    let exclusions = [...state.exclusions];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(exclusions);\n      return;\n    }\n\n    let focusedElementPosition = exclusions.findIndex(exclusion => exclusion.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== 0) {\n      let nextFocusedElement = exclusions[focusedElementPosition - 1];\n      exclusions[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, exclusions });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const fetchData = () => {\n    setState({ ...state, loading: true });\n\n    getBackupExclusions()\n      .then(result => {\n        setState({\n          exclusions: reformatData(result.data.data),\n          loading: false\n        });\n      })\n      .catch(err => console.error(err));\n  }\n\n  const reformatData = data => {\n    let exclusions = [];\n\n    for (let i in data) {\n      exclusions.push({ NAME: i, ITEMS: data[i] });\n    }\n\n    return exclusions;\n  }\n\n  const exclusions = () => {\n    return state.exclusions.map((item, index) => <Exclusion data={item} key={index} focused={controlPanelFocusedElement === item.NAME} />);\n  }\n\n  return (\n    <div className=\"exclusions-list\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.BACKUP}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <LeftButton href=\"/edit/backup/exclusions\" list=\"server\" name={i18n.configure} showLeftMenu={true} />\n        <div className=\"r-menu\">\n          <div className=\"input-group input-group-sm\">\n            <SearchInput handleSearchTerm={term => props.changeSearchTerm(term)} />\n          </div>\n        </div>\n      </Toolbar>\n      <div className=\"exclusions-wrapper\">\n        {state.loading ? <Spinner /> : exclusions()}\n      </div>\n    </div>\n  );\n}\n\nexport default BackupExclusions;\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Container from '../ControlPanel/Container/Container';\nimport ListItem from '../ControlPanel/ListItem/ListItem';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nexport default function MailAccount(props) {\n  const { data, domain } = props;\n  const { i18n } = useSelector(state => state.session);\n  const token = localStorage.getItem(\"token\");\n  const printStat = (stat, text) => {\n    if (text === 'no') {\n      return <div className=\"crossed\">{stat}</div>;\n    }\n\n    return <div>{stat}: <span className=\"stat\">{text}</span></div>;\n  }\n\n  const toggleFav = (starred) => {\n    if (starred) {\n      props.toggleFav(props.data.NAME, 'add');\n    } else {\n      props.toggleFav(props.data.NAME, 'delete');\n    }\n  }\n\n  const checkItem = () => {\n    props.checkItem(props.data.NAME);\n  }\n\n  const handleSuspend = () => {\n    let suspendedStatus = data.SUSPENDED === 'yes' ? 'unsuspend' : 'suspend' === 'yes' ? 'unsuspend' : 'suspend';\n    props.handleModal(data.suspend_conf, `/api/v1/${suspendedStatus}/mail/index.php?domain=${domain}&account=${data.NAME}`);\n  }\n\n  const handleDelete = () => {\n    props.handleModal(data.delete_conf, `/api/v1/delete/mail/index.php?domain=${domain}&account=${data.NAME}`);\n  }\n\n  return (\n    <ListItem\n      id={data.NAME}\n      focused={data.FOCUSED}\n      checked={data.isChecked}\n      date={data.DATE}\n      starred={data.STARRED}\n      toggleFav={toggleFav}\n      checkItem={checkItem}\n      suspended={data.SUSPENDED === 'yes'}>\n\n      <Container className=\"r-col w-85\">\n        <div className=\"name\">{`${data.NAME}@${domain}`}</div>\n        <div className=\"stats\">\n          <Container className=\"c-1\">\n            <div className=\"bandwidth\">\n              {i18n.Disk}\n              <span><span className=\"stat\">{data.U_DISK}</span>&nbsp;{i18n.mb}</span>\n              <div className=\"percent\" style={{ width: `${data.U_DISK_PERCENT}%` || '0%' }}></div>\n            </div>\n          </Container>\n          <Container className=\"c-2\">\n            <div>{i18n['Quota']}: <span><span className=\"stat\">{data.QUOTA}</span>&nbsp; {i18n.mb}</span></div>\n            <div>{i18n['Forward to']}: <span className=\"stat email\">{data.FWD}</span></div>\n          </Container>\n          <Container className=\"c-3\">\n            {printStat(i18n['Autoreply'], data.AUTOREPLY)}\n          </Container>\n        </div>\n      </Container>\n      <div className=\"actions\">\n\n        <div>\n          <Link className=\"link-edit\" to={`/edit/mail/?domain=${domain}&account=${data.NAME}`}>\n            {i18n.edit}\n            {data.FOCUSED ? <span className=\"shortcut-button html-unicode\">&#8617;</span> : <FontAwesomeIcon icon=\"pen\" />}\n          </Link>\n        </div>\n\n        <div>\n          <button\n            className=\"link-gray\"\n            onClick={() => handleSuspend()}>\n            {i18n[data.suspend_action]}\n            {data.FOCUSED ? <span className=\"shortcut-button\">S</span> : <FontAwesomeIcon icon={data.SUSPENDED === 'yes' ? 'unlock' : 'lock'} />}\n          </button>\n        </div>\n\n        <div>\n          <button className=\"link-delete\" onClick={() => handleDelete()}>\n            {i18n.Delete}\n            {data.FOCUSED ? <span className=\"shortcut-button del\">Del</span> : <FontAwesomeIcon icon=\"times\" />}\n          </button>\n        </div>\n      </div>\n    </ListItem>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { addControlPanelContentFocusedElement, removeControlPanelContentFocusedElement } from '../../actions/ControlPanelContent/controlPanelContentActions';\nimport { bulkMailAccountAction, getMailAccountList, handleAction } from '../../ControlPanelService/Mail';\nimport DropdownFilter from '../../components/MainNav/Toolbar/DropdownFilter/DropdownFilter';\nimport * as MainNavigation from '../../actions/MainNavigation/mainNavigationActions';\nimport SearchInput from '../../components/MainNav/Toolbar/SearchInput/SearchInput';\nimport { addFavorite, deleteFavorite } from '../../ControlPanelService/Favorites';\nimport LeftButton from '../../components/MainNav/Toolbar/LeftButton/LeftButton';\nimport Checkbox from '../../components/MainNav/Toolbar/Checkbox/Checkbox';\nimport Select from '../../components/MainNav/Toolbar/Select/Select';\nimport MailAccount from 'src/components/MailAccount/MailAccount';\nimport Toolbar from '../../components/MainNav/Toolbar/Toolbar';\nimport Modal from '../../components/ControlPanel/Modal/Modal';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Spinner from '../../components/Spinner/Spinner';\nimport { Link } from 'react-router-dom';\n\nimport './MailAccounts.scss';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\n\nexport default function MailAccounts(props) {\n  const { i18n } = useSelector(state => state.session);\n  const { controlPanelFocusedElement } = useSelector(state => state.controlPanelContent);\n  const { focusedElement } = useSelector(state => state.mainNavigation);\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const [modal, setModal] = useState({\n    text: '',\n    visible: false,\n    actionUrl: '',\n  });\n  const [state, setState] = useState({\n    mailAccounts: [],\n    mailAccountsFav: [],\n    domain: props.domain,\n    toggledAll: false,\n    sorting: i18n.Date,\n    order: \"descending\",\n    selection: [],\n    totalAmount: ''\n  });\n\n  useEffect(() => {\n    dispatch(removeControlPanelContentFocusedElement());\n    fetchData().then(() => setLoading(false));\n\n    return () => {\n      dispatch(removeControlPanelContentFocusedElement());\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleContentSelection);\n    window.addEventListener(\"keydown\", handleFocusedElementShortcuts);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleContentSelection);\n      window.removeEventListener(\"keydown\", handleFocusedElementShortcuts);\n    };\n  }, [controlPanelFocusedElement, focusedElement, state.mailAccounts]);\n\n  const handleContentSelection = event => {\n    if (event.keyCode === 38 || event.keyCode === 40) {\n      if (focusedElement) {\n        dispatch(MainNavigation.removeFocusedElement());\n      }\n    }\n\n    if (event.keyCode === 38) {\n      event.preventDefault();\n      handleArrowUp();\n    } else if (event.keyCode === 40) {\n      event.preventDefault();\n      handleArrowDown();\n    }\n  }\n\n  const initFocusedElement = mailAccounts => {\n    mailAccounts[0]['FOCUSED'] = mailAccounts[0]['NAME'];\n    setState({ ...state, mailAccounts });\n    dispatch(addControlPanelContentFocusedElement(mailAccounts[0]['NAME']));\n  }\n\n  const handleArrowDown = () => {\n    let mailAccounts = [...state.mailAccounts];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(mailAccounts);\n      return;\n    }\n\n    let focusedElementPosition = mailAccounts.findIndex(mailAccount => mailAccount.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== mailAccounts.length - 1) {\n      let nextFocusedElement = mailAccounts[focusedElementPosition + 1];\n      mailAccounts[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, mailAccounts });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleArrowUp = () => {\n    let mailAccounts = [...state.mailAccounts];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(mailAccounts);\n      return;\n    }\n\n    let focusedElementPosition = mailAccounts.findIndex(mailAccount => mailAccount.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== 0) {\n      let nextFocusedElement = mailAccounts[focusedElementPosition - 1];\n      mailAccounts[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, mailAccounts });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleFocusedElementShortcuts = event => {\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus');\n\n    if (controlPanelFocusedElement && !isSearchInputFocused) {\n      switch (event.keyCode) {\n        case 8: return handleDelete();\n        case 13: return handleEdit();\n        case 83: return handleSuspend();\n        default: break;\n      }\n    }\n  }\n\n  const handleEdit = () => {\n    props.history.push(`/edit/mail?domain=${props.domain}&account=${controlPanelFocusedElement}`);\n  }\n\n  const handleSuspend = () => {\n    const { mailAccounts } = state;\n    let currentMailData = mailAccounts.filter(mail => mail.NAME === controlPanelFocusedElement)[0];\n    let suspendedStatus = currentMailData.SUSPENDED === 'yes' ? 'unsuspend' : 'suspend';\n\n    displayModal(currentMailData.suspend_conf, `/api/v1/${suspendedStatus}/mail/index.php?domain=${props.domain}&account=${controlPanelFocusedElement}`);\n  }\n\n  const handleDelete = () => {\n    const { mailAccounts } = state;\n    let currentMailData = mailAccounts.filter(mail => mail.NAME === controlPanelFocusedElement)[0];\n\n    displayModal(currentMailData.delete_conf, `/api/v1/delete/mail/index.php?domain=${props.domain}&account=${controlPanelFocusedElement}`);\n  }\n\n  const fetchData = () => {\n    setLoading(true);\n    return new Promise((resolve, reject) => {\n      getMailAccountList(props.domain)\n        .then(result => {\n          setState({\n            ...state,\n            mailAccounts: reformatData(result.data.data),\n            webMail: result.data.webmail,\n            selection: [],\n            toggledAll: false,\n            mailAccountsFav: result.data.mailAccountsFav,\n            totalAmount: result.data.totalAmount\n          });\n          resolve();\n        })\n        .catch(err => console.error(err));\n    });\n  }\n\n  const reformatData = data => {\n    let mailAccounts = [];\n\n    for (let i in data) {\n      data[i]['NAME'] = i;\n      data[i]['FOCUSED'] = controlPanelFocusedElement === i;\n      mailAccounts.push(data[i]);\n    }\n\n    return mailAccounts;\n  }\n\n  const changeSorting = (sorting, order) => {\n    setState({\n      ...state,\n      sorting,\n      order\n    });\n  }\n\n  const mailAccounts = () => {\n    const { mailAccounts } = state;\n    const mailAccountsFav = { ...state.mailAccountsFav };\n    const result = [];\n\n    mailAccounts.forEach(mailAccount => {\n      mailAccount.FOCUSED = controlPanelFocusedElement === mailAccount.NAME;\n\n      if (mailAccountsFav[mailAccount.NAME]) {\n        mailAccount.STARRED = mailAccountsFav[mailAccount.NAME];\n      } else {\n        mailAccount.STARRED = 0;\n      }\n\n      result.push(mailAccount);\n    });\n    let sortedResult = sortArray(result);\n\n    return sortedResult.map((item, index) => {\n      return <MailAccount data={item} key={index} domain={state.domain} toggleFav={toggleFav} checkItem={checkItem} handleModal={displayModal} />;\n    });\n  }\n\n  const checkItem = name => {\n    const { selection, mailAccounts } = state;\n    let duplicate = [...selection];\n    let mailAccountsDuplicate = mailAccounts;\n    let checkedItem = duplicate.indexOf(name);\n\n    let incomingItem = mailAccountsDuplicate.findIndex(mailAccount => mailAccount.NAME === name);\n    mailAccountsDuplicate[incomingItem].isChecked = !mailAccountsDuplicate[incomingItem].isChecked;\n\n    if (checkedItem !== -1) {\n      duplicate.splice(checkedItem, 1);\n    } else {\n      duplicate.push(name);\n    }\n\n    setState({ ...state, mailAccounts: mailAccountsDuplicate, selection: duplicate });\n  }\n\n  const sortArray = array => {\n    const { order, sorting } = state;\n    let sortingColumn = sortBy(sorting);\n\n    if (order === \"descending\") {\n      return array.sort((a, b) => (a[sortingColumn] < b[sortingColumn]) ? 1 : ((b[sortingColumn] < a[sortingColumn]) ? -1 : 0));\n    } else {\n      return array.sort((a, b) => (a[sortingColumn] > b[sortingColumn]) ? 1 : ((b[sortingColumn] > a[sortingColumn]) ? -1 : 0));\n    }\n  }\n\n  const sortBy = sorting => {\n    const { Date: date, Accounts, Disk, Starred } = i18n;\n\n    switch (sorting) {\n      case date: return 'DATE';\n      case Accounts: return 'ACCOUNTS';\n      case Disk: return 'U_DISK';\n      case Starred: return 'STARRED';\n      default: break;\n    }\n  }\n\n  const toggleFav = (value, type) => {\n    const { mailAccountsFav } = state;\n    let mailAccountsFavDuplicate = mailAccountsFav;\n\n    if (type === 'add') {\n      mailAccountsFavDuplicate[value] = 1;\n\n      addFavorite(value, 'mail_acc')\n        .then(() => {\n          setState({ ...state, mailAccountsFav: mailAccountsFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    } else {\n      mailAccountsFavDuplicate[value] = undefined;\n\n      deleteFavorite(value, 'mail_acc')\n        .then(() => {\n          setState({ ...state, mailAccountsFav: mailAccountsFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    }\n  }\n\n  const toggleAll = toggled => {\n    const mailAccountsDuplicate = [...state.mailAccounts];\n\n    if (toggled) {\n      let mailAccountNames = [];\n\n      let mailAccounts = mailAccountsDuplicate.map(mailAccount => {\n        mailAccountNames.push(mailAccount.NAME);\n        mailAccount.isChecked = true;\n        return mailAccount;\n      });\n\n      setState({ ...state, mailAccounts, selection: mailAccountNames, toggledAll: toggled });\n    } else {\n      let mailAccounts = mailAccountsDuplicate.map(mailAccount => {\n        mailAccount.isChecked = false;\n        return mailAccount;\n      });\n\n      setState({ ...state, mailAccounts, selection: [], toggledAll: toggled });\n    }\n  }\n\n  const bulk = action => {\n    const { selection } = state;\n    if (selection.length && action) {\n      setLoading(true);\n      bulkMailAccountAction(action, props.domain, selection)\n        .then(result => {\n          if (result.status === 200) {\n            toggleAll(false);\n            fetchData().then(() => refreshMenuCounters());\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const displayModal = (text, url) => {\n    setModal({\n      ...modal,\n      visible: true,\n      text: text,\n      actionUrl: url\n    });\n  }\n\n  const modalConfirmHandler = () => {\n    if (!modal.actionUrl) {\n      return modalCancelHandler();\n    }\n\n    modalCancelHandler();\n    setLoading(true);\n    handleAction(modal.actionUrl)\n      .then(res => {\n        if (res.data.error) {\n          setLoading(false);\n          return displayModal(res.data.error, '');\n        }\n        fetchData().then(() => refreshMenuCounters())\n      })\n      .catch(err => { setLoading(false); console.error(err); });\n  }\n\n  const refreshMenuCounters = () => {\n    dispatch(refreshCounters()).then(() => setLoading(false));\n  }\n\n  const modalCancelHandler = () => {\n    setModal({\n      ...modal,\n      visible: false,\n      text: '',\n      actionUrl: ''\n    });\n  }\n\n  return (\n    <div className=\"mail-accounts\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.MAIL}`}</title>\n      </Helmet>\n      <Toolbar mobile={false} >\n        <LeftButton name={i18n['Add Mail Account']} href={`/add/mail/?domain=${props.domain}`} showLeftMenu={true} />\n        <div className=\"r-menu\">\n          <div className=\"input-group input-group-sm\">\n            {state.webMail && <a href={state.webMail} className=\"button-extra\" type=\"submit\">{i18n['open webmail']}</a>}\n            <Checkbox toggleAll={toggleAll} toggled={state.toggledAll} />\n            <Select list='mailList' bulkAction={bulk} />\n            <DropdownFilter changeSorting={changeSorting} sorting={state.sorting} order={state.order} list=\"mailAccountList\" />\n            <SearchInput handleSearchTerm={term => props.changeSearchTerm(term)} />\n          </div>\n        </div>\n      </Toolbar>\n      {loading\n        ? <Spinner />\n        : (\n          <>\n            <div className=\"mail-accounts-wrapper\">\n              <div className=\"subtitle\">\n                <span>{`${i18n['Listing']}  ${state.domain}`}</span>\n              </div>\n              {mailAccounts()}\n            </div>\n            <div className=\"footer-actions-wrapper\">\n              <div className=\"total\">{state.totalAmount}</div>\n              <div className=\"back\">\n                <Link to=\"/list/mail/\">{i18n['Back']}</Link>\n              </div>\n            </div>\n          </>\n        )\n      }\n      <Modal\n        onSave={modalConfirmHandler}\n        onCancel={modalCancelHandler}\n        show={modal.visible}\n        text={modal.text} />\n    </div>\n  );\n}","import React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Container from '../ControlPanel/Container/Container';\nimport ListItem from '../ControlPanel/ListItem/ListItem';\nimport { Link } from 'react-router-dom';\nimport './Mail.scss';\nimport { useSelector } from 'react-redux';\n\nconst Mail = props => {\n  const { data } = props;\n  const { i18n } = useSelector(state => state.session);\n  const token = localStorage.getItem(\"token\");\n  const printStat = (stat, text) => {\n    if (text === 'no') {\n      return <div className=\"crossed\">{stat}</div>;\n    }\n\n    return <div>{stat}: <span className=\"stat\">{text}</span></div>;\n  }\n\n  const toggleFav = (starred) => {\n    if (starred) {\n      props.toggleFav(props.data.NAME, 'add');\n    } else {\n      props.toggleFav(props.data.NAME, 'delete');\n    }\n  }\n\n  const checkItem = () => {\n    props.checkItem(props.data.NAME);\n  }\n\n  const handleSuspend = () => {\n    let suspendedStatus = data.SUSPENDED === 'yes' ? 'unsuspend' : 'suspend' === 'yes' ? 'unsuspend' : 'suspend';\n    props.handleModal(data.suspend_conf, `/api/v1/${suspendedStatus}/mail/index.php?domain=${data.NAME}`);\n  }\n\n  const handleDelete = () => {\n    props.handleModal(data.delete_conf, `/api/v1/delete/mail/index.php?domain=${data.NAME}`);\n  }\n\n  return (\n    <ListItem\n      id={data.NAME}\n      focused={data.FOCUSED}\n      checked={data.isChecked}\n      date={data.DATE}\n      starred={data.STARRED}\n      toggleFav={toggleFav}\n      checkItem={checkItem}\n      suspended={data.SUSPENDED === 'yes'}>\n\n      <Container className=\"r-col w-85\">\n        <div className=\"name\">{data.NAME}</div>\n        <div className=\"stats\">\n          <Container className=\"c-1\">\n            <div className=\"bandwidth\">\n              {i18n.Disk}\n              <span><span className=\"stat\">{data.U_DISK}</span>{i18n.mb}</span>\n              <div className=\"percent\" style={{ width: `${data.U_DISK_PERCENT}%` || '0%' }}></div>\n            </div>\n          </Container>\n          <Container className=\"c-2\">\n            {printStat(i18n['AntiVirus Support'], data.ANTIVIRUS)}\n            {printStat(i18n['DKIM Support'], data.DKIM)}\n          </Container>\n          <Container className=\"c-3\">\n            {printStat(i18n['AntiSpam Support'], data.ANTISPAM)}\n            <div>{i18n['Catchall email']}: <span className=\"stat catchall-mail\">{data.CATCHALL}</span></div>\n          </Container>\n        </div>\n      </Container>\n      <div className=\"actions\">\n        <div>\n          <Link className=\"link-gray\" to={`/list/mail/?domain=${data.NAME}`}>\n            {data.list_accounts_button}\n            {data.FOCUSED ? <span className=\"shortcut-button\">L</span> : <FontAwesomeIcon icon=\"list\" />}\n          </Link>\n        </div>\n\n        <div>\n          <Link className=\"link-edit\" to={`/add/mail/?domain=${data.NAME}`}>\n            {i18n['add account']}\n            {data.FOCUSED ? <span className=\"shortcut-button\">N</span> : <FontAwesomeIcon icon=\"plus\" />}\n          </Link>\n        </div>\n\n        <div>\n          <Link className=\"link-edit\" to={`/edit/mail/?domain=${data.NAME}`}>\n            {i18n.edit}\n            {data.FOCUSED ? <span className=\"shortcut-button html-unicode\">&#8617;</span> : <FontAwesomeIcon icon=\"pen\" />}\n          </Link>\n        </div>\n\n        <div>\n          <button\n            className=\"link-gray\"\n            onClick={() => handleSuspend()}>\n            {i18n[data.suspend_action]}\n            {data.FOCUSED ? <span className=\"shortcut-button\">S</span> : <FontAwesomeIcon icon={data.SUSPENDED === 'yes' ? 'unlock' : 'lock'} />}\n          </button>\n        </div>\n\n        <div>\n          <button className=\"link-delete\" onClick={() => handleDelete()}>\n            {i18n.Delete}\n            {data.FOCUSED ? <span className=\"shortcut-button del\">Del</span> : <FontAwesomeIcon icon=\"times\" />}\n          </button>\n        </div>\n      </div>\n    </ListItem>\n  );\n}\n\nexport default Mail;","import React, { useState, useEffect } from 'react';\nimport { addControlPanelContentFocusedElement, removeControlPanelContentFocusedElement } from '../../actions/ControlPanelContent/controlPanelContentActions';\nimport { addActiveElement, removeFocusedElement } from '../../actions/MainNavigation/mainNavigationActions';\nimport DropdownFilter from '../../components/MainNav/Toolbar/DropdownFilter/DropdownFilter';\nimport { bulkAction, getMailList, handleAction } from '../../ControlPanelService/Mail';\nimport * as MainNavigation from '../../actions/MainNavigation/mainNavigationActions';\nimport SearchInput from '../../components/MainNav/Toolbar/SearchInput/SearchInput';\nimport { addFavorite, deleteFavorite } from '../../ControlPanelService/Favorites';\nimport LeftButton from '../../components/MainNav/Toolbar/LeftButton/LeftButton';\nimport Checkbox from '../../components/MainNav/Toolbar/Checkbox/Checkbox';\nimport Select from '../../components/MainNav/Toolbar/Select/Select';\nimport Toolbar from '../../components/MainNav/Toolbar/Toolbar';\nimport Modal from '../../components/ControlPanel/Modal/Modal';\nimport Spinner from '../../components/Spinner/Spinner';\nimport Mail from '../../components/Mail/Mail';\nimport './Mails.scss';\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport { Link } from 'react-router-dom';\n\nconst Mails = props => {\n  const { i18n } = useSelector(state => state.session);\n  const { controlPanelFocusedElement } = useSelector(state => state.controlPanelContent);\n  const { focusedElement } = useSelector(state => state.mainNavigation);\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const [modal, setModal] = useState({\n    text: '',\n    visible: false,\n    actionUrl: '',\n  });\n  const [state, setState] = useState({\n    mails: [],\n    mailFav: [],\n    toggledAll: false,\n    webmail: '',\n    sorting: i18n.Date,\n    order: \"descending\",\n    selection: [],\n    totalAmount: ''\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/mail/'));\n    dispatch(removeFocusedElement());\n    dispatch(removeControlPanelContentFocusedElement());\n    fetchData().then(() => setLoading(false));\n\n    return () => {\n      dispatch(removeControlPanelContentFocusedElement());\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleContentSelection);\n    window.addEventListener(\"keydown\", handleFocusedElementShortcuts);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleContentSelection);\n      window.removeEventListener(\"keydown\", handleFocusedElementShortcuts);\n    };\n  }, [controlPanelFocusedElement, focusedElement, state.mails]);\n\n  const handleContentSelection = event => {\n    if (event.keyCode === 38 || event.keyCode === 40) {\n      if (focusedElement) {\n        dispatch(MainNavigation.removeFocusedElement());\n      }\n    }\n\n    if (event.keyCode === 38) {\n      event.preventDefault();\n      handleArrowUp();\n    } else if (event.keyCode === 40) {\n      event.preventDefault();\n      handleArrowDown();\n    }\n  }\n\n  const initFocusedElement = mails => {\n    mails[0]['FOCUSED'] = mails[0]['NAME'];\n    setState({ ...state, mails });\n    dispatch(addControlPanelContentFocusedElement(mails[0]['NAME']));\n  }\n\n  const handleArrowDown = () => {\n    let mails = [...state.mails];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(mails);\n      return;\n    }\n\n    let focusedElementPosition = mails.findIndex(mail => mail.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== mails.length - 1) {\n      let nextFocusedElement = mails[focusedElementPosition + 1];\n      mails[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, mails });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleArrowUp = () => {\n    let mails = [...state.mails];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(mails);\n      return;\n    }\n\n    let focusedElementPosition = mails.findIndex(mail => mail.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== 0) {\n      let nextFocusedElement = mails[focusedElementPosition - 1];\n      mails[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, mails });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleFocusedElementShortcuts = event => {\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus');\n\n    if (controlPanelFocusedElement && !isSearchInputFocused) {\n      switch (event.keyCode) {\n        case 8: return handleDelete();\n        case 13: return handleEdit();\n        case 76: return handleLogs();\n        case 78: return handleAddRecord();\n        case 83: return handleSuspend();\n        default: break;\n      }\n    }\n  }\n\n  const handleAddRecord = () => {\n    props.history.push(`/add/mail/?domain=${controlPanelFocusedElement}`);\n  }\n\n  const handleLogs = () => {\n    props.history.push(`/list/mail?domain=${controlPanelFocusedElement}&type=access`);\n  }\n\n  const handleEdit = () => {\n    props.history.push(`/edit/mail?domain=${controlPanelFocusedElement}`);\n  }\n\n  const handleSuspend = () => {\n    const { mails } = state;\n    let currentMailData = mails.filter(mail => mail.NAME === controlPanelFocusedElement)[0];\n    let suspendedStatus = currentMailData.SUSPENDED === 'yes' ? 'unsuspend' : 'suspend';\n\n    displayModal(currentMailData.suspend_conf, `/api/v1/${suspendedStatus}/mail/index.php?domain=${controlPanelFocusedElement}`);\n  }\n\n  const handleDelete = () => {\n    const { mails } = state;\n    let currentMailData = mails.filter(mail => mail.NAME === controlPanelFocusedElement)[0];\n\n    displayModal(currentMailData.delete_conf, `/api/v1/delete/mail/index.php?domain=${controlPanelFocusedElement}`);\n  }\n\n  const fetchData = () => {\n    setLoading(true);\n    return new Promise((resolve, reject) => {\n      getMailList()\n        .then(result => {\n          setState({\n            ...state,\n            mails: reformatData(result.data.data),\n            webmail: result.data.webmail,\n            mailFav: result.data.mailFav,\n            selection: [],\n            toggledAll: false,\n            totalAmount: result.data.totalAmount\n          });\n          resolve();\n        })\n        .catch(err => console.error(err));\n    });\n  }\n\n  const reformatData = data => {\n    let mails = [];\n\n    for (let i in data) {\n      data[i]['NAME'] = i;\n      data[i]['FOCUSED'] = controlPanelFocusedElement === i;\n      mails.push(data[i]);\n    }\n\n    return mails;\n  }\n\n  const changeSorting = (sorting, order) => {\n    setState({\n      ...state,\n      sorting,\n      order\n    });\n  }\n\n  const mails = () => {\n    const { mails } = state;\n    const mailFav = { ...state.mailFav };\n    const result = [];\n\n    mails.forEach(mail => {\n      mail.FOCUSED = controlPanelFocusedElement === mail.NAME;\n\n      if (mailFav[mail.NAME]) {\n        mail.STARRED = mailFav[mail.NAME];\n      } else {\n        mail.STARRED = 0;\n      }\n\n      result.push(mail);\n    });\n    let sortedResult = sortArray(result);\n\n    return sortedResult.map((item, index) => {\n      return <Mail data={item} key={index} toggleFav={toggleFav} checkItem={checkItem} handleModal={displayModal} />;\n    });\n  }\n\n  const checkItem = name => {\n    const { selection, mails } = state;\n    let duplicate = [...selection];\n    let mailsDuplicate = mails;\n    let checkedItem = duplicate.indexOf(name);\n\n    let incomingItem = mailsDuplicate.findIndex(mail => mail.NAME === name);\n    mailsDuplicate[incomingItem].isChecked = !mailsDuplicate[incomingItem].isChecked;\n\n    if (checkedItem !== -1) {\n      duplicate.splice(checkedItem, 1);\n    } else {\n      duplicate.push(name);\n    }\n\n    setState({ ...state, mails: mailsDuplicate, selection: duplicate });\n  }\n\n  const sortArray = array => {\n    const { order, sorting } = state;\n    let sortingColumn = sortBy(sorting);\n\n    if (order === \"descending\") {\n      return array.sort((a, b) => (a[sortingColumn] < b[sortingColumn]) ? 1 : ((b[sortingColumn] < a[sortingColumn]) ? -1 : 0));\n    } else {\n      return array.sort((a, b) => (a[sortingColumn] > b[sortingColumn]) ? 1 : ((b[sortingColumn] > a[sortingColumn]) ? -1 : 0));\n    }\n  }\n\n  const sortBy = sorting => {\n    const { Date, Domains, Accounts, Disk, Starred } = i18n;\n\n    switch (sorting) {\n      case Date: return 'DATE';\n      case Domains: return 'domain_account';\n      case Accounts: return 'ACCOUNTS';\n      case Disk: return 'U_DISK';\n      case Starred: return 'STARRED';\n      default: break;\n    }\n  }\n\n  const toggleFav = (value, type) => {\n    const { mailFav } = state;\n    let mailFavDuplicate = mailFav;\n\n    if (type === 'add') {\n      mailFavDuplicate[value] = 1;\n\n      addFavorite(value, 'mail')\n        .then(() => {\n          setState({ ...state, mailFav: mailFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    } else {\n      mailFavDuplicate[value] = undefined;\n\n      deleteFavorite(value, 'mail')\n        .then(() => {\n          setState({ ...state, mailFav: mailFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    }\n  }\n\n  const toggleAll = toggled => {\n    const mailsDuplicate = [...state.mails];\n\n    if (toggled) {\n      let mailNames = [];\n\n      let mails = mailsDuplicate.map(mail => {\n        mailNames.push(mail.NAME);\n        mail.isChecked = true;\n        return mail;\n      });\n\n      setState({ ...state, mails, selection: mailNames, toggledAll: toggled });\n    } else {\n      let mails = mailsDuplicate.map(mail => {\n        mail.isChecked = false;\n        return mail;\n      });\n\n      setState({ ...state, mails, selection: [], toggledAll: toggled });\n    }\n  }\n\n  const bulk = action => {\n    const { selection } = state;\n\n    if (selection.length && action) {\n      setLoading(true);\n      bulkAction(action, selection)\n        .then(result => {\n          if (result.status === 200) {\n            toggleAll(false);\n            fetchData().then(() => refreshMenuCounters());\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const displayModal = (text, url) => {\n    setModal({\n      ...modal,\n      visible: true,\n      text: text,\n      actionUrl: url\n    });\n  }\n\n  const modalConfirmHandler = () => {\n    if (!modal.actionUrl) {\n      return modalCancelHandler();\n    }\n\n    modalCancelHandler();\n    setLoading(true);\n    handleAction(modal.actionUrl)\n      .then(res => {\n        if (res.data.error) {\n          setLoading(false);\n          return displayModal(res.data.error, '');\n        }\n        fetchData().then(() => refreshMenuCounters())\n      })\n      .catch(err => { setLoading(false); console.error(err); });\n  }\n\n  const refreshMenuCounters = () => {\n    dispatch(refreshCounters()).then(() => setLoading(false));\n  }\n\n  const modalCancelHandler = () => {\n    setModal({\n      ...modal,\n      visible: false,\n      text: '',\n      actionUrl: ''\n    });\n  }\n\n  return (\n    <div className=\"mails\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.MAIL}`}</title>\n      </Helmet>\n      <Toolbar mobile={false} >\n        <LeftButton name=\"Add Mail Domain\" href=\"/add/mail\" showLeftMenu={true} />\n        <div className=\"r-menu\">\n          <div className=\"input-group input-group-sm\">\n            {state.webmail && <Link\n              to={{ pathname: `http://${window.location.hostname}${state.webmail}` }}\n              target=\"_blank\"\n              className=\"button-extra\"\n              type=\"submit\">\n              {i18n['open webmail']}\n            </Link>}\n            <Checkbox toggleAll={toggleAll} toggled={state.toggledAll} />\n            <Select list='mailList' bulkAction={bulk} />\n            <DropdownFilter changeSorting={changeSorting} sorting={state.sorting} order={state.order} list=\"mailList\" />\n            <SearchInput handleSearchTerm={term => props.changeSearchTerm(term)} />\n          </div>\n        </div>\n      </Toolbar>\n      <div className=\"mails-wrapper\">\n        {loading\n          ? <Spinner />\n          : (<>\n            {mails()}\n            <div className=\"total\">{state.totalAmount}</div>\n          </>)}\n      </div>\n      <Modal\n        onSave={modalConfirmHandler}\n        onCancel={modalCancelHandler}\n        show={modal.visible}\n        text={modal.text} />\n    </div>\n  );\n}\n\nexport default Mails;\n","import React, { useEffect, useState } from 'react';\nimport MailAccounts from '../MailAccounts/MailAccounts';\nimport { useHistory } from 'react-router-dom';\nimport Mails from '../Mails/Mails';\nimport QueryString from 'qs';\nimport { Helmet } from 'react-helmet';\nimport { useSelector } from 'react-redux';\n\nexport default function MailWrapper(props) {\n  const { i18n } = useSelector(state => state.session);\n  const [mailDomain, setMailDomain] = useState('');\n  const history = useHistory();\n\n  useEffect(() => {\n    const parsedQueryString = QueryString.parse(history.location.search, { ignoreQueryPrefix: true });\n\n    if (parsedQueryString.domain) {\n      setMailDomain(parsedQueryString.domain);\n    } else {\n      setMailDomain('');\n    }\n  }, [history.location]);\n\n  return (\n    <>\n      <Helmet>\n        <title>{`Vesta - ${i18n.MAIL}`}</title>\n      </Helmet>\n      {\n        mailDomain\n          ? <MailAccounts {...props} domain={mailDomain} changeSearchTerm={props.changeSearchTerm} />\n          : <Mails {...props} changeSearchTerm={props.changeSearchTerm} />\n      }\n    </>\n  );\n}","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Container from '../ControlPanel/Container/Container';\nimport ListItem from '../ControlPanel/ListItem/ListItem';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nexport default function DnsRecord({ data, domain, handleModal, ...props }) {\n  const { i18n } = useSelector(state => state.session);\n\n  const toggleFav = (starred) => {\n    if (starred) {\n      props.toggleFav(data.NAME, 'add');\n    } else {\n      props.toggleFav(data.NAME, 'delete');\n    }\n  }\n\n  const checkItem = () => {\n    props.checkItem(data.NAME);\n  }\n\n  const handleDelete = () => {\n    handleModal(data.delete_conf, `/api/v1/delete/dns/?domain=${domain}&record_id=${data.ID}`);\n  }\n\n  const handleSuspend = () => {\n    handleModal(data.suspend_conf, `/api/v1/${data.suspend_action}/dns/?domain=${domain}&record_id=${data.ID}`);\n  }\n\n  return (\n    <ListItem\n      id={data.NAME}\n      date={data.DATE}\n      toggleFav={toggleFav}\n      checkItem={checkItem}\n      starred={data.STARRED}\n      focused={data.FOCUSED}\n      checked={data.isChecked}\n      suspended={data.SUSPENDED === 'yes'}>\n\n      <Container className=\"r-col w-85\">\n        <div className=\"name\">{data.dnsRecord}</div>\n        <br />\n        <div className=\"stats\">\n          <Container className=\"c-1\">\n            <span className=\"stat\">{`${data.RECORD.substring(0, 12)}${data.RECORD.length > 12 ? '...' : ''}`}</span>\n          </Container>\n          <Container className=\"c-2\">\n            <span className=\"stat\">{data.TYPE}</span>\n          </Container>\n          <Container className=\"c-3\">\n            <span className=\"stat\">{data.PRIORITY}</span>\n          </Container>\n          <Container className=\"c-4 long-value\">\n            <span className=\"stat\">{data.VALUE}</span>\n          </Container>\n        </div>\n      </Container>\n      <div className=\"actions\">\n        <div>\n          <Link className=\"link-edit\" to={`/edit/dns/?domain=${domain}&record_id=${data.ID}`}>\n            {i18n.edit}\n            {data.FOCUSED ? <span className=\"shortcut-button html-unicode\">&#8617;</span> : <FontAwesomeIcon icon=\"pen\" />}\n          </Link>\n        </div>\n\n        <div>\n          <button\n            className=\"link-gray\"\n            onClick={handleSuspend}>\n            {data.suspend_action}\n            {data.FOCUSED ? <span className=\"shortcut-button\">S</span> : <FontAwesomeIcon icon={data.SUSPENDED === 'yes' ? 'unlock' : 'lock'} />}\n          </button>\n        </div>\n\n        <div>\n          <button className=\"link-delete\" onClick={() => handleDelete()}>\n            {i18n.Delete}\n            {data.FOCUSED ? <span className=\"shortcut-button del\">Del</span> : <FontAwesomeIcon icon=\"times\" />}\n          </button>\n        </div>\n      </div>\n    </ListItem>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { addControlPanelContentFocusedElement, removeControlPanelContentFocusedElement } from '../../actions/ControlPanelContent/controlPanelContentActions';\nimport { bulkAction, getDNSRecordsList, handleAction } from '../../ControlPanelService/Dns';\nimport * as MainNavigation from '../../actions/MainNavigation/mainNavigationActions';\nimport SearchInput from '../../components/MainNav/Toolbar/SearchInput/SearchInput';\nimport { addFavorite, deleteFavorite } from '../../ControlPanelService/Favorites';\nimport LeftButton from '../../components/MainNav/Toolbar/LeftButton/LeftButton';\nimport Checkbox from '../../components/MainNav/Toolbar/Checkbox/Checkbox';\nimport Select from '../../components/MainNav/Toolbar/Select/Select';\nimport Toolbar from '../../components/MainNav/Toolbar/Toolbar';\nimport Modal from 'src/components/ControlPanel/Modal/Modal';\nimport DnsRecord from 'src/components/DNSRecord/DNSRecord';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Spinner from '../../components/Spinner/Spinner';\nimport { Link, useHistory } from 'react-router-dom';\nimport QueryString from 'qs';\n\nimport './DNSRecords.scss';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\n\nexport default function DnsRecords(props) {\n  const { i18n } = useSelector(state => state.session);\n  const { controlPanelFocusedElement } = useSelector(state => state.controlPanelContent);\n  const { focusedElement } = useSelector(state => state.mainNavigation);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const [modal, setModal] = useState({\n    text: '',\n    visible: false,\n    actionUrl: '',\n  });\n  const [state, setState] = useState({\n    dnsRecords: [],\n    dnsRecordFav: [],\n    domain: '',\n    toggledAll: false,\n    sorting: i18n.Date,\n    order: \"descending\",\n    selection: [],\n    totalAmount: ''\n  });\n\n  useEffect(() => {\n    dispatch(removeControlPanelContentFocusedElement());\n    fetchData().then(() => setLoading(false));\n\n    return () => {\n      dispatch(removeControlPanelContentFocusedElement());\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleContentSelection);\n    window.addEventListener(\"keydown\", handleFocusedElementShortcuts);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleContentSelection);\n      window.removeEventListener(\"keydown\", handleFocusedElementShortcuts);\n    };\n  }, [controlPanelFocusedElement, focusedElement, state.dnsRecords]);\n\n  const handleContentSelection = event => {\n    if (event.keyCode === 38 || event.keyCode === 40) {\n      if (focusedElement) {\n        dispatch(MainNavigation.removeFocusedElement());\n      }\n    }\n\n    if (event.keyCode === 38) {\n      event.preventDefault();\n      handleArrowUp();\n    } else if (event.keyCode === 40) {\n      event.preventDefault();\n      handleArrowDown();\n    }\n  }\n\n  const initFocusedElement = dnsRecords => {\n    dnsRecords[0]['FOCUSED'] = dnsRecords[0]['NAME'];\n    setState({ ...state, dnsRecords });\n    dispatch(addControlPanelContentFocusedElement(dnsRecords[0]['NAME']));\n  }\n\n  const handleArrowDown = () => {\n    let dnsRecords = [...state.dnsRecords];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(dnsRecords);\n      return;\n    }\n\n    let focusedElementPosition = dnsRecords.findIndex(dnsRecord => dnsRecord.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== dnsRecords.length - 1) {\n      let nextFocusedElement = dnsRecords[focusedElementPosition + 1];\n      dnsRecords[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, dnsRecords });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleArrowUp = () => {\n    let dnsRecords = [...state.dnsRecords];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(dnsRecords);\n      return;\n    }\n\n    let focusedElementPosition = dnsRecords.findIndex(dnsRecord => dnsRecord.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== 0) {\n      let nextFocusedElement = dnsRecords[focusedElementPosition - 1];\n      dnsRecords[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, dnsRecords });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleFocusedElementShortcuts = event => {\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus');\n\n    if (controlPanelFocusedElement && !isSearchInputFocused) {\n      if (event.keyCode === 13) {\n        return handleEdit();\n      } else if (event.keyCode === 8) {\n        return handleDelete();\n      }\n    }\n  }\n\n  const handleEdit = () => {\n    props.history.push(`/edit/dns/?domain=${controlPanelFocusedElement}`);\n  }\n\n  const handleDelete = () => {\n    const { databases } = state;\n    let currentDatabaseData = databases.filter(database => database.NAME === controlPanelFocusedElement)[0];\n\n    displayModal(currentDatabaseData.delete_conf, `/api/v1/delete/database/?domain=${controlPanelFocusedElement}`);\n  }\n\n  const fetchData = () => {\n    let parsedQueryString = QueryString.parse(history.location.search, { ignoreQueryPrefix: true });\n    setLoading(true);\n    return new Promise((resolve, reject) => {\n      getDNSRecordsList(parsedQueryString.domain || '')\n        .then(result => {\n          setState({\n            ...state,\n            dnsRecords: reformatData(result.data.data),\n            dnsRecordFav: result.data.dnsRecordsFav,\n            totalAmount: result.data.totalAmount,\n            domain: parsedQueryString.domain,\n            toggledAll: false,\n            selection: []\n          });\n          resolve();\n        })\n        .catch(err => console.error(err));\n    });\n  }\n\n  const reformatData = data => {\n    let dnsRecords = [];\n\n    for (let i in data) {\n      data[i]['NAME'] = i;\n      data[i]['FOCUSED'] = controlPanelFocusedElement === i;\n      dnsRecords.push(data[i]);\n    }\n\n    return dnsRecords;\n  }\n\n  const dnsRecords = () => {\n    const { dnsRecords } = state;\n    const result = [];\n    const dnsRecordFav = { ...state.dnsRecordFav };\n\n    dnsRecords.forEach(dnsRecord => {\n      dnsRecord.FOCUSED = controlPanelFocusedElement === dnsRecord.NAME;\n\n      if (dnsRecordFav[dnsRecord.NAME]) {\n        dnsRecord.STARRED = dnsRecordFav[dnsRecord.NAME];\n      } else {\n        dnsRecord.STARRED = 0;\n      }\n\n      result.push(dnsRecord);\n    });\n\n    return result.map((item, index) => {\n      return <DnsRecord data={item} key={index} domain={state.domain} toggleFav={toggleFav} checkItem={checkItem} handleModal={displayModal} />;\n    });\n  }\n\n  const checkItem = name => {\n    const { selection, dnsRecords } = state;\n    let duplicate = [...selection];\n    let dnsDuplicate = dnsRecords;\n    let checkedItem = duplicate.indexOf(name);\n\n    let incomingItem = dnsDuplicate.findIndex(dns => dns.NAME === name);\n    dnsDuplicate[incomingItem].isChecked = !dnsDuplicate[incomingItem].isChecked;\n\n    if (checkedItem !== -1) {\n      duplicate.splice(checkedItem, 1);\n    } else {\n      duplicate.push(name);\n    }\n\n    setState({ ...state, dnsRecords: dnsDuplicate, selection: duplicate });\n  }\n\n  const toggleFav = (value, type) => {\n    const { dnsRecordFav } = state;\n    let dnsRecFavDuplicate = dnsRecordFav;\n\n    if (type === 'add') {\n      dnsRecFavDuplicate[value] = 1;\n\n      addFavorite(value, 'dns_rec')\n        .then(() => {\n          setState({ ...state, dnsRecordFav: dnsRecFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    } else {\n      dnsRecFavDuplicate[value] = undefined;\n\n      deleteFavorite(value, 'dns_rec')\n        .then(() => {\n          setState({ ...state, dnsRecordFav: dnsRecFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    }\n  }\n\n  const toggleAll = toggled => {\n    const dnsRecordsDuplicate = [...state.dnsRecords];\n\n    if (toggled) {\n      let dnsRecordNames = []\n\n      let dnsRecords = dnsRecordsDuplicate.map(dnsRecord => {\n        dnsRecordNames.push(dnsRecord.NAME);\n        dnsRecord.isChecked = true;\n        return dnsRecord;\n      });\n\n      setState({ ...state, dnsRecords, selection: dnsRecordNames, toggledAll: toggled });\n    } else {\n      let dnsRecords = dnsRecordsDuplicate.map(dnsRecord => {\n        dnsRecord.isChecked = false;\n        return dnsRecord;\n      });\n\n      setState({ ...state, dnsRecords, selection: [], toggledAll: toggled });\n    }\n  }\n\n  const bulk = action => {\n    const { selection } = state;\n\n    if (selection.length && action) {\n      setLoading(true);\n      bulkAction(action, selection, state.domain)\n        .then(result => {\n          if (result.status === 200) {\n            toggleAll(false);\n            fetchData().then(() => refreshMenuCounters());\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const displayModal = (text, url) => {\n    setModal({\n      ...modal,\n      visible: true,\n      text: text,\n      actionUrl: url\n    });\n  }\n\n  const modalConfirmHandler = () => {\n    if (!modal.actionUrl) {\n      return modalCancelHandler();\n    }\n\n    modalCancelHandler();\n    setLoading(true);\n    handleAction(modal.actionUrl)\n      .then(res => {\n        if (res.data.error) {\n          setLoading(false);\n          return displayModal(res.data.error, '');\n        }\n        fetchData().then(() => refreshMenuCounters())\n      })\n      .catch(err => { setLoading(false); console.error(err); });\n  }\n\n  const refreshMenuCounters = () => {\n    dispatch(refreshCounters()).then(() => setLoading(false));\n  }\n\n  const modalCancelHandler = () => {\n    setModal({\n      ...modal,\n      visible: false,\n      text: '',\n      actionUrl: ''\n    });\n  }\n\n  return (\n    <div className=\"dns-records\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.DNS}`}</title>\n      </Helmet>\n      <Toolbar mobile={false} >\n        <LeftButton name={i18n['Add DNS Record']} href={`/add/dns/?domain=${state.domain}`} showLeftMenu={true} />\n        <div className=\"r-menu\">\n          <div className=\"input-group input-group-sm\">\n            <Checkbox toggleAll={toggleAll} toggled={state.toggledAll} />\n            <Select list='dnsList' bulkAction={bulk} />\n            <SearchInput handleSearchTerm={term => props.changeSearchTerm(term)} />\n          </div>\n        </div>\n      </Toolbar>\n      {loading\n        ? <Spinner />\n        : (\n          <>\n            <div className=\"dns-records-wrapper\">\n              <div className=\"subtitle\">\n                <span>{`${i18n['Listing']}  ${state.domain}`}</span>\n              </div>\n              {dnsRecords()}\n            </div>\n            <div className=\"footer-actions-wrapper\">\n              <div className=\"total\">{state.totalAmount}</div>\n              <div className=\"back\">\n                <Link to=\"/list/dns/\">{i18n['Back']}</Link>\n              </div>\n            </div>\n          </>\n        )\n      }\n      <Modal\n        onSave={modalConfirmHandler}\n        onCancel={modalCancelHandler}\n        show={modal.visible}\n        text={modal.text} />\n    </div>\n  );\n}","import React from 'react';\nimport ListItem from '../ControlPanel/ListItem/ListItem';\nimport Container from '../ControlPanel/Container/Container';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport './DomainNameSystem.scss';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst DomainNameSystem = props => {\n  const { data } = props;\n  const { i18n } = useSelector(state => state.session);\n  const token = localStorage.getItem(\"token\");\n\n  const toggleFav = (starred) => {\n    if (starred) {\n      props.toggleFav(props.data.NAME, 'add');\n    } else {\n      props.toggleFav(props.data.NAME, 'delete');\n    }\n  }\n\n  const checkItem = () => {\n    props.checkItem(props.data.NAME);\n  }\n\n  const handleSuspend = () => {\n    let suspendedStatus = data.SUSPENDED === 'yes' ? 'unsuspend' : 'suspend' === 'yes' ? 'unsuspend' : 'suspend';\n    props.handleModal(data.suspend_conf, `/api/v1/${suspendedStatus}/dns/index.php?domain=${data.NAME}`);\n  }\n\n  const handleDelete = () => {\n    props.handleModal(data.delete_conf, `/api/v1/delete/dns/index.php?domain=${data.NAME}`);\n  }\n\n  return (\n    <ListItem\n      id={data.NAME}\n      checked={data.isChecked}\n      starred={data.STARRED}\n      date={data.DATE}\n      toggleFav={toggleFav}\n      checkItem={checkItem}\n      suspended={data.SUSPENDED === 'yes'}\n      focused={data.FOCUSED} >\n      <Container className=\"r-col w-85\">\n        <div className=\"name\">{data.NAME} <span className=\"dns-records\">/ {data.RECORDS}</span></div>\n        <br />\n        <div className=\"stats\">\n          <Container className=\"c-1 w-35\">\n            <div className=\"ip\">{data.IP}</div>\n            <div className=\"soa\"><span className=\"stat\">{data.SOA}</span></div>\n          </Container>\n          <Container className=\"c-2 w-30\">\n            <div>{i18n.TTL}: <span className=\"stat\">{data.TTL}</span></div>\n            <div>{i18n.Serial}: <span className=\"stat\">{data.SERIAL}</span></div>\n          </Container>\n          <Container className=\"c-3 w-35\">\n            <div>{i18n.Template}: <span className=\"stat\">{data.TPL}</span></div>\n            <div>{i18n.Expire}: <span className=\"stat\">{data.EXP}</span></div>\n          </Container>\n        </div>\n      </Container>\n      <div className=\"actions\">\n        <div>\n          <Link className=\"link-gray\" to={`/list/dns/?domain=${data.NAME}`}>\n            {data.RECORDS_I18N}\n            {data.FOCUSED ? <span className=\"shortcut-button\">L</span> : <FontAwesomeIcon icon=\"list\" />}\n          </Link>\n        </div>\n\n        <div>\n          <Link className=\"link-edit\" to={`/add/dns/?domain=${data.NAME}`}>\n            {i18n['add record']}\n            {data.FOCUSED ? <span className=\"shortcut-button\">N</span> : <FontAwesomeIcon icon=\"plus\" />}\n          </Link>\n        </div>\n\n        <div>\n          <Link className=\"link-edit\" to={`/edit/dns/?domain=${data.NAME}`}>\n            {i18n.edit}\n            {data.FOCUSED ? <span className=\"shortcut-button html-unicode\">&#8617;</span> : <FontAwesomeIcon icon=\"pen\" />}\n          </Link>\n        </div>\n\n        <div>\n          <button\n            className=\"link-gray\"\n            onClick={() => handleSuspend()}>\n            {i18n[data.suspend_action]}\n            {data.FOCUSED ? <span className=\"shortcut-button\">S</span> : <FontAwesomeIcon icon={data.SUSPENDED === 'yes' ? 'unlock' : 'lock'} />}\n          </button>\n        </div>\n\n        <div>\n          <button type=\"button\" className=\"link-delete\" onClick={() => handleDelete()}>\n            {i18n.Delete}\n            {data.FOCUSED ? <span className=\"shortcut-button del\">Del</span> : <FontAwesomeIcon icon=\"times\" />}\n          </button>\n        </div>\n      </div>\n    </ListItem>\n  );\n}\n\nexport default DomainNameSystem;","import React, { useState, useEffect } from 'react';\nimport { addControlPanelContentFocusedElement, removeControlPanelContentFocusedElement } from '../../actions/ControlPanelContent/controlPanelContentActions';\nimport { addActiveElement, removeFocusedElement } from '../../actions/MainNavigation/mainNavigationActions';\nimport DropdownFilter from '../../components/MainNav/Toolbar/DropdownFilter/DropdownFilter';\nimport { bulkDomainAction, getDnsList, handleAction } from '../../ControlPanelService/Dns';\nimport * as MainNavigation from '../../actions/MainNavigation/mainNavigationActions';\nimport SearchInput from '../../components/MainNav/Toolbar/SearchInput/SearchInput';\nimport DomainNameSystem from '../../components/DomainNameSystem/DomainNameSystem';\nimport { addFavorite, deleteFavorite } from '../../ControlPanelService/Favorites';\nimport LeftButton from '../../components/MainNav/Toolbar/LeftButton/LeftButton';\nimport Checkbox from '../../components/MainNav/Toolbar/Checkbox/Checkbox';\nimport Select from '../../components/MainNav/Toolbar/Select/Select';\nimport Toolbar from '../../components/MainNav/Toolbar/Toolbar';\nimport Modal from '../../components/ControlPanel/Modal/Modal';\nimport Spinner from '../../components/Spinner/Spinner';\nimport './DomainNameSystems.scss';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Helmet } from 'react-helmet';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\n\nconst DomainNameSystems = props => {\n  const { i18n } = useSelector(state => state.session);\n  const { controlPanelFocusedElement } = useSelector(state => state.controlPanelContent);\n  const { focusedElement } = useSelector(state => state.mainNavigation);\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const [modal, setModal] = useState({\n    text: '',\n    visible: false,\n    actionUrl: ''\n  });\n  const [state, setState] = useState({\n    domainNameSystems: [],\n    dnsFav: [],\n    toggledAll: false,\n    sorting: i18n.Date,\n    order: \"descending\",\n    selection: [],\n    totalAmount: '',\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/dns/'));\n    dispatch(removeFocusedElement());\n    dispatch(removeControlPanelContentFocusedElement());\n    fetchData().then(() => setLoading(false));\n\n    return () => {\n      dispatch(removeControlPanelContentFocusedElement());\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleContentSelection);\n    window.addEventListener(\"keydown\", handleFocusedElementShortcuts);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleContentSelection);\n      window.removeEventListener(\"keydown\", handleFocusedElementShortcuts);\n    };\n  }, [controlPanelFocusedElement, focusedElement, state.domainNameSystems]);\n\n  const handleContentSelection = event => {\n    if (event.keyCode === 38 || event.keyCode === 40) {\n      if (focusedElement) {\n        dispatch(MainNavigation.removeFocusedElement());\n      }\n    }\n\n    if (event.keyCode === 38) {\n      event.preventDefault();\n      handleArrowUp();\n    } else if (event.keyCode === 40) {\n      event.preventDefault();\n      handleArrowDown();\n    }\n  }\n\n  const initFocusedElement = domainNameSystems => {\n    domainNameSystems[0]['FOCUSED'] = domainNameSystems[0]['NAME'];\n    setState({ ...state, domainNameSystems });\n    dispatch(addControlPanelContentFocusedElement(domainNameSystems[0]['NAME']));\n  }\n\n  const handleArrowDown = () => {\n    let domainNameSystems = [...state.domainNameSystems];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(domainNameSystems);\n      return;\n    }\n\n    let focusedElementPosition = domainNameSystems.findIndex(domainNameSystem => domainNameSystem.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== domainNameSystems.length - 1) {\n      let nextFocusedElement = domainNameSystems[focusedElementPosition + 1];\n      domainNameSystems[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, domainNameSystems });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleArrowUp = () => {\n    let domainNameSystems = [...state.domainNameSystems];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(domainNameSystems);\n      return;\n    }\n\n    let focusedElementPosition = domainNameSystems.findIndex(domainNameSystem => domainNameSystem.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== 0) {\n      let nextFocusedElement = domainNameSystems[focusedElementPosition - 1];\n      domainNameSystems[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, domainNameSystems });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleFocusedElementShortcuts = event => {\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus');\n\n    if (controlPanelFocusedElement && !isSearchInputFocused) {\n      switch (event.keyCode) {\n        case 8: return handleDelete();\n        case 13: return handleEdit();\n        case 76: return handleLogs();\n        case 78: return handleAddRecord();\n        case 83: return handleSuspend();\n        default: break;\n      }\n    }\n  }\n\n  const handleAddRecord = () => {\n    props.history.push(`/add/dns/?domain=${controlPanelFocusedElement}`);\n  }\n\n  const handleLogs = () => {\n    props.history.push(`/list/dns?domain=${controlPanelFocusedElement}&type=access`);\n  }\n\n  const handleEdit = () => {\n    props.history.push(`/edit/dns?domain=${controlPanelFocusedElement}`);\n  }\n\n  const handleSuspend = () => {\n    const { domainNameSystems } = state;\n    let currentDomainNameSystemData = domainNameSystems.filter(domainNameSystem => domainNameSystem.NAME === controlPanelFocusedElement)[0];\n    let suspendedStatus = currentDomainNameSystemData.SUSPENDED === 'yes' ? 'unsuspend' : 'suspend';\n\n    displayModal(currentDomainNameSystemData.suspend_conf, `/api/v1/${suspendedStatus}/dns/index.php?domain=${controlPanelFocusedElement}`);\n  }\n\n  const handleDelete = () => {\n    const { domainNameSystems } = state;\n    let currentDomainNameSystemData = domainNameSystems.filter(domainNameSystem => domainNameSystem.NAME === controlPanelFocusedElement)[0];\n\n    displayModal(currentDomainNameSystemData.delete_conf, `/api/v1/delete/dns/index.php?domain=${controlPanelFocusedElement}`);\n  }\n\n  const fetchData = () => {\n    setLoading(true);\n    return new Promise((resolve, reject) => {\n      getDnsList()\n        .then(result => {\n          setState({\n            ...state,\n            domainNameSystems: reformatData(result.data.data),\n            dnsFav: result.data.dnsFav,\n            selection: [],\n            toggledAll: false,\n            totalAmount: result.data.totalAmount\n          });\n          resolve();\n        })\n        .catch(err => console.error(err));\n    });\n  }\n\n  const reformatData = data => {\n    let domainNameSystems = [];\n\n    for (let i in data) {\n      data[i]['NAME'] = i;\n      data[i]['RECORDS'] = Number(data[i]['RECORDS']);\n      data[i]['FOCUSED'] = controlPanelFocusedElement === i;\n      domainNameSystems.push(data[i]);\n    }\n\n    return domainNameSystems;\n  }\n\n  const changeSorting = (sorting, order) => {\n    setState({\n      ...state,\n      sorting,\n      order\n    });\n  }\n\n  const dns = () => {\n    const { domainNameSystems } = state;\n    const dnsFav = { ...state.dnsFav };\n    const result = [];\n\n    domainNameSystems.forEach(domainNameSystem => {\n      domainNameSystem.FOCUSED = controlPanelFocusedElement === domainNameSystem.NAME;\n\n      if (dnsFav[domainNameSystem.NAME]) {\n        domainNameSystem.STARRED = dnsFav[domainNameSystem.NAME];\n      } else {\n        domainNameSystem.STARRED = 0;\n      }\n\n      result.push(domainNameSystem);\n    });\n\n    let sortedResult = sortArray(result);\n\n    return sortedResult.map((item, index) => {\n      return <DomainNameSystem data={item} key={index} toggleFav={toggleFav} checkItem={checkItem} handleModal={displayModal} />;\n    });\n  }\n\n  const checkItem = name => {\n    const { selection, domainNameSystems } = state;\n    let duplicate = [...selection];\n    let domainNameSystemsDuplicate = domainNameSystems;\n    let checkedItem = duplicate.indexOf(name);\n\n    let incomingItem = domainNameSystemsDuplicate.findIndex(domainNameSystem => domainNameSystem.NAME === name);\n    domainNameSystemsDuplicate[incomingItem].isChecked = !domainNameSystemsDuplicate[incomingItem].isChecked;\n\n    if (checkedItem !== -1) {\n      duplicate.splice(checkedItem, 1);\n    } else {\n      duplicate.push(name);\n    }\n\n    setState({ ...state, domainNameSystems: domainNameSystemsDuplicate, selection: duplicate });\n  }\n\n  const sortArray = array => {\n    const { order, sorting } = state;\n    let sortingColumn = sortBy(sorting);\n\n    if (order === \"descending\") {\n      return array.sort((a, b) => {\n        const first = a[sortingColumn];\n        const second = b[sortingColumn];\n        return (first < second) ? 1 : ((second < first) ? -1 : 0);\n      });\n    } else {\n      return array.sort((a, b) => {\n        const first = a[sortingColumn];\n        const second = b[sortingColumn];\n        return (first > second) ? 1 : ((second > first) ? -1 : 0)\n      });\n    }\n  }\n\n  const sortBy = sorting => {\n    const { Date, Expire, Domain, IP, Records, Starred } = i18n;\n\n    switch (sorting) {\n      case Date: return 'DATE';\n      case Expire: return 'EXP';\n      case Domain: return 'NAME';\n      case IP: return 'IP';\n      case Records: return 'RECORDS';\n      case Starred: return 'STARRED';\n      default: break;\n    }\n  }\n\n  const toggleFav = (value, type) => {\n    const { dnsFav } = state;\n    let dnsFavDuplicate = dnsFav;\n\n    if (type === 'add') {\n      dnsFavDuplicate[value] = 1;\n\n      addFavorite(value, 'dns')\n        .then(() => {\n          setState({ ...state, dnsFav: dnsFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    } else {\n      dnsFavDuplicate[value] = undefined;\n\n      deleteFavorite(value, 'dns')\n        .then(() => {\n          setState({ ...state, dnsFav: dnsFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    }\n  }\n\n  const toggleAll = toggled => {\n    const domainNameSystemsDuplicate = [...state.domainNameSystems];\n\n    if (toggled) {\n      let domainNameSystemsNames = [];\n\n      let domainNameSystems = domainNameSystemsDuplicate.map(domainNameSystem => {\n        domainNameSystemsNames.push(domainNameSystem.NAME);\n        domainNameSystem.isChecked = true;\n        return domainNameSystem;\n      });\n\n      setState({ ...state, domainNameSystems, selection: domainNameSystemsNames, toggledAll: toggled });\n    } else {\n      let domainNameSystems = domainNameSystemsDuplicate.map(domainNameSystem => {\n        domainNameSystem.isChecked = false;\n        return domainNameSystem;\n      });\n\n      setState({ ...state, domainNameSystems, selection: [], toggledAll: toggled });\n    }\n  }\n\n  const bulk = action => {\n    const { selection } = state;\n\n    if (selection.length && action) {\n      setLoading(true);\n      bulkDomainAction(action, selection)\n        .then(result => {\n          if (result.status === 200) {\n            toggleAll(false);\n            fetchData().then(() => refreshMenuCounters());\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const displayModal = (text, url) => {\n    setModal({\n      ...modal,\n      visible: true,\n      text: text,\n      actionUrl: url\n    });\n  }\n\n  const modalConfirmHandler = () => {\n    if (!modal.actionUrl) {\n      return modalCancelHandler();\n    }\n\n    modalCancelHandler();\n    setLoading(true);\n    handleAction(modal.actionUrl)\n      .then(res => {\n        if (res.data.error) {\n          setLoading(false);\n          return displayModal(res.data.error, '');\n        }\n        fetchData().then(() => refreshMenuCounters())\n      })\n      .catch(err => { setLoading(false); console.error(err); });\n  }\n\n  const refreshMenuCounters = () => {\n    dispatch(refreshCounters()).then(() => setLoading(false));\n  }\n\n  const modalCancelHandler = () => {\n    setModal({\n      ...modal,\n      visible: false,\n      text: '',\n      actionUrl: ''\n    });\n  }\n\n  return (\n    <div className=\"dns\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.DNS}`}</title>\n      </Helmet>\n      <Toolbar mobile={false} >\n        <LeftButton name={i18n['Add DNS Domain']} href=\"/add/dns\" showLeftMenu={true} />\n        <div className=\"r-menu\">\n          <div className=\"input-group input-group-sm\">\n            <Checkbox toggleAll={toggleAll} toggled={state.toggledAll} />\n            <Select list='dnsList' bulkAction={bulk} />\n            <DropdownFilter changeSorting={changeSorting} sorting={state.sorting} order={state.order} list=\"dnsList\" />\n            <SearchInput handleSearchTerm={term => props.changeSearchTerm(term)} />\n          </div>\n        </div>\n      </Toolbar>\n      <div className=\"dns-wrapper\">\n        {loading ? <Spinner /> : dns()}\n      </div>\n      <div className=\"total\">{state.totalAmount}</div>\n      <Modal\n        onSave={modalConfirmHandler}\n        onCancel={modalCancelHandler}\n        show={modal.visible}\n        text={modal.text} />\n    </div>\n  );\n}\n\nexport default DomainNameSystems;","import QueryString from 'qs';\nimport React, { useEffect, useState } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport DnsRecords from '../DNSRecords/DNSRecords';\nimport DomainNameSystems from '../DomainNameSystems/DomainNameSystems';\n\nexport default function DNSWrapper(props) {\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const parsedQueryString = QueryString.parse(history.location.search, { ignoreQueryPrefix: true });\n  const [isDnsRecords, setIsDnsRecords] = useState(false);\n\n  useEffect(() => {\n    if (parsedQueryString.domain) {\n      setIsDnsRecords(true);\n    } else {\n      setIsDnsRecords(false);\n    }\n  }, [history.location]);\n\n  return (\n    <>\n      <Helmet>\n        <title>{`Vesta - ${i18n.DNS}`}</title>\n      </Helmet>\n      {\n        isDnsRecords\n          ? <DnsRecords {...props} changeSearchTerm={props.changeSearchTerm} />\n          : <DomainNameSystems {...props} changeSearchTerm={props.changeSearchTerm} />\n      }\n    </>\n  );\n}","import axios from \"axios\";\n\nconst BASE_URL = window.location.origin;\nconst webApiUri = '/api/v1/list/stats/index.php';\n\nexport const getStatisticsList = user => {\n  return axios.get(BASE_URL + webApiUri + '?user=' + user);\n}","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport Container from '../ControlPanel/Container/Container';\nimport './Statistic.scss';\n\nconst Statistic = props => {\n  const { data } = props;\n  const { i18n } = useSelector(state => state.session);\n\n  const printDate = date => {\n    let newDate = new Date(date);\n    let day = newDate.getDate();\n    let month = newDate.getMonth();\n    let year = newDate.getFullYear();\n    let months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n\n    return <div className=\"date\">{day} &nbsp; {months[month]} &nbsp; {year}</div>;\n  }\n\n  const printName = date => {\n    let newDate = new Date(date);\n    let month = newDate.getMonth();\n    let year = newDate.getFullYear();\n    let months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n\n    return <div className=\"date\">{months[month]} &nbsp; {year}</div>;\n  }\n\n  return (\n    <div className={data.FOCUSED ? 'statistic-item focused' : 'statistic-item'} id={data.NAME}>\n      <Container className=\"l-col w-15\">\n        {printDate(data.DATE)}\n      </Container>\n      <Container className=\"r-col w-85\">\n        <div className=\"name\">{printName(data.DATE)}</div>\n        <div className=\"stats\">\n          <Container className=\"c-1\">\n            <div className=\"bandwidth\">\n              {i18n.Bandwidth}\n              <span><span className=\"stat\">{data.U_BANDWIDTH}</span>{i18n.mb}</span>\n              <div className=\"percent\" style={{ width: `${data.U_BANDWIDTH_PERCENT}%` || '0%' }}></div>\n            </div>\n            <div className=\"disk\">\n              {i18n.Disk}: <span><span className=\"stat\">{data.U_DISK}</span>{i18n.mb}</span>\n              <div className=\"percent\" style={{ width: `${data.U_DISK_PERCENT}%` || '0%' }}></div>\n            </div>\n            <div className=\"sub-disk-stats\">\n              <div>\n                <div>{i18n.Web}: <span><span className=\"stat\">{data.U_DISK_WEB}</span>{i18n.mb}</span></div>\n                <div>{i18n.Mail}: <span><span className=\"stat\">{data.U_DISK_MAIL}</span>{i18n.mb}</span></div>\n              </div>\n              <div>\n                <div>{i18n.Databases}: <span><span className=\"stat\">{data.U_DATABASES}</span>{i18n.mb}</span></div>\n                <div>{i18n['User Directories']}: <span><span className=\"stat\">{data.U_DISK_DIRS}</span>{i18n.mb}</span></div>\n              </div>\n            </div>\n          </Container>\n          <Container className=\"c-2\">\n            <div><span>{i18n['Web Domains']}:</span> <span className=\"stat\">{data.U_WEB_DOMAINS}</span></div>\n            <div><span>{i18n['SSL Domains']}:</span> <span className=\"stat\">{data.U_WEB_SSL}</span></div>\n            <div><span>{i18n['Web Aliases']}:</span> <span className=\"stat\">{data.U_WEB_ALIASES}</span></div>\n            <div><span>{i18n['DNS Domains']}:</span> <span className=\"stat\">{data.U_DNS_DOMAINS}</span></div>\n            <div><span>{i18n['DNS records']}:</span> <span className=\"stat\">{data.U_DNS_RECORDS}</span></div>\n          </Container>\n          <Container className=\"c-3\">\n            <div><span>{i18n['Mail Domains']}:</span> <span className=\"stat\">{data.U_MAIL_DOMAINS}</span></div>\n            <div><span>{i18n['Mail Accounts']}:</span> <span className=\"stat\">{data.U_MAIL_ACCOUNTS}</span></div>\n            <div><span>{i18n['Databases']}:</span> <span className=\"stat\">{data.U_DATABASES}</span></div>\n            <div><span>{i18n['Cron Jobs']}:</span> <span className=\"stat\">{data.U_CRON_JOBS}</span></div>\n            <div><span>{i18n['IP Addresses']}:</span> <span className=\"stat\">{data.IP_OWNED}</span></div>\n          </Container>\n        </div>\n      </Container>\n    </div>\n  );\n}\n\nexport default Statistic;","import React, { useEffect, useState } from 'react';\nimport { addControlPanelContentFocusedElement, removeControlPanelContentFocusedElement } from '../../actions/ControlPanelContent/controlPanelContentActions';\nimport { addActiveElement, removeFocusedElement } from '../../actions/MainNavigation/mainNavigationActions';\nimport * as MainNavigation from '../../actions/MainNavigation/mainNavigationActions';\nimport SearchInput from '../../components/MainNav/Toolbar/SearchInput/SearchInput';\nimport { getStatisticsList } from '../../ControlPanelService/Statistics';\nimport Select from '../../components/MainNav/Toolbar/Select/Select';\nimport Toolbar from '../../components/MainNav/Toolbar/Toolbar';\nimport Statistic from '../../components/Statistic/Statistic';\nimport Spinner from '../../components/Spinner/Spinner';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport './Statistics.scss';\nimport { Helmet } from 'react-helmet';\n\nconst Statistics = props => {\n  const { i18n } = useSelector(state => state.session);\n  const { controlPanelFocusedElement } = useSelector(state => state.controlPanelContent);\n  const { focusedElement } = useSelector(state => state.mainNavigation);\n  const dispatch = useDispatch();\n  const [state, setState] = useState({\n    statistics: [],\n    users: [],\n    totalAmount: '',\n    loading: false,\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/stats/'));\n    dispatch(removeFocusedElement());\n    dispatch(removeControlPanelContentFocusedElement());\n    fetchData();\n\n    return () => {\n      dispatch(removeControlPanelContentFocusedElement());\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleContentSelection);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleContentSelection);\n    };\n  }, [controlPanelFocusedElement, focusedElement, state.statistics]);\n\n  const handleContentSelection = event => {\n    if (event.keyCode === 38 || event.keyCode === 40) {\n      if (focusedElement) {\n        dispatch(MainNavigation.removeFocusedElement());\n      }\n    }\n\n    if (event.keyCode === 38) {\n      event.preventDefault();\n      handleArrowUp();\n    } else if (event.keyCode === 40) {\n      event.preventDefault();\n      handleArrowDown();\n    }\n  }\n\n  const initFocusedElement = statistics => {\n    statistics[0]['FOCUSED'] = statistics[0]['NAME'];\n    setState({ ...state, statistics });\n    dispatch(addControlPanelContentFocusedElement(statistics[0]['NAME']));\n  }\n\n  const handleArrowDown = () => {\n    let statistics = [...state.statistics];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(statistics);\n      return;\n    }\n\n    let focusedElementPosition = statistics.findIndex(statistic => statistic.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== statistics.length - 1) {\n      let nextFocusedElement = statistics[focusedElementPosition + 1];\n      statistics[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, statistics });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleArrowUp = () => {\n    let statistics = [...state.statistics];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(statistics);\n      return;\n    }\n\n    let focusedElementPosition = statistics.findIndex(statistic => statistic.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== 0) {\n      let nextFocusedElement = statistics[focusedElementPosition - 1];\n      statistics[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, statistics });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const fetchData = () => {\n    dispatch(removeControlPanelContentFocusedElement());\n    setState({ ...state, loading: true });\n\n    let search = window.location.search;\n    let user = search ? search.split('=')[1] : '';\n\n    getStatisticsList(user)\n      .then(result => {\n        setState({\n          ...state,\n          statistics: reformatData(result.data.data),\n          users: result.data.users || [],\n          totalAmount: result.data.totalAmount,\n          loading: false\n        });\n      })\n      .catch(err => console.error(err));\n  }\n\n  const reformatData = data => {\n    let statistics = [];\n\n    for (let i in data) {\n      data[i]['DATE'] = i;\n      data[i]['NAME'] = i;\n      data[i]['FOCUSED'] = controlPanelFocusedElement === i;\n      statistics.push(data[i]);\n    }\n\n    return statistics;\n  }\n\n  const statistics = () => {\n    let statistics = [...state.statistics];\n\n    statistics.forEach(statistic => {\n      statistic.FOCUSED = controlPanelFocusedElement === statistic.NAME;\n    });\n\n    return statistics.map((item, index) => {\n      return <Statistic data={item} key={index} />;\n    });\n  }\n\n  const bulkAction = value => {\n    let user = value !== '' ? `?user=${value}` : '';\n    props.history.push({ search: user });\n    fetchData();\n  };\n\n  return (\n    <div className=\"statistics-list\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.STATS}`}</title>\n      </Helmet>\n      <Toolbar mobile={false} className=\"justify-right\">\n        <div className=\"r-menu\">\n          <div className=\"input-group input-group-sm\">\n            <Link to=\"/list/stats/\" className=\"button-extra\" type=\"submit\">{i18n['Overall Statistics']}</Link>\n            <Select list='statisticsList' users={state.users} bulkAction={bulkAction} />\n            <SearchInput handleSearchTerm={term => props.changeSearchTerm(term)} />\n          </div>\n        </div>\n      </Toolbar>\n      <div className=\"statistics-wrapper\">\n        {state.loading ? <Spinner /> : statistics()}\n      </div>\n      <div className=\"total\">{state.totalAmount}</div>\n    </div>\n  );\n}\n\nexport default Statistics;","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Container from '../ControlPanel/Container/Container';\nimport ListItem from '../ControlPanel/ListItem/ListItem';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport './User.scss';\n\nconst User = ({ data, toggleFav, handleModal, checkItem, logOut, logInAs }) => {\n  const { i18n, userName } = useSelector(state => state.session);\n\n  const printNameServers = servers => {\n    let serversArray = servers.split(',');\n\n    return serversArray.map(\n      (server, index) => <div key={index}>{server}</div>\n    );\n  }\n\n  const printLoginActionButton = user => {\n    let currentUser = userName;\n    if (currentUser === user) {\n      return (\n        <div>\n          <button onClick={logOut}>{i18n['Log out']}\n            {data.FOCUSED ? <span className=\"shortcut-button\">L</span> : <FontAwesomeIcon icon=\"user-lock\" />}\n          </button>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <button onClick={() => logInAs(user)}>{i18n['login as']} {user}\n            {data.FOCUSED ? <span className=\"shortcut-button\">L</span> : <FontAwesomeIcon icon=\"user-lock\" />}\n          </button>\n        </div>\n      );\n    }\n  }\n\n  const toggleFavorite = (starred) => {\n    if (starred) {\n      toggleFav(data.NAME, 'add');\n    } else {\n      toggleFav(data.NAME, 'delete');\n    }\n  }\n\n  const checkItemName = () => {\n    checkItem(data.NAME);\n  }\n\n  const handleSuspend = () => {\n    let suspendedStatus = data.SUSPENDED === 'yes' ? 'unsuspend' : 'suspend';\n    handleModal(data.spnd_conf, `/api/v1/${suspendedStatus}/user/index.php?user=${data.NAME}`);\n  }\n\n  const handleDelete = () => {\n    handleModal(data.delete_conf, `/api/v1/delete/user/index.php?user=${data.NAME}`);\n  }\n\n  return (\n    <ListItem\n      id={data.NAME}\n      date={data.DATE}\n      checked={data.isChecked}\n      starred={data.STARRED}\n      toggleFav={toggleFavorite}\n      checkItem={checkItemName}\n      focused={data.FOCUSED}\n      suspended={data.SUSPENDED === 'yes'}>\n\n      <Container className=\"r-col w-85\">\n        <div className=\"name\">{data.NAME}</div>\n        <div>{data.FNAME} {data.LNAME}</div>\n        <div className=\"stats\">\n          <Container className=\"c-1\">\n            <div className=\"bandwidth\">\n              {i18n.Bandwidth}\n              <span><span className=\"stat\">{data.U_BANDWIDTH}</span> {data.U_BANDWIDTH_MEASURE}</span>\n              <div className=\"percent\" style={{ width: `${data.U_BANDWIDTH_PERCENT}%` || '0%' }}></div>\n            </div>\n            <div className=\"disk\">\n              {i18n.Disk}: <span><span className=\"stat\">{data.U_DISK}</span> {data.U_DISK_MEASURE}</span>\n              <div className=\"percent\" style={{ width: `${data.U_DISK_PERCENT}%` || '0%' }}></div>\n            </div>\n            <div className=\"sub-disk-stats\">\n              <div>\n                <div><span>{i18n.Web}:</span> <span><b>{data.U_DISK_WEB}</b> {data.U_DISK_WEB_MEASURE}</span></div>\n                <div><span>{i18n.Mail}:</span> <span><b>{data.U_DISK_MAIL}</b> {data.U_DISK_MAIL_MEASURE}</span></div>\n              </div>\n              <div>\n                <div><span>{i18n.Databases}:</span> <span><b>{data.U_DATABASES}</b> {data.U_DATABASES_MEASURE}</span></div>\n                <div><span>{i18n['User Directories']}:</span> <span><b>{data.U_DISK_DIRS}</b> {data.U_DISK_DIRS_MEASURE}</span></div>\n              </div>\n            </div>\n          </Container>\n          <Container className=\"c-2\">\n            <div><span>{i18n['Web Domains']}:</span> <span><b>{data.U_WEB_DOMAINS}</b> / {data.WEB_DOMAINS}</span></div>\n            <div><span>{i18n['DNS Domains']}:</span> <span><b>{data.U_DNS_DOMAINS}</b> / {data.DNS_DOMAINS}</span></div>\n            <div><span>{i18n['Mail Domains']}:</span> <span><b>{data.U_MAIL_DOMAINS}</b> / {data.MAIL_DOMAINS}</span></div>\n            <div><span>{i18n.Databases}:</span> <span><b>{data.U_DATABASES}</b> / {data.DATABASES}</span></div>\n            <div><span>{i18n['Cron Jobs']}:</span> <span><b>{data.U_CRON_JOBS}</b> / {data.CRON_JOBS}</span></div>\n            <div><span>{i18n.Backups}:</span> <span><b>{data.U_BACKUPS}</b> / {data.BACKUPS}</span></div>\n          </Container>\n          <Container className=\"c-3\">\n            <div><span>{i18n.Email}:</span> <span className=\"stat email\">{data.CONTACT}</span></div>\n            <div><span>{i18n.Package}:</span> <span className=\"stat\">{data.PACKAGE}</span></div>\n            <div><span>{i18n['SSH Access']}:</span> <span className=\"stat\">{data.SHELL}</span></div>\n            <div><span>{i18n['IP Addresses']}:</span> <span className=\"stat\">{data.IP_OWNED}</span></div>\n            <div className=\"ns\"><span>{i18n['Name Servers']}:</span> <span className=\"stat\">{printNameServers(data.NS)}</span></div>\n          </Container>\n        </div>\n      </Container>\n      <div className=\"actions\">\n        {printLoginActionButton(data.NAME)}\n        <div>\n          <Link to={`/edit/user?user=${data.NAME}`}>{i18n.edit}\n            {data.FOCUSED ? <span className=\"shortcut-button html-unicode\">&#8617;</span> : <FontAwesomeIcon icon=\"pen\" />}\n          </Link>\n        </div>\n        <div>\n          <button\n            className=\"link-gray\"\n            onClick={handleSuspend}>\n            {data.spnd_action}\n            {data.FOCUSED ? <span className=\"shortcut-button\">S</span> : <FontAwesomeIcon icon={data.SUSPENDED === 'yes' ? 'unlock' : 'lock'} />}\n          </button>\n        </div>\n        <div>\n          <button className=\"link-delete\" onClick={handleDelete}>\n            {i18n.Delete}\n            {data.FOCUSED ? <span className=\"shortcut-button del\">Del</span> : <FontAwesomeIcon icon=\"times\" />}\n          </button>\n        </div>\n      </div>\n    </ListItem>\n  );\n}\n\nexport default User;","import React, { useState, useEffect } from 'react';\nimport { addControlPanelContentFocusedElement, removeControlPanelContentFocusedElement } from '../../actions/ControlPanelContent/controlPanelContentActions';\nimport { addActiveElement, removeFocusedElement } from \"../../actions/MainNavigation/mainNavigationActions\";\nimport DropdownFilter from '../../components/MainNav/Toolbar/DropdownFilter/DropdownFilter';\nimport { bulkAction, getUsersList, handleAction } from '../../ControlPanelService/Users';\nimport * as MainNavigation from '../../actions/MainNavigation/mainNavigationActions';\nimport SearchInput from '../../components/MainNav/Toolbar/SearchInput/SearchInput';\nimport { addFavorite, deleteFavorite } from '../../ControlPanelService/Favorites';\nimport LeftButton from '../../components/MainNav/Toolbar/LeftButton/LeftButton';\nimport Checkbox from '../../components/MainNav/Toolbar/Checkbox/Checkbox';\nimport Select from '../../components/MainNav/Toolbar/Select/Select';\nimport Toolbar from '../../components/MainNav/Toolbar/Toolbar';\nimport Modal from '../../components/ControlPanel/Modal/Modal';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Spinner from '../../components/Spinner/Spinner';\nimport User from '../../components/User/User';\nimport { Helmet } from 'react-helmet';\nimport './Users.scss';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport { useHistory } from 'react-router';\nimport { loginAs, logout } from 'src/actions/Session/sessionActions';\n\nconst Users = props => {\n  const { userName, i18n } = useSelector(state => state.session);\n  const { session } = useSelector(state => state.userSession);\n  const { controlPanelFocusedElement } = useSelector(state => state.controlPanelContent);\n  const { focusedElement } = useSelector(state => state.mainNavigation);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const [modal, setModal] = useState({\n    text: '',\n    visible: false,\n    actionUrl: ''\n  });\n  const [state, setState] = useState({\n    users: [],\n    userFav: [],\n    toggledAll: false,\n    sorting: i18n.Date,\n    order: \"descending\",\n    selection: [],\n    totalAmount: ''\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/user/'));\n    dispatch(removeFocusedElement());\n    dispatch(removeControlPanelContentFocusedElement());\n    fetchData().then(() => setLoading(false));\n\n    return () => {\n      dispatch(removeControlPanelContentFocusedElement());\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleContentSelection);\n    window.addEventListener(\"keydown\", handleFocusedElementShortcuts);\n    window.addEventListener(\"keyup\", addNewObject);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleContentSelection);\n      window.removeEventListener(\"keydown\", handleFocusedElementShortcuts);\n      window.removeEventListener(\"keyup\", addNewObject);\n    };\n  }, [controlPanelFocusedElement, focusedElement, state.users]);\n\n  const addNewObject = event => {\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus');\n\n    if (isSearchInputFocused) {\n      return;\n    }\n\n    if (event.keyCode === 65) {\n      switch (history.location.pathname) {\n        case '/list/user/': return session.look ? history.push('/add/web/') : history.push('/add/user/');\n        default: break;\n      }\n    }\n  }\n\n  const fetchData = () => {\n    setLoading(true);\n    return new Promise((resolve, reject) => {\n      getUsersList()\n        .then(result => {\n          setState({\n            ...state,\n            users: reformatData(result.data.data),\n            userFav: result.data.userFav,\n            totalAmount: result.data.totalAmount,\n            toggledAll: false,\n            selection: []\n          });\n          resolve();\n        })\n        .catch(err => console.error(err));\n    });\n  }\n\n  const handleFocusedElementShortcuts = event => {\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus');\n\n    if (controlPanelFocusedElement && !isSearchInputFocused) {\n      switch (event.keyCode) {\n        case 76: return handleLogin();\n        case 83: return handleSuspend();\n        case 8: return handleDelete();\n        case 13: return handleEdit();\n        default: break;\n      }\n    }\n  }\n\n  const handleLogin = () => {\n    if (userName === controlPanelFocusedElement) {\n      props.history.push('/logout');\n    } else {\n      props.history.push(`/login/?loginas=${controlPanelFocusedElement}`);\n    }\n  }\n\n  const handleEdit = () => {\n    props.history.push(`/edit/user?user=${controlPanelFocusedElement}`);\n  }\n\n  const handleSuspend = () => {\n    const { users } = state;\n    let currentUserData = users.filter(user => user.NAME === controlPanelFocusedElement)[0];\n    let suspendedStatus = currentUserData.SUSPENDED === 'yes' ? 'unsuspend' : 'suspend';\n\n    displayModal(currentUserData.spnd_conf, `/api/v1/${suspendedStatus}/user/index.php?user=${controlPanelFocusedElement}`);\n  }\n\n  const handleDelete = () => {\n    const { users } = state;\n    let currentUserData = users.filter(user => user.NAME === controlPanelFocusedElement)[0];\n\n    displayModal(currentUserData.delete_conf, `/api/v1/delete/user/index.php?user=${controlPanelFocusedElement}`);\n  }\n\n  const handleContentSelection = event => {\n    if (event.keyCode === 38 || event.keyCode === 40) {\n      if (focusedElement) {\n        dispatch(MainNavigation.removeFocusedElement());\n      }\n    }\n\n    if (event.keyCode === 38) {\n      event.preventDefault();\n      handleArrowUp();\n    } else if (event.keyCode === 40) {\n      event.preventDefault();\n      handleArrowDown();\n    }\n  }\n\n  const initFocusedElement = users => {\n    users[0]['FOCUSED'] = users[0]['NAME'];\n    setState({ ...state, users });\n    dispatch(addControlPanelContentFocusedElement(users[0]['NAME']));\n  }\n\n  const handleArrowDown = () => {\n    let users = [...state.users];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(users);\n      return;\n    }\n\n    let focusedElementPosition = users.findIndex(user => user.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== users.length - 1) {\n      let nextFocusedElement = users[focusedElementPosition + 1];\n      users[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, users });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleArrowUp = () => {\n    let users = [...state.users];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(users);\n      return;\n    }\n\n    let focusedElementPosition = users.findIndex(user => user.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== 0) {\n      let nextFocusedElement = users[focusedElementPosition - 1];\n      users[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, users });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const changeSorting = (sorting, order) => {\n    setState({\n      ...state,\n      sorting,\n      order\n    });\n  }\n\n  const reformatData = data => {\n    let users = [];\n\n    for (let i in data) {\n      data[i]['NAME'] = i;\n      data[i]['isChecked'] = false;\n      data[i]['FOCUSED'] = controlPanelFocusedElement === i;\n      users.push(data[i]);\n    }\n\n    return users;\n  }\n\n  const users = () => {\n    const userFav = { ...state.userFav };\n    let users = [...state.users];\n\n    users.forEach(user => {\n      user.FOCUSED = controlPanelFocusedElement === user.NAME;\n\n      if (userFav[user.NAME]) {\n        user.STARRED = userFav[user.NAME];\n      } else {\n        user.STARRED = 0;\n      }\n    });\n\n    let sortedResult = sortArray(users);\n\n    return sortedResult.map((item, index) => {\n      return <User data={item} key={index} toggleFav={toggleFav} checkItem={checkItem} handleModal={displayModal} logOut={logOutHandler} logInAs={logInAsHandler} />;\n    });\n  }\n\n  const logOutHandler = () => {\n    setLoading(true);\n    dispatch(logout()).then(() => setLoading(false));\n  }\n\n  const logInAsHandler = username => {\n    setLoading(true);\n    dispatch(loginAs(username)).then(() => setLoading(false));\n  }\n\n  const checkItem = name => {\n    const { selection, users } = state;\n    let duplicate = [...selection];\n    let userDuplicate = [...users];\n    let checkedItem = duplicate.indexOf(name);\n\n    let incomingItem = userDuplicate.findIndex(user => user.NAME === name);\n    userDuplicate[incomingItem].isChecked = !userDuplicate[incomingItem].isChecked;\n\n    if (checkedItem !== -1) {\n      duplicate.splice(checkedItem, 1);\n    } else {\n      duplicate.push(name);\n    }\n\n    setState({ ...state, users: userDuplicate, selection: duplicate });\n  }\n\n  const sortArray = array => {\n    let sortingColumn = sortBy(state.sorting);\n\n    if (state.order === \"descending\") {\n      return array.sort((a, b) => (a[sortingColumn] < b[sortingColumn]) ? 1 : ((b[sortingColumn] < a[sortingColumn]) ? -1 : 0));\n    } else {\n      return array.sort((a, b) => (a[sortingColumn] > b[sortingColumn]) ? 1 : ((b[sortingColumn] > a[sortingColumn]) ? -1 : 0));\n    }\n  }\n\n  const sortBy = sorting => {\n    const { Date: date, Username, Disk, Bandwidth, Starred } = i18n;\n\n    switch (sorting) {\n      case date: return 'DATE';\n      case Username: return 'NAME';\n      case Disk: return 'U_DISK';\n      case Bandwidth: return 'U_BANDWIDTH';\n      case Starred: return 'STARRED';\n      default: break;\n    }\n  }\n\n  const toggleFav = (value, type) => {\n    let userFavDuplicate = state.userFav;\n\n    if (type === 'add') {\n      userFavDuplicate[value] = 1;\n\n      addFavorite(value, 'user')\n        .then(() => {\n          setState({ ...state, userFav: userFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    } else {\n      userFavDuplicate[value] = undefined;\n\n      deleteFavorite(value, 'user')\n        .then(() => {\n          setState({ ...state, userFav: userFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    }\n  }\n\n  const toggleAll = toggled => {\n    const usersDuplicate = [...state.users];\n\n    if (toggled) {\n      let userNames = [];\n\n      let users = usersDuplicate.map(user => {\n        userNames.push(user.NAME);\n        user.isChecked = true;\n        return user;\n      });\n\n      setState({ ...state, users, selection: userNames, toggledAll: toggled });\n    } else {\n      let users = usersDuplicate.map(user => {\n        user.isChecked = false;\n        return user;\n      });\n\n      setState({ ...state, users, selection: [], toggledAll: toggled });\n    }\n  }\n\n  const bulk = action => {\n    if (state.selection.length && action) {\n      setLoading(true);\n      bulkAction(action, state.selection)\n        .then(result => {\n          if (result.status === 200) {\n            toggleAll(false);\n            fetchData().then(() => refreshMenuCounters());\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const displayModal = (text, url) => {\n    setModal({\n      ...modal,\n      visible: true,\n      text: text,\n      actionUrl: url\n    });\n  }\n\n  const modalConfirmHandler = () => {\n    if (!modal.actionUrl) {\n      return modalCancelHandler();\n    }\n\n    modalCancelHandler();\n    setLoading(true);\n    handleAction(modal.actionUrl)\n      .then(res => {\n        if (res.data.error) {\n          setLoading(false);\n          return displayModal(res.data.error, '');\n        }\n        fetchData().then(() => refreshMenuCounters())\n      })\n      .catch(err => { setLoading(false); console.error(err); });\n  }\n\n  const refreshMenuCounters = () => {\n    dispatch(refreshCounters()).then(() => setLoading(false));\n  }\n\n  const modalCancelHandler = () => {\n    setModal({\n      ...modal,\n      visible: false,\n      text: '',\n      actionUrl: ''\n    });\n  }\n\n  return (\n    <div>\n      <Helmet>\n        <title>{`Vesta - ${i18n.USER}`}</title>\n      </Helmet>\n      <Toolbar mobile={false} >\n        <LeftButton\n          name={session.look ? i18n['Add Web Domain'] : i18n['Add User']}\n          href={session.look ? \"/add/web/\" : \"/add/user/\"}\n          showLeftMenu={true} />\n        <div className=\"r-menu\">\n          <div className=\"input-group input-group-sm\">\n            <Checkbox toggleAll={toggleAll} toggled={state.toggledAll} />\n            <Select list='usersList' bulkAction={bulk} />\n            <DropdownFilter changeSorting={changeSorting} sorting={state.sorting} order={state.order} list=\"usersList\" />\n            <SearchInput handleSearchTerm={term => props.changeSearchTerm(term)} />\n          </div>\n        </div>\n      </Toolbar>\n      <div className=\"users-wrapper\">\n        {loading\n          ? <Spinner />\n          : (<>\n            {users()}\n            <div className=\"total\">{state.totalAmount}</div>\n          </>)}\n      </div>\n      <Modal\n        onSave={modalConfirmHandler}\n        onCancel={modalCancelHandler}\n        show={modal.visible}\n        text={modal.text} />\n    </div>\n  );\n}\n\nexport default Users;\n","import axios from \"axios\";\n\nconst BASE_URL = window.location.origin;\nconst webApiUri = '/api/v1/list/rrd/index.php';\n\nexport const getRrdList = () => {\n  return axios.get(BASE_URL + webApiUri);\n}\n\nexport function generateImagePath(period, type, rrd) {\n  return `/api/v1/list/rrd/image.php?/rrd/${type}/${period}-${rrd}.png`;\n}\n","import React, { useEffect, useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport './Timer.scss';\n\nconst Timer = props => {\n  const [isActive, setIsActive] = useState(true);\n\n  useEffect(() => {\n    let interval = null;\n\n    if (isActive) {\n      interval = setInterval(props.countDown, 1000);\n    } else if (!isActive && props.time !== 0) {\n      clearInterval(interval);\n    }\n\n    return () => clearInterval(interval);\n  }, [isActive, props.time]);\n\n  const handlePause = () => {\n    setIsActive(!isActive);\n  }\n\n  return (\n    <div className=\"timer-wrapper\">\n      <button onClick={() => handlePause()}>\n        {!isActive ? <FontAwesomeIcon icon=\"play\" /> : <FontAwesomeIcon icon=\"pause\" />}\n      </button>\n      <div className=\"circle-wrapper\">\n        {/* <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n            <circle class=\"stroke-1\" cx=\"15\" cy=\"15\" r=\"10\" fill=\"white\" style={{ strokeDashoffset: 9 + props.time * 4.2 }}></circle>\n          </svg> */}\n        <span className=\"seconds\">{props.time}</span>\n      </div>\n    </div>\n  )\n}\n\nexport default Timer;","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFileDownload } from '@fortawesome/free-solid-svg-icons';\nimport Container from '../ControlPanel/Container/Container';\nimport { generateImagePath } from '../../ControlPanelService/RRD';\nimport './RRD.scss';\nimport { useSelector } from 'react-redux';\n\nconst RRD = props => {\n  const { data } = props;\n  const { i18n } = useSelector(state => state.session);\n\n  const printDate = date => {\n    let newDate = new Date(date);\n    let day = newDate.getDate();\n    let month = newDate.getMonth();\n    let year = newDate.getFullYear();\n    let months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n\n    return <div className=\"date\">{day} &nbsp; {months[month]} &nbsp; {year}</div>;\n  }\n\n  return (\n    <div className={data.FOCUSED ? 'rrd-item focused' : 'rrd-item'} id={data.NAME}>\n      <Container className=\"l-col w-15\">\n        {printDate(data.DATE)}\n      </Container>\n      <Container className=\"r-col w-85\">\n        <div className=\"name\">{i18n[data.NAME]}</div>\n        <div className=\"stats\">\n          <Container className=\"w-100\">\n            <div><img src={generateImagePath(props.period, data.TYPE, data.RRD)} alt=\"img\" /></div>\n          </Container>\n        </div>\n      </Container>\n      <div className=\"actions\">\n        <div>\n          <a className=\"link-download\" href={generateImagePath(props.period, data.TYPE, data.RRD)}>\n            {i18n.download}\n            <FontAwesomeIcon icon={faFileDownload} />\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default RRD;","import React, { useEffect, useState } from 'react';\nimport { addControlPanelContentFocusedElement, removeControlPanelContentFocusedElement } from '../../actions/ControlPanelContent/controlPanelContentActions';\nimport { addActiveElement, removeFocusedElement } from '../../actions/MainNavigation/mainNavigationActions';\nimport * as MainNavigation from '../../actions/MainNavigation/mainNavigationActions';\nimport SearchInput from '../../components/MainNav/Toolbar/SearchInput/SearchInput';\nimport Toolbar from '../../components/MainNav/Toolbar/Toolbar';\nimport { getRrdList } from '../../ControlPanelService/RRD';\nimport Spinner from '../../components/Spinner/Spinner';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Timer from '../../components/RRD/Timer/Timer';\nimport RRD from '../../components/RRD/RRD';\nimport './RRDs.scss';\nimport { Helmet } from 'react-helmet';\n\nconst RRDs = props => {\n  const { i18n } = useSelector(state => state.session);\n  const { controlPanelFocusedElement } = useSelector(state => state.controlPanelContent);\n  const { focusedElement } = useSelector(state => state.mainNavigation);\n  const dispatch = useDispatch();\n  const [data, setData] = useState([]);\n  const [state, setState] = useState({\n    period: 'daily',\n    periodI18N: i18n.Daily,\n    time: 15,\n    loading: false,\n    total: 0\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/rrd/'));\n    dispatch(removeFocusedElement());\n    dispatch(removeControlPanelContentFocusedElement());\n    fetchData();\n\n    return () => {\n      dispatch(removeControlPanelContentFocusedElement());\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleContentSelection);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleContentSelection);\n    };\n  }, [controlPanelFocusedElement, focusedElement, data]);\n\n  const handleContentSelection = event => {\n    if (event.keyCode === 38 || event.keyCode === 40) {\n      if (focusedElement) {\n        dispatch(MainNavigation.removeFocusedElement());\n      }\n    }\n\n    if (event.keyCode === 38) {\n      event.preventDefault();\n      handleArrowUp();\n    } else if (event.keyCode === 40) {\n      event.preventDefault();\n      handleArrowDown();\n    }\n  }\n\n  const initFocusedElement = data => {\n    data[0]['FOCUSED'] = data[0]['NAME'];\n    setData(data);\n    dispatch(addControlPanelContentFocusedElement(data[0]['NAME']));\n  }\n\n  const handleArrowDown = () => {\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(data);\n      return;\n    }\n\n    let focusedElementPosition = data.findIndex(pack => pack.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== data.length - 1) {\n      let nextFocusedElement = data[focusedElementPosition + 1];\n      data[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setData(data);\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleArrowUp = () => {\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(data);\n      return;\n    }\n\n    let focusedElementPosition = data.findIndex(pack => pack.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== 0) {\n      let nextFocusedElement = data[focusedElementPosition - 1];\n      data[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setData(data);\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const countDown = () => {\n    if (state.time === 0) {\n      fetchData();\n    } else {\n      setState({ ...state, time: state.time - 1 });\n    }\n  }\n\n  const fetchData = () => {\n    dispatch(removeControlPanelContentFocusedElement());\n\n    setState({ ...state, loading: true });\n\n    getRrdList()\n      .then(result => {\n        setData(reformatData(result.data.data));\n        setState({ ...state, time: 15, loading: false });\n      })\n      .catch(err => console.error(err));\n  }\n\n  const reformatData = data => {\n    let rrds = [];\n\n    for (let i in data) {\n      data[i]['NAME'] = data[i]['TITLE'];\n      data[i]['FOCUSED'] = controlPanelFocusedElement === i;\n      rrds.push(data[i]);\n    }\n\n    return rrds;\n  }\n\n  const rrds = () => {\n    let dataDuplicate = [...data];\n\n    dataDuplicate.forEach(rrd => {\n      rrd.FOCUSED = controlPanelFocusedElement === rrd.NAME;\n    });\n\n    return dataDuplicate.map((item, index) => {\n      return <RRD period={state.period} data={item} key={index} />;\n    });\n  }\n\n  const printPeriods = () => {\n    const periods = [i18n.Daily, i18n.Weekly, i18n.Monthly, i18n.Yearly];\n\n    return periods.map(period => (<div className={periodClass(period)} onClick={() => changePeriod(period)}>{period}</div>));\n  }\n\n  const periodClass = period => {\n    if (state.periodI18N === period) {\n      return \"period active\";\n    } else {\n      return \"period\";\n    }\n  }\n\n  const changePeriod = period => {\n    switch (period) {\n      case i18n.Daily: setState({ ...state, period: 'daily', periodI18N: i18n.Daily, time: 15 }); break;\n      case i18n.Weekly: setState({ ...state, period: 'weekly', periodI18N: i18n.Weekly, time: 15 }); break;\n      case i18n.Monthly: setState({ ...state, period: 'monthly', periodI18N: i18n.Monthly, time: 15 }); break;\n      case i18n.Yearly: setState({ ...state, period: 'yearly', periodI18N: i18n.Yearly, time: 15 }); break;\n      default: break;\n    }\n  }\n\n  return (\n    <div className=\"rrd-list\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.RRD}`}</title>\n      </Helmet>\n      <Toolbar mobile={false}>\n        <div className=\"periods-wrapper\">\n          {printPeriods()}\n          <Timer time={state.time} countDown={countDown} data={state.rrds} />\n        </div>\n        <SearchInput handleSearchTerm={term => props.changeSearchTerm(term)} />\n      </Toolbar>\n      <div className=\"rrd-wrapper\">\n        {state.loading ? <Spinner /> : rrds()}\n      </div>\n    </div>\n  );\n}\n\nexport default RRDs;","import React from 'react';\nimport ListItem from 'src/components/ControlPanel/ListItem/ListItem';\nimport Container from 'src/components/ControlPanel/Container/Container';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useSelector } from 'react-redux';\n\nconst Ban = ({ data, ...props }) => {\n  const { i18n } = useSelector(state => state.session);\n\n  const checkItem = () => {\n    props.checkItem(data.NAME);\n  }\n\n  const handleDelete = () => {\n    props.handleModal(data.delete_confirmation, `/api/v1/delete/firewall/banlist/?ip=${data.NAME}&chain=${data.CHAIN}`);\n  }\n\n  return (\n    <ListItem\n      id={data.NAME}\n      focused={data.FOCUSED}\n      checked={data.isChecked}\n      date={data.DATE}\n      checkItem={checkItem}>\n      <Container className=\"r-col w-85\">\n        <div className=\"stats\">\n          <Container className=\"c-1 w-35\">\n            <div><b>{data.DATE}</b> &nbsp; {data.TIME}</div>\n          </Container>\n          <Container className=\"c-2 w-30\">\n            <div></div>\n          </Container>\n          <Container className=\"c-2 w-30\">\n            <div><b>{data.CHAIN}</b></div>\n          </Container>\n          <Container className=\"c-2 w-30\">\n            <div><b>{data.NAME}</b></div>\n          </Container>\n        </div>\n      </Container>\n      <div className=\"actions\">\n        <div>\n          <button className=\"link-delete\" onClick={() => handleDelete()}>\n            {i18n.Delete}\n            {data.FOCUSED ? <span className=\"shortcut-button del\">Del</span> : <FontAwesomeIcon icon=\"times\" />}\n          </button>\n        </div>\n      </div>\n    </ListItem>\n  );\n}\n\nexport default Ban;","import React, { useEffect, useState } from 'react';\nimport { addControlPanelContentFocusedElement, removeControlPanelContentFocusedElement } from 'src/actions/ControlPanelContent/controlPanelContentActions';\nimport { addActiveElement, removeFocusedElement } from 'src/actions/MainNavigation/mainNavigationActions';\nimport { bulkAction, getBanList, handleAction } from 'src/ControlPanelService/Firewalls';\nimport * as MainNavigation from 'src/actions/MainNavigation/mainNavigationActions';\nimport SearchInput from 'src/components/MainNav/Toolbar/SearchInput/SearchInput';\nimport LeftButton from 'src/components/MainNav/Toolbar/LeftButton/LeftButton';\nimport Checkbox from 'src/components/MainNav/Toolbar/Checkbox/Checkbox';\nimport Select from 'src/components/MainNav/Toolbar/Select/Select';\nimport Toolbar from 'src/components/MainNav/Toolbar/Toolbar';\nimport Modal from 'src/components/ControlPanel/Modal/Modal';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Spinner from 'src/components/Spinner/Spinner';\nimport Ban from 'src/components/Firewall/Ban';\nimport { Helmet } from 'react-helmet';\nimport { useHistory } from 'react-router';\n\nimport './styles.scss';\n\nconst BanLists = props => {\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const { controlPanelFocusedElement } = useSelector(state => state.controlPanelContent);\n  const { focusedElement } = useSelector(state => state.mainNavigation);\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const [modal, setModal] = useState({\n    text: '',\n    visible: false,\n    actionUrl: ''\n  });\n  const [state, setState] = useState({\n    banIps: [],\n    selection: [],\n    toggledAll: false,\n    sorting: i18n.Action,\n    order: \"descending\",\n    totalAmount: ''\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/firewall/'));\n    dispatch(removeFocusedElement());\n    dispatch(removeControlPanelContentFocusedElement());\n    fetchData().then(() => setLoading(false));\n\n    return () => {\n      dispatch(removeControlPanelContentFocusedElement());\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleContentSelection);\n    window.addEventListener(\"keydown\", handleFocusedElementShortcuts);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleContentSelection);\n      window.removeEventListener(\"keydown\", handleFocusedElementShortcuts);\n    };\n  }, [controlPanelFocusedElement, focusedElement, state.banIps]);\n\n  const handleContentSelection = event => {\n    if (event.keyCode === 38 || event.keyCode === 40) {\n      if (focusedElement) {\n        dispatch(MainNavigation.removeFocusedElement());\n      }\n    }\n\n    if (event.keyCode === 38) {\n      event.preventDefault();\n      handleArrowUp();\n    } else if (event.keyCode === 40) {\n      event.preventDefault();\n      handleArrowDown();\n    }\n  }\n\n  const initFocusedElement = banIps => {\n    banIps[0]['FOCUSED'] = banIps[0]['NAME'];\n    setState({ ...state, banIps });\n    dispatch(addControlPanelContentFocusedElement(banIps[0]['NAME']));\n  }\n\n  const handleArrowDown = () => {\n    let banIps = [...state.banIps];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement.NAME === '') {\n      initFocusedElement(banIps);\n      return;\n    }\n\n    let focusedElementPosition = banIps.findIndex(banIp => banIp.NAME === controlPanelFocusedElement.NAME);\n\n    if (focusedElementPosition !== banIps.length - 1) {\n      let nextFocusedElement = banIps[focusedElementPosition + 1];\n      banIps[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, banIps });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleArrowUp = () => {\n    let banIps = [...state.banIps];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement.NAME === '') {\n      initFocusedElement(banIps);\n      return;\n    }\n\n    let focusedElementPosition = banIps.findIndex(banIp => banIp.NAME === controlPanelFocusedElement.NAME);\n\n    if (focusedElementPosition !== 0) {\n      let nextFocusedElement = banIps[focusedElementPosition - 1];\n      banIps[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, banIps });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleFocusedElementShortcuts = event => {\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus');\n\n    if (controlPanelFocusedElement && !isSearchInputFocused) {\n      switch (event.keyCode) {\n        case 8: return handleDelete();\n        default: break;\n      }\n    }\n  }\n\n  const handleDelete = () => {\n    const { banIps } = state;\n    let currentBanIpData = banIps.filter(banIp => banIp.NAME === controlPanelFocusedElement.NAME)[0];\n\n    displayModal(currentBanIpData.delete_conf, controlPanelFocusedElement.delete_url);\n  }\n\n  const fetchData = () => {\n    setLoading(true);\n    return new Promise((resolve, reject) => {\n      getBanList()\n        .then(result => {\n          setState({\n            ...state,\n            banIps: reformatData(result.data.data),\n            totalAmount: result.data.total_amount,\n            toggledAll: false,\n            selection: []\n          });\n          resolve();\n        })\n        .catch(err => console.error(err));\n    });\n  }\n\n  const reformatData = data => {\n    let banIps = [];\n\n    for (let i in data) {\n      data[i]['NAME'] = i;\n      data[i]['FOCUSED'] = controlPanelFocusedElement.NAME === i;\n      banIps.push(data[i]);\n    }\n\n    return banIps;\n  }\n\n  const banIps = () => {\n    let banIps = [...state.banIps];\n\n    banIps.forEach(banIp => {\n      banIp.FOCUSED = controlPanelFocusedElement.NAME === banIp.NAME;\n    });\n\n    return banIps.map((item, index) => {\n      return <Ban data={item} key={index} checkItem={checkItem} handleModal={displayModal} />;\n    });\n  }\n\n  const checkItem = name => {\n    const { selection, banIps } = state;\n    let duplicate = [...selection];\n    let banIpsDuplicate = banIps;\n    let checkedItem = duplicate.indexOf(name);\n\n    let incomingItem = banIpsDuplicate.findIndex(banIp => banIp.NAME === name);\n    banIpsDuplicate[incomingItem].isChecked = !banIpsDuplicate[incomingItem].isChecked;\n\n    if (checkedItem !== -1) {\n      duplicate.splice(checkedItem, 1);\n    } else {\n      duplicate.push(name);\n    }\n\n    setState({ ...state, banIps: banIpsDuplicate, selection: duplicate });\n  }\n\n  const toggleAll = toggled => {\n    if (toggled) {\n      let banIpNames = [];\n\n      let banIps = state.banIps.map(banIp => {\n        banIpNames.push(banIp.NAME);\n        banIp.isChecked = true;\n        return banIp;\n      });\n\n      setState({ ...state, banIps, selection: banIpNames, toggledAll: toggled });\n    } else {\n      let banIps = state.banIps.map(banIp => {\n        banIp.isChecked = false;\n        return banIp;\n      });\n\n      setState({ ...state, banIps, selection: [], toggledAll: toggled });\n    }\n  }\n\n  const bulk = action => {\n    const { selection } = state;\n\n    if (selection.length && action) {\n      bulkAction(action, selection, state.banIps)\n        .then(result => {\n          if (result.status === 200) {\n            toggleAll(false);\n            fetchData().then(() => setLoading(false));\n          }\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const displayModal = (text, actionUrl) => {\n    setModal({ ...modal, visible: !modal.visible, text, actionUrl });\n  }\n\n  const modalConfirmHandler = () => {\n    if (!modal.actionUrl) {\n      return modalCancelHandler();\n    }\n\n    modalCancelHandler();\n    setLoading(true);\n    handleAction(modal.actionUrl)\n      .then(res => {\n        if (res.data.error) {\n          setLoading(false);\n          return displayModal(res.data.error, '');\n        }\n        fetchData().then(() => setLoading(false));\n      })\n      .catch(err => { setLoading(false); console.error(err); });\n  }\n\n  const modalCancelHandler = () => {\n    setModal({ ...modal, visible: !modal.visible, text: '', actionUrl: '' });\n  }\n\n  return (\n    <div className=\"firewalls\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.FIREWALL}`}</title>\n      </Helmet>\n      <Toolbar mobile={false} >\n        <LeftButton href=\"/add/firewall/banlist\" name={i18n['Ban IP Address']} showLeftMenu={true} />\n        <div className=\"r-menu\">\n          <div className=\"input-group input-group-sm\">\n            <Checkbox toggleAll={toggleAll} toggled={state.toggledAll} />\n            <Select list='banList' bulkAction={bulk} />\n            <SearchInput handleSearchTerm={term => props.changeSearchTerm(term)} />\n          </div>\n        </div>\n      </Toolbar>\n      {loading\n        ? <Spinner />\n        : (<>\n          <div className=\"banlist-wrapper\">\n            {banIps()}\n            <div className=\"buttons-wrapper\">\n              <div className=\"total\">{state.totalAmount}</div>\n              <button type=\"button\" className=\"back\" onClick={() => history.push('/list/firewall/')}>{i18n.Back}</button>\n            </div>\n          </div>\n        </>)\n      }\n      <Modal\n        onSave={modalConfirmHandler}\n        onCancel={modalCancelHandler}\n        show={modal.visible}\n        text={modal.text} />\n    </div>\n  );\n}\n\nexport default BanLists;\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Container from '../ControlPanel/Container/Container';\nimport ListItem from '../ControlPanel/ListItem/ListItem';\nimport { Link } from 'react-router-dom';\nimport './WebDomain.scss';\nimport { useSelector } from 'react-redux';\n\nexport default function WebDomain(props) {\n  const { data } = props;\n  const { i18n } = useSelector(state => state.session);\n\n  const printStat = (stat, text) => {\n    if (text === 'no' || text === '') {\n      return <div className=\"crossed\">{stat}</div>;\n    }\n\n    return <div>{stat}: <span className=\"stat\">{text}</span></div>;\n  }\n\n  const toggleFav = (starred) => {\n    if (starred) {\n      props.toggleFav(data.NAME, 'add');\n    } else {\n      props.toggleFav(data.NAME, 'delete');\n    }\n  }\n\n  const checkItem = () => {\n    props.checkItem(data.NAME);\n  }\n\n  const renderProxySupport = () => {\n    if (!data.PROXY_SYSTEM) return;\n\n    if (data.PROXY_SUPPORT === 'no') {\n      printStat(i18n['Proxy Support'], '');\n    } else {\n      printStat(i18n['Proxy Support'], data.PROXY_SUPPORT);\n    }\n  }\n\n  const renderBackedSupport = () => {\n    if (!data.WEB_BACKEND) return;\n\n    if (data.BACKEND_SUPPORT === 'no') {\n      printStat(i18n['Backend Support'] ?? 'Backend Support', '');\n    } else {\n      printStat(i18n['Backend Support'] ?? 'Backend Support', data.BACKEND_SUPPORT);\n    }\n  }\n\n  const handleSuspend = () => {\n    let suspendedStatus = data.SUSPENDED === 'yes' ? 'unsuspend' : 'suspend';\n    props.handleModal(data.spnd_confirmation, `/api/v1/${suspendedStatus}/web/index.php?domain=${data.NAME}`);\n  }\n\n  const handleDelete = () => {\n    props.handleModal(data.delete_confirmation, `/api/v1/delete/web/index.php?domain=${data.NAME}`);\n  }\n\n  return (\n    <ListItem\n      id={data.NAME}\n      checked={data.isChecked}\n      starred={data.STARRED}\n      date={data.DATE}\n      toggleFav={toggleFav}\n      checkItem={checkItem}\n      suspended={data.SUSPENDED === 'yes'}\n      focused={data.FOCUSED} >\n      <Container className=\"r-col w-85\">\n        <div className=\"name\">\n          <div>{data.NAME}</div>\n          <div><span className=\"dns-name-span\">{data.ALIAS.replace(/,/g, ', ')}</span></div>\n        </div>\n        <div>{data.IP}</div>\n        <div className=\"stats\">\n          <Container className=\"c-1 w-25\">\n            <div className=\"bandwidth\">\n              {i18n.Bandwidth}\n              <span><span className=\"stat\">{data.U_BANDWIDTH_SIZE}</span>{data.U_BANDWIDTH_MEASURE}</span>\n              <div className=\"percent\" style={{ width: `${data.U_BANDWIDTH_PERCENT}%` || '0%' }}></div>\n            </div>\n            <div className=\"disk\">\n              {i18n.Disk}: <span><span className=\"stat\">{data.U_DISK_SIZE}</span>{data.U_DISK_MEASURE}</span>\n              <div className=\"percent\" style={{ width: `${data.U_DISK_PERCENT}%` || '0%' }}></div>\n            </div>\n          </Container>\n          <Container className=\"c-2 w-45\">\n            <div>{i18n['Web Template']}: <span className=\"stat\">{data.TPL}</span></div>\n            {data.SSL === 'no'\n              ? printStat(i18n['SSL Support'], '')\n              : printStat(i18n['SSL Support'], data.LETSENCRYPT === 'yes' ? i18n['Lets Encrypt'] : i18n[data.SSL])}\n            {printStat(i18n['Web Statistics'], data.WEB_STATS)}\n          </Container>\n          <Container className=\"c-3 w-35\">\n            {renderProxySupport()}\n            {data.PROXY_SYSTEM && printStat(i18n['Proxy Template'] ?? 'Proxy Template', data.PROXY)}\n            {renderBackedSupport()}\n            {data.WEB_BACKEND && printStat(i18n['Backend Template'] ?? 'Backend Template', data.BACKEND)}\n            {printStat(i18n['Additional FTP Account'], data.FTP)}\n          </Container>\n        </div>\n      </Container>\n      <div className=\"actions\">\n        <div>\n          <Link className=\"link-edit\" to={`/edit/web?domain=${data.NAME}`}>\n            {i18n.edit}\n            {data.FOCUSED ? <span className=\"shortcut-button html-unicode\">&#8617;</span> : <FontAwesomeIcon icon=\"pen\" />}\n          </Link>\n        </div>\n        <div>\n          <Link className=\"link-gray\" to={`/list/web-log?domain=${data.NAME}&type=access`}>\n            {i18n['view logs']}\n            {data.FOCUSED ? <span className=\"shortcut-button\">L</span> : <FontAwesomeIcon icon=\"list\" />}\n          </Link>\n        </div>\n        {\n          data.STATS && (\n            <div>\n              <a className=\"link-gray\" href={`http://${data.NAME}/vstats/`} target=\"_blank\" rel=\"noopener noreferrer\">\n                {i18n['open webstats']}\n                {data.FOCUSED ? <span className=\"shortcut-button\">L</span> : <FontAwesomeIcon icon=\"list\" />}\n              </a>\n            </div>\n          )\n        }\n        <div>\n          <button\n            className=\"link-gray\"\n            onClick={handleSuspend}>\n            {i18n[data.spnd_action]}\n            {data.FOCUSED ? <span className=\"shortcut-button\">S</span> : <FontAwesomeIcon icon={data.SUSPENDED === 'yes' ? 'unlock' : 'lock'} />}\n          </button>\n        </div>\n        <div>\n          <button className=\"link-delete\" onClick={handleDelete}>\n            {i18n.Delete}\n            {data.FOCUSED ? <span className=\"shortcut-button del\">Del</span> : <FontAwesomeIcon icon=\"times\" />}\n          </button>\n        </div>\n      </div>\n    </ListItem>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { addControlPanelContentFocusedElement, removeControlPanelContentFocusedElement } from '../../actions/ControlPanelContent/controlPanelContentActions';\nimport { addActiveElement, removeFocusedElement } from '../../actions/MainNavigation/mainNavigationActions';\nimport DropdownFilter from '../../components/MainNav/Toolbar/DropdownFilter/DropdownFilter';\nimport { bulkAction, getWebList, handleAction } from '../../ControlPanelService/Web';\nimport * as MainNavigation from '../../actions/MainNavigation/mainNavigationActions';\nimport SearchInput from '../../components/MainNav/Toolbar/SearchInput/SearchInput';\nimport { addFavorite, deleteFavorite } from '../../ControlPanelService/Favorites';\nimport LeftButton from '../../components/MainNav/Toolbar/LeftButton/LeftButton';\nimport Checkbox from '../../components/MainNav/Toolbar/Checkbox/Checkbox';\nimport Select from '../../components/MainNav/Toolbar/Select/Select';\nimport Toolbar from '../../components/MainNav/Toolbar/Toolbar';\nimport WebDomain from '../../components/WebDomain/WebDomain';\nimport Spinner from '../../components/Spinner/Spinner';\nimport Modal from '../../components/ControlPanel/Modal/Modal';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Helmet } from 'react-helmet';\nimport './Web.scss';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\nimport { useHistory } from 'react-router-dom';\n\nconst Web = props => {\n  const { i18n } = useSelector(state => state.session);\n  const { controlPanelFocusedElement } = useSelector(state => state.controlPanelContent);\n  const { focusedElement } = useSelector(state => state.mainNavigation);\n  const { panel } = useSelector(state => state.panel);\n  const { userName } = useSelector(state => state.session);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const [modal, setModal] = useState({\n    text: '',\n    visible: false,\n    actionUrl: ''\n  });\n  const [state, setState] = useState({\n    webDomains: [],\n    webFav: [],\n    toggledAll: false,\n    sorting: i18n.Date,\n    order: \"descending\",\n    selection: [],\n    totalAmount: ''\n  });\n\n  useEffect(() => {\n    if (panel[userName]['WEB_DOMAINS'] === '0') {\n      return history.push('/');\n    }\n\n    dispatch(addActiveElement('/list/web/'));\n    dispatch(removeFocusedElement());\n    dispatch(removeControlPanelContentFocusedElement());\n    fetchData().then(() => setLoading(false));\n\n    return () => {\n      dispatch(removeControlPanelContentFocusedElement());\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleContentSelection);\n    window.addEventListener(\"keydown\", handleFocusedElementShortcuts);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleContentSelection);\n      window.removeEventListener(\"keydown\", handleFocusedElementShortcuts);\n    };\n  }, [controlPanelFocusedElement, focusedElement, state.webDomains]);\n\n  const handleContentSelection = event => {\n    if (event.keyCode === 38 || event.keyCode === 40) {\n      if (focusedElement) {\n        dispatch(MainNavigation.removeFocusedElement());\n      }\n    }\n\n    if (event.keyCode === 38) {\n      event.preventDefault();\n      handleArrowUp();\n    } else if (event.keyCode === 40) {\n      event.preventDefault();\n      handleArrowDown();\n    }\n  }\n\n  const initFocusedElement = webDomains => {\n    webDomains[0]['FOCUSED'] = webDomains[0]['NAME'];\n    setState({ ...state, webDomains });\n    dispatch(addControlPanelContentFocusedElement(webDomains[0]['NAME']));\n  }\n\n  const handleArrowDown = () => {\n    let webDomains = [...state.webDomains];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(webDomains);\n      return;\n    }\n\n    let focusedElementPosition = webDomains.findIndex(webDomain => webDomain.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== webDomains.length - 1) {\n      let nextFocusedElement = webDomains[focusedElementPosition + 1];\n      webDomains[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, webDomains });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleArrowUp = () => {\n    let webDomains = [...state.webDomains];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(webDomains);\n      return;\n    }\n\n    let focusedElementPosition = webDomains.findIndex(webDomain => webDomain.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== 0) {\n      let nextFocusedElement = webDomains[focusedElementPosition - 1];\n      webDomains[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, webDomains });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleFocusedElementShortcuts = event => {\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus');\n\n    if (controlPanelFocusedElement && !isSearchInputFocused) {\n      switch (event.keyCode) {\n        case 76: return handleLogs();\n        case 83: return handleSuspend();\n        case 8: return handleDelete();\n        case 13: return handleEdit();\n        default: break;\n      }\n    }\n  }\n\n  const handleLogs = () => {\n    props.history.push(`/list/web-log?domain=${controlPanelFocusedElement}&type=access`);\n  }\n\n  const handleEdit = () => {\n    props.history.push(`/edit/web?domain=${controlPanelFocusedElement}`);\n  }\n\n  const handleSuspend = () => {\n    const { webDomains } = state;\n    let currentWebDomainData = webDomains.filter(webDomain => webDomain.NAME === controlPanelFocusedElement)[0];\n    let suspendedStatus = currentWebDomainData.SUSPENDED === 'yes' ? 'unsuspend' : 'suspend';\n\n    displayModal(currentWebDomainData.spnd_confirmation, `/api/v1/${suspendedStatus}/web/index.php?domain=${controlPanelFocusedElement}`);\n  }\n\n  const handleDelete = () => {\n    const { webDomains } = state;\n    let currentWebDomainData = webDomains.filter(webDomain => webDomain.NAME === controlPanelFocusedElement)[0];\n\n    displayModal(currentWebDomainData.delete_confirmation, `/api/v1/web/index.php?domain=${controlPanelFocusedElement}`);\n  }\n\n  const fetchData = () => {\n    setLoading(true);\n    return new Promise((resolve, reject) => {\n      getWebList()\n        .then(result => {\n          setState({\n            ...state,\n            webDomains: reformatData(result.data.data),\n            webFav: result.data.webFav,\n            totalAmount: result.data.totalAmount,\n            toggledAll: false,\n            selection: []\n          });\n          resolve();\n        })\n        .catch(err => console.error(err));\n    });\n  }\n\n  const changeSorting = (sorting, order) => {\n    setState({\n      ...state,\n      sorting,\n      order\n    });\n  }\n\n  const reformatData = data => {\n    let webDomains = [];\n\n    for (let i in data) {\n      data[i]['NAME'] = i;\n      data[i]['FOCUSED'] = controlPanelFocusedElement === i;\n      webDomains.push(data[i]);\n    }\n\n    return webDomains;\n  }\n\n  const webDomains = () => {\n    const webFav = { ...state.webFav };\n    let webDomains = [...state.webDomains];\n\n    webDomains.forEach(webDomain => {\n      webDomain.FOCUSED = controlPanelFocusedElement === webDomain.NAME;\n\n      if (webFav[webDomain.NAME]) {\n        webDomain.STARRED = webFav[webDomain.NAME];\n      } else {\n        webDomain.STARRED = 0;\n      }\n    });\n\n    let sortedResult = sortArray(webDomains);\n\n    return sortedResult.map((item, index) => {\n      return <WebDomain data={item} key={index} toggleFav={toggleFav} checkItem={checkItem} handleModal={displayModal} />;\n    });\n  }\n\n  const checkItem = name => {\n    let duplicate = [...state.selection];\n    let webDomainsDuplicate = state.webDomains;\n    let checkedItem = duplicate.indexOf(name);\n\n    let incomingItem = webDomainsDuplicate.findIndex(webDomain => webDomain.NAME === name);\n    webDomainsDuplicate[incomingItem].isChecked = !webDomainsDuplicate[incomingItem].isChecked;\n\n    if (checkedItem !== -1) {\n      duplicate.splice(checkedItem, 1);\n    } else {\n      duplicate.push(name);\n    }\n\n    setState({ ...state, webDomains: webDomainsDuplicate, selection: duplicate });\n  }\n\n  const sortArray = array => {\n    let sortingColumn = sortBy(state.sorting);\n\n    if (state.order === \"descending\") {\n      return array.sort((a, b) => (a[sortingColumn] < b[sortingColumn]) ? 1 : ((b[sortingColumn] < a[sortingColumn]) ? -1 : 0));\n    } else {\n      return array.sort((a, b) => (a[sortingColumn] > b[sortingColumn]) ? 1 : ((b[sortingColumn] > a[sortingColumn]) ? -1 : 0));\n    }\n  }\n\n  const sortBy = sorting => {\n    const { Date: date, Domain, Disk, Bandwidth, Starred } = i18n;\n\n    switch (sorting) {\n      case date: return 'DATE';\n      case Domain: return 'ALIAS';\n      case i18n['IP Addresses']: return 'IP';\n      case Disk: return 'U_DISK';\n      case Bandwidth: return 'U_BANDWIDTH';\n      case Starred: return 'STARRED';\n      default: break;\n    }\n  }\n\n  const toggleFav = (value, type) => {\n    let webFavDuplicate = state.webFav;\n\n    if (type === 'add') {\n      webFavDuplicate[value] = 1;\n\n      addFavorite(value, 'web')\n        .then(() => {\n          setState({ ...state, webFav: webFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    } else {\n      webFavDuplicate[value] = undefined;\n\n      deleteFavorite(value, 'web')\n        .then(() => {\n          setState({ ...state, webFav: webFavDuplicate });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    }\n  }\n\n  const toggleAll = toggled => {\n    const webDomainsDuplicate = [...state.webDomains];\n\n    if (toggled) {\n      let webDomainNames = [];\n\n      let webDomains = webDomainsDuplicate.map(webDomain => {\n        webDomainNames.push(webDomain.NAME);\n        webDomain.isChecked = true;\n        return webDomain;\n      });\n\n      setState({ ...state, webDomains, selection: webDomainNames, toggledAll: toggled });\n    } else {\n      let webDomains = webDomainsDuplicate.map(webDomain => {\n        webDomain.isChecked = false;\n        return webDomain;\n      });\n\n      setState({ ...state, webDomains, selection: [], toggledAll: toggled });\n    }\n  }\n\n  const bulk = action => {\n    if (state.selection.length && action) {\n      setLoading(true);\n      bulkAction(action, state.selection)\n        .then(result => {\n          toggleAll(false);\n          fetchData().then(() => refreshMenuCounters());\n        })\n        .catch(err => console.error(err));\n    }\n  }\n\n  const displayModal = (text, url) => {\n    setModal({\n      ...modal,\n      visible: true,\n      text,\n      actionUrl: url\n    });\n  }\n\n  const modalConfirmHandler = () => {\n    if (!modal.actionUrl) {\n      return modalCancelHandler();\n    }\n\n    modalCancelHandler();\n    setLoading(true);\n    handleAction(modal.actionUrl)\n      .then(res => {\n        if (res.data.error) {\n          setLoading(false);\n          return displayModal(res.data.error, '');\n        }\n        fetchData().then(() => refreshMenuCounters())\n      })\n      .catch(err => { setLoading(false); console.error(err); });\n  }\n\n  const refreshMenuCounters = () => {\n    dispatch(refreshCounters()).then(() => setLoading(false));\n  }\n\n  const modalCancelHandler = () => {\n    setModal({\n      ...modal,\n      visible: false,\n      text: '',\n      actionUrl: ''\n    });\n  }\n\n  return (\n    <div className=\"web\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.WEB}`}</title>\n      </Helmet>\n      <Toolbar mobile={false} >\n        <LeftButton name={i18n['Add Web Domain']} href=\"/add/web/\" showLeftMenu={true} />\n        <div className=\"r-menu\">\n          <div className=\"input-group input-group-sm\">\n            <Checkbox toggleAll={toggleAll} toggled={state.toggledAll} />\n            <Select list='webList' bulkAction={bulk} />\n            <DropdownFilter changeSorting={changeSorting} sorting={state.sorting} order={state.order} list=\"webList\" />\n            <SearchInput handleSearchTerm={term => props.changeSearchTerm(term)} />\n          </div>\n        </div>\n      </Toolbar>\n      <div className=\"web-domains-wrapper\">\n        {loading\n          ? <Spinner />\n          : (\n            <>\n              {webDomains()}\n              <div className=\"total\">{state.totalAmount}</div>\n            </>\n          )\n        }\n      </div>\n      <Modal\n        onSave={modalConfirmHandler}\n        onCancel={modalCancelHandler}\n        show={modal.visible}\n        text={modal.text} />\n    </div>\n  );\n}\n\nexport default Web;","import axios from \"axios\";\nimport { getAuthToken } from \"src/utils/token\";\n\nconst BASE_URL = window.location.origin;\nconst webApiUri = '/api/v1/search/';\n\nexport const getSearchResultsList = term => {\n  return axios.get(BASE_URL + webApiUri + '?q=' + term);\n}\n\nexport const handleAction = uri => {\n  return axios.get(BASE_URL + uri, {\n    params: {\n      token: getAuthToken()\n    }\n  });\n}\n","import React from 'react';\nimport { loginAs, logout } from 'src/actions/Session/sessionActions';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Container from '../ControlPanel/Container/Container';\nimport ListItem from '../ControlPanel/ListItem/ListItem';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useHistory } from 'react-router-dom';\nimport './SearchItem.scss';\n\nconst SearchItem = ({ data, handleModal }) => {\n  const { i18n, userName } = useSelector(state => state.session);\n  const dispatch = useDispatch();\n  const history = useHistory()\n\n  const signInAs = user => {\n    dispatch(loginAs(user)).then(() => history.push('/'));\n  }\n\n  const signOut = () => {\n    dispatch(logout()).then(() => history.push('/'));\n  }\n\n  const handleDelete = () => {\n    handleModal(data.delete_confirmation, `/api/v1/${data.TYPE === 'user' ? `/api/v1/delete/user/index.php?user=${data.USER}` : data.delete_link}`);\n  }\n\n  const handleSuspend = () => {\n    handleModal(data.spnd_confirmation, `/api/v1/${data.TYPE === 'user' ? `${data.spnd_action}/user/index.php?user=${data.USER}` : data.spnd_link}`);\n  }\n\n  const printLoginActionButton = () => {\n    if (data.TYPE !== 'user') return;\n\n    if (userName === data.USER) {\n      return (\n        <div>\n          <button onClick={signOut}>{i18n['Log out']}\n            {data.FOCUSED ? <span className=\"shortcut-button\">L</span> : <FontAwesomeIcon icon=\"user-lock\" />}\n          </button>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <button onClick={() => signInAs(data.USER)}>{i18n['login as']} {data.USER}\n            {data.FOCUSED ? <span className=\"shortcut-button\">L</span> : <FontAwesomeIcon icon=\"user-lock\" />}\n          </button>\n        </div>\n      );\n    }\n  }\n\n  return (\n    <ListItem date={data.DATE} suspended={data.SUSPENDED === 'yes'}>\n      <Container className=\"search-list r-col w-85\">\n        <div className=\"name\">{data.RESULT}</div>\n        <div className=\"stats\">\n          <Container className=\"c-1\">\n            <div className=\"object\">{data.TYPE === 'user' ? i18n['USER'] : i18n[data.object]}</div>\n          </Container>\n          <Container className=\"c-2\">\n            <div className=\"owner\">{i18n.Owner}: <span>{data.USER}</span></div>\n          </Container>\n          <Container className=\"c-3\">\n            <div className=\"status\">{i18n.Status}: <span>{data.status}</span></div>\n          </Container>\n        </div>\n      </Container>\n      <div className=\"actions\">\n        {printLoginActionButton()}\n        <div><Link className=\"link-edit\" to={data.edit_link}>{i18n.edit} <FontAwesomeIcon icon=\"pen\" /></Link></div>\n        <div>\n          <button\n            className=\"link-gray\"\n            onClick={handleSuspend}>\n            {data.spnd_action}\n            <FontAwesomeIcon icon={data.SUSPENDED === 'yes' ? 'unlock' : 'lock'} />\n          </button>\n        </div>\n        <div>\n          <button\n            className=\"link-delete\"\n            onClick={handleDelete}>\n            {i18n.Delete}\n            <FontAwesomeIcon icon=\"times\" />\n          </button>\n        </div>\n      </div>\n    </ListItem>\n  );\n}\n\nexport default SearchItem;\n","import React, { Component, useEffect, useState } from 'react';\nimport DropdownFilter from '../../components/MainNav/Toolbar/DropdownFilter/DropdownFilter';\nimport { getSearchResultsList, handleAction } from '../../ControlPanelService/Search';\nimport SearchInput from '../../components/MainNav/Toolbar/SearchInput/SearchInput';\nimport SearchItem from '../../components/Searchitem/SearchItem';\nimport Toolbar from '../../components/MainNav/Toolbar/Toolbar';\nimport Modal from '../../components/ControlPanel/Modal/Modal';\nimport Spinner from '../../components/Spinner/Spinner';\nimport './Search.scss';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { refreshCounters } from 'src/actions/MenuCounters/menuCounterActions';\n\nconst Search = props => {\n  const { i18n } = useSelector(state => state.session);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const [state, setState] = useState({\n    searchResults: [],\n    totalAmount: '',\n    sorting: i18n.Date,\n    order: \"descending\",\n    total: 0\n  });\n  const [modal, setModal] = useState({\n    visible: false,\n    text: '',\n    actionUrl: ''\n  });\n\n  useEffect(() => {\n    const { search } = history.location;\n\n    if (search) {\n      let searchTerm = search.split('=')[1];\n\n      if (searchTerm !== '') {\n        fetchData(searchTerm).then(() => setLoading(false));\n      } else {\n        return history.push({ pathname: '/list/user/', search: '' });\n      }\n    } else if (props.searchTerm !== '') {\n      fetchData(props.searchTerm).then(() => setLoading(false));\n    } else {\n      return history.push({ pathname: '/list/user/', search: '' });\n    }\n  }, []);\n\n  const fetchData = searchTerm => {\n    setLoading(true);\n    return new Promise((resolve, reject) => {\n      getSearchResultsList(searchTerm)\n        .then(result => {\n          setState({\n            ...state,\n            searchResults: result.data.data,\n            totalAmount: result.data.total\n          });\n          resolve();\n        })\n        .catch(err => console.error(err));\n    });\n  }\n\n  const searchResults = () => {\n    const { searchResults } = state;\n    const result = [];\n\n    for (let i in searchResults) {\n      result.push(searchResults[i]);\n    }\n\n    let sortedResult = sortArray(result);\n\n    return sortedResult.map((item, index) => {\n      return <SearchItem data={item} key={index} handleModal={displayModal} />;\n    });\n  }\n\n  const changeSorting = (sorting, order) => {\n    setState({\n      ...state,\n      sorting,\n      order\n    });\n  }\n\n  const sortArray = array => {\n    const { order, sorting } = state;\n    let sortBy = sortByHandler(sorting);\n\n    if (order === \"descending\") {\n      return array.sort((a, b) => (a[sortBy] < b[sortBy]) ? 1 : ((b[sortBy] < a[sortBy]) ? -1 : 0));\n    } else {\n      return array.sort((a, b) => (a[sortBy] > b[sortBy]) ? 1 : ((b[sortBy] > a[sortBy]) ? -1 : 0));\n    }\n  }\n\n  const sortByHandler = sorting => {\n    const { Date, Name, Starred } = i18n;\n\n    switch (sorting) {\n      case Date: return 'DATE';\n      case Name: return 'RESULT';\n      default: break;\n    }\n  }\n\n  const displayModal = (text, url) => {\n    setModal({\n      ...modal,\n      visible: !modal.visible,\n      text,\n      actionUrl: url\n    });\n  }\n\n  const modalConfirmHandler = () => {\n    if (!modal.actionUrl) {\n      return modalCancelHandler();\n    }\n\n    modalCancelHandler();\n    setLoading(true);\n    handleAction(modal.actionUrl)\n      .then(res => {\n        if (res.data.error) {\n          setLoading(false);\n          return displayModal(res.data.error, '');\n        }\n        fetchData().then(() => refreshMenuCounters())\n      })\n      .catch(err => { setLoading(false); console.error(err); });\n  }\n\n  const refreshMenuCounters = () => {\n    dispatch(refreshCounters()).then(() => setLoading(false));\n  }\n\n  const modalCancelHandler = () => {\n    setModal({\n      ...modal,\n      visible: false,\n      text: '',\n      actionUrl: ''\n    });\n  }\n\n  return (\n    <div className=\"logs-list\">\n      <Toolbar mobile={false}>\n        <div className=\"search-toolbar-name\">{i18n['Search Results']}</div>\n        <div className=\"search-toolbar-right\">\n          <DropdownFilter changeSorting={changeSorting} sorting={state.sorting} order={state.order} list=\"searchList\" />\n          <SearchInput handleSearchTerm={term => props.changeSearchTerm(term)} />\n        </div>\n      </Toolbar>\n      <div className=\"statistics-wrapper\">\n        {loading\n          ? <Spinner />\n          : (<>\n            {searchResults()}\n            <div className=\"total\">{state.totalAmount}</div>\n          </>)}\n      </div>\n      <Modal\n        onSave={modalConfirmHandler}\n        onCancel={modalCancelHandler}\n        show={modal.visible}\n        text={modal.text} />\n    </div>\n  );\n}\n\nexport default Search;\n","import axios from \"axios\";\n\nconst BASE_URL = window.location.origin;\nconst webApiUri = '/api/v1/list/log/index.php';\n\nexport const getLogsList = () => {\n  return axios.get(BASE_URL + webApiUri);\n}","import React from 'react';\nimport Container from '../ControlPanel/Container/Container';\nimport './Log.scss';\n\nconst Log = props => {\n  const { data } = props;\n\n  const printDate = date => {\n    let newDate = new Date(date);\n    let day = newDate.getDate();\n    let month = newDate.getMonth();\n    let year = newDate.getFullYear();\n    let months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n\n    return <div className=\"date\">{day} &nbsp; {months[month]} &nbsp; {year}</div>;\n  }\n\n  return (\n    <div className={data.FOCUSED ? 'statistic-item focused' : 'statistic-item'} id={data.NAME}>\n      <Container className=\"l-col w-15\">\n        {printDate(data.DATE)}\n        {data.TIME}\n      </Container>\n      <Container className=\"r-col w-85\">\n        <div className=\"name\">{data.CMD}</div>\n      </Container>\n    </div>\n  );\n}\n\nexport default Log;","import React, { useEffect, useState } from 'react';\nimport { addControlPanelContentFocusedElement, removeControlPanelContentFocusedElement } from '../../actions/ControlPanelContent/controlPanelContentActions';\nimport { addActiveElement, removeFocusedElement } from '../../actions/MainNavigation/mainNavigationActions';\nimport * as MainNavigation from '../../actions/MainNavigation/mainNavigationActions';\nimport SearchInput from '../../components/MainNav/Toolbar/SearchInput/SearchInput';\nimport LeftButton from '../../components/MainNav/Toolbar/LeftButton/LeftButton';\nimport Toolbar from '../../components/MainNav/Toolbar/Toolbar';\nimport { getLogsList } from '../../ControlPanelService/Logs';\nimport Spinner from '../../components/Spinner/Spinner';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Log from '../../components/Log/Log';\nimport './Logs.scss';\nimport { Helmet } from 'react-helmet';\n\nconst Logs = props => {\n  const { i18n } = useSelector(state => state.session);\n  const { controlPanelFocusedElement } = useSelector(state => state.controlPanelContent);\n  const { focusedElement } = useSelector(state => state.mainNavigation);\n  const dispatch = useDispatch();\n  const [state, setState] = useState({\n    logs: [],\n    totalAmount: '',\n    loading: false,\n    total: 0\n  });\n\n  useEffect(() => {\n    dispatch(addActiveElement('/list/log/'));\n    dispatch(removeFocusedElement());\n    dispatch(removeControlPanelContentFocusedElement());\n    fetchData();\n\n    return () => {\n      dispatch(removeControlPanelContentFocusedElement());\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleContentSelection);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleContentSelection);\n    };\n  }, [controlPanelFocusedElement, focusedElement, state.logs]);\n\n  const handleContentSelection = event => {\n    if (event.keyCode === 38 || event.keyCode === 40) {\n      if (focusedElement) {\n        dispatch(MainNavigation.removeFocusedElement());\n      }\n    }\n\n    if (event.keyCode === 38) {\n      event.preventDefault();\n      handleArrowUp();\n    } else if (event.keyCode === 40) {\n      event.preventDefault();\n      handleArrowDown();\n    }\n  }\n\n  const initFocusedElement = logs => {\n    logs[0]['FOCUSED'] = logs[0]['NAME'];\n    setState({ ...state, logs });\n    dispatch(addControlPanelContentFocusedElement(logs[0]['NAME']));\n  }\n\n  const handleArrowDown = () => {\n    let logs = [...state.logs];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(logs);\n      return;\n    }\n\n    let focusedElementPosition = logs.findIndex(log => log.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== logs.length - 1) {\n      let nextFocusedElement = logs[focusedElementPosition + 1];\n      logs[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, logs });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const handleArrowUp = () => {\n    let logs = [...state.logs];\n\n    if (focusedElement) {\n      MainNavigation.removeFocusedElement();\n    }\n\n    if (controlPanelFocusedElement === '') {\n      initFocusedElement(logs);\n      return;\n    }\n\n    let focusedElementPosition = logs.findIndex(log => log.NAME === controlPanelFocusedElement);\n\n    if (focusedElementPosition !== 0) {\n      let nextFocusedElement = logs[focusedElementPosition - 1];\n      logs[focusedElementPosition]['FOCUSED'] = '';\n      nextFocusedElement['FOCUSED'] = nextFocusedElement['NAME'];\n      document.getElementById(nextFocusedElement['NAME']).scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setState({ ...state, logs });\n      dispatch(addControlPanelContentFocusedElement(nextFocusedElement['NAME']));\n    }\n  }\n\n  const fetchData = () => {\n    setState({ ...state, loading: true });\n\n    getLogsList()\n      .then(result => {\n        setState({\n          logs: reformatData(result.data.data),\n          totalAmount: result.data.totalAmount,\n          loading: false\n        });\n      })\n      .catch(err => console.error(err));\n  }\n\n  const reformatData = data => {\n    let logs = [];\n\n    for (let i in data) {\n      data[i]['NAME'] = i;\n      data[i]['FOCUSED'] = controlPanelFocusedElement === i;\n      logs.push(data[i]);\n    }\n\n    return logs;\n  }\n\n  const logs = () => {\n    let logs = [...state.logs];\n\n    logs.forEach(log => {\n      log.FOCUSED = controlPanelFocusedElement === log.NAME;\n    });\n\n    return logs.map((item, index) => {\n      return <Log data={item} key={index} />;\n    });\n  }\n\n  return (\n    <div className=\"logs-list\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.LOG}`}</title>\n      </Helmet>\n      <Toolbar mobile={false} className=\"justify-right\">\n        <LeftButton name=\"Add Cron Job\" showLeftMenu={false} />\n        <div className=\"r-menu\">\n          <div className=\"input-group input-group-sm\">\n            <SearchInput handleSearchTerm={term => props.changeSearchTerm(term)} />\n          </div>\n        </div>\n      </Toolbar>\n      <div className=\"logs-wrapper\">\n        {state.loading ? <Spinner /> : logs()}\n      </div>\n      <div className=\"total\">{state.totalAmount}</div>\n    </div>\n  );\n}\n\nexport default Logs;","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addActiveElement, removeFocusedElement } from \"../../actions/MainNavigation/mainNavigationActions\";\nimport EditInternetProtocol from '../../components/InternetProtocol/Edit/EditInternetProtocol';\nimport AddInternetProtocol from '../../components/InternetProtocol/Add/AddInternetProtocol';\nimport EditServerNginx from 'src/components/Server/Edit/Nginx/EditServerNginx';\nimport Postgresql from 'src/components/Server/Edit/Postgresql/Postgresql';\nimport EditBackupExclusions from 'src/components/Backup/Exclusion/Edit';\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\nimport InternetProtocols from '../InternetProtocols/InternetProtocols';\nimport AddWebDomain from '../../components/WebDomain/Add/AddWebDomain';\nimport EditDatabase from '../../components/Database/Edit/EditDatabase';\nimport EditFirewall from '../../components/Firewall/Edit/EditFirewall';\nimport Hotkeys from '../../components/ControlPanel/Hotkeys/Hotkeys';\nimport AddDatabase from '../../components/Database/Add/AddDatabase';\nimport AddFirewall from '../../components/Firewall/Add/AddFirewall';\nimport EditCronJob from '../../components/CronJob/Edit/EditCronJob';\nimport EditPackage from '../../components/Package/Edit/EditPackage';\nimport EditHttpd from 'src/components/Server/Edit/Httpd/EditHttpd';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport AddCronJob from '../../components/CronJob/Add/AddCronJob';\nimport AddPackage from '../../components/Package/Add/AddPackage';\nimport EditServer from '../../components/Server/Edit/EditServer';\nimport Dovecot from 'src/components/Server/Edit/Dovecot/Dovecot';\nimport EditMailWrapper from '../EditMailWrapper/EditMailWrapper';\nimport Service from 'src/components/Server/Edit/Service/Service';\nimport AddMailWrapper from '../AddMailWrapper/AddMailWrapper';\nimport EditDNSWrapper from '../EditDNSWrapper/EditDNSWrapper';\nimport EditWeb from '../../components/WebDomain/Edit/EditWeb';\nimport EditPhp from 'src/components/Server/Edit/PHP/EditPhp';\nimport Databases from '../../containers/Databases/Databases';\nimport Firewalls from '../../containers/Firewalls/Firewalls';\nimport EditUser from '../../components/User/Edit/EditUser';\nimport Bind9 from 'src/components/Server/Edit/Bind9/Bind9';\nimport Mysql from 'src/components/Server/Edit/Mysql/Mysql';\nimport AddDNSWrapper from '../AddDNSWrapper/AddDNSWrapper';\nimport BackupWrapper from '../BackupWrapper/BackupWrapper';\nimport AddBanIP from 'src/components/Firewall/Add/Banlist';\nimport CronJobs from '../../containers/CronJobs/CronJobs';\nimport Packages from '../../containers/Packages/Packages';\nimport { services } from 'src/ControlPanelService/Server';\nimport AddUser from '../../components/User/Add/AddUser';\nimport Updates from '../../containers/Updates/Updates';\nimport Servers from '../../containers/Servers/Servers';\nimport MainNav from '../../components/MainNav/MainNav';\nimport BackupExclusions from '../Backups/Exclusions';\nimport MailWrapper from '../MailWrapper/MailWrapper';\nimport Spinner from 'src/components/Spinner/Spinner';\nimport DNSWrapper from '../DNSWrapper/DNSWrapper';\nimport Statistics from '../Statistics/Statistics';\nimport Users from '../../containers/Users/Users';\nimport RRDs from '../../containers/RRDs/RRDs';\nimport BanList from '../Firewalls/Banlist';\nimport Web from '../../containers/Web/Web';\nimport Search from '../Search/Search';\nimport Logs from '../Logs/Logs';\n\nimport './ControlPanelContent.scss';\n\nconst ControlPanelContent = props => {\n  const { userName } = useSelector(state => state.session);\n  const history = useHistory();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [hotkeysList, setHotkeysList] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!userName) {\n      return history.push('/login');\n    } else {\n      setLoading(false);\n    }\n  }, [userName]);\n\n  useEffect(() => {\n    dispatch(removeFocusedElement());\n    window.addEventListener(\"keyup\", switchPanelTab);\n    window.addEventListener(\"keyup\", addNewObject);\n\n    return () => {\n      window.removeEventListener(\"keyup\", switchPanelTab);\n      window.removeEventListener(\"keyup\", addNewObject);\n    }\n  }, []);\n\n  const switchPanelTab = event => {\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus');\n\n    if (isSearchInputFocused) {\n      return;\n    }\n\n    switch (event.keyCode) {\n      case 49: return history.push('/list/user/');\n      case 50: return history.push('/list/web/');\n      case 51: return history.push('/list/dns/');\n      case 52: return history.push('/list/mail/');\n      case 53: return history.push('/list/db/');\n      case 54: return history.push('/list/cron/');\n      case 55: return history.push('/list/backup/');\n      default: break;\n    }\n  }\n\n  const addNewObject = event => {\n    let isSearchInputFocused = document.querySelector('input:focus') || document.querySelector('textarea:focus');\n\n    if (isSearchInputFocused) {\n      return;\n    }\n\n    if (event.keyCode === 65) {\n      switch (history.location.pathname) {\n        case '/list/web/': return history.push('/add/web/');\n        case '/list/dns/': return history.push('/add/dns/');\n        case '/list/mail/': return history.push('/add/mail/');\n        case '/list/db/': return history.push('/add/db/');\n        case '/list/cron/': return history.push('/add/cron/');\n        case '/list/backup/exclusions': return history.push('/edit/backup/exclusions/');\n        case '/list/package/': return history.push('/add/package/');\n        case '/list/ip/': return history.push('/add/ip/');\n        case '/list/firewall/': return history.push('/add/firewall/');\n        default: break;\n      }\n    }\n  }\n\n  const handleSearchTerm = searchTerm => {\n    setSearchTerm(searchTerm);\n    history.push({\n      pathname: '/search/',\n      search: `?q=${searchTerm}`\n    });\n  }\n\n  const scrollToTop = () => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }\n\n  return (\n    <div>\n      <MainNav />\n      <div className=\"content\">\n        {\n          loading\n            ? <Spinner />\n            : (\n              <Switch>\n                <Redirect from=\"/\" exact to=\"/list/user/\" />\n                <Route path=\"/list/package\" component={props => <Packages {...props} changeSearchTerm={handleSearchTerm} />} />\n                <Route path=\"/add/package\" component={() => <AddPackage />} />\n                <Route path=\"/edit/package\" component={() => <EditPackage />} />\n                <Route path=\"/list/ip\" component={props => <InternetProtocols {...props} changeSearchTerm={handleSearchTerm} />} />\n                <Route path=\"/add/ip\" component={() => <AddInternetProtocol />} />\n                <Route path=\"/edit/ip\" component={() => <EditInternetProtocol />} />\n                <Route path=\"/list/rrd\" component={props => <RRDs {...props} changeSearchTerm={handleSearchTerm} />} />\n                <Route path=\"/list/stats\" component={props => <Statistics {...props} changeSearchTerm={handleSearchTerm} />} />\n                <Route path=\"/list/log\" component={props => <Logs {...props} changeSearchTerm={handleSearchTerm} />} />\n                <Route path=\"/list/updates\" component={props => <Updates {...props} changeSearchTerm={handleSearchTerm} />} />\n                <Route path=\"/list/firewall\" exact component={props => <Firewalls {...props} changeSearchTerm={handleSearchTerm} />} />\n                <Route path=\"/list/firewall/banlist\" exact component={props => <BanList {...props} changeSearchTerm={handleSearchTerm} />} />\n                <Route path=\"/add/firewall/banlist\" component={AddBanIP} />\n                <Route path=\"/add/firewall\" component={() => <AddFirewall />} />\n                <Route path=\"/edit/firewall\" component={() => <EditFirewall />} />\n                <Route path=\"/list/server/\" exact component={props => <Servers {...props} changeSearchTerm={handleSearchTerm} />} />\n                <Route path=\"/edit/server/\" exact component={() => <EditServer />} />\n                <Route path=\"/edit/server/nginx\" exact component={() => <EditServerNginx />} />\n                <Route path=\"/edit/server/php\" exact component={() => <EditPhp serviceName=\"php\" />} />\n                <Route path=\"/edit/server/php-fpm\" exact component={() => <EditPhp serviceName=\"php-fpm\" />} />\n                <Route path=\"/edit/server/php5-fpm\" exact component={() => <EditPhp serviceName=\"php5-fpm\" />} />\n                <Route path=\"/edit/server/httpd\" exact component={() => <EditHttpd />} />\n                <Route path=\"/edit/server/dovecot\" exact component={() => <Dovecot />} />\n                <Route path=\"/edit/server/bind9\" exact component={() => <Bind9 />} />\n                <Route path=\"/edit/server/postgresql\" exact component={() => <Postgresql />} />\n                <Route path=\"/edit/server/mysql\" exact component={() => <Mysql serviceName=\"mysql\" />} />\n                <Route path=\"/edit/server/mariadb\" exact component={() => <Mysql serviceName=\"mariadb\" />} />\n                <Route path=\"/edit/server/mysqld\" exact component={() => <Mysql serviceName=\"mysqld\" />} />\n\n                {\n                  !!services.length && services.map((service, index) => {\n                    if (service === 'iptables') {\n                      return <Redirect key={index} from=\"/edit/server/iptables\" exact to=\"/list/firewall\" />\n                    } else {\n                      return <Route key={index} path={`/edit/server/${service}`} exact component={() => <Service serviceName={service} />} />\n                    }\n                  })\n                }\n\n                <Route path=\"/list/user\" component={props => <Users changeSearchTerm={handleSearchTerm} {...props} />} />\n                <Route path=\"/add/user\" component={() => <AddUser />} />\n                <Route path=\"/edit/user\" component={() => <EditUser />} />\n                <Route path=\"/list/web\" component={props => <Web {...props} changeSearchTerm={handleSearchTerm} />} />\n                <Route path=\"/add/web\" component={() => <AddWebDomain />} />\n                <Route path=\"/edit/web\" component={() => <EditWeb />} />\n                <Route path=\"/list/dns\" component={props => <DNSWrapper {...props} changeSearchTerm={handleSearchTerm} />} />\n                <Route path=\"/add/dns\" component={() => <AddDNSWrapper />} />\n                <Route path=\"/edit/dns\" component={() => <EditDNSWrapper />} />\n                <Route path=\"/list/mail\" component={props => <MailWrapper {...props} changeSearchTerm={handleSearchTerm} />} />\n                <Route path=\"/add/mail\" component={() => <AddMailWrapper />} />\n                <Route path=\"/edit/mail\" component={() => <EditMailWrapper />} />\n                <Route path=\"/list/db\" component={props => <Databases {...props} changeSearchTerm={handleSearchTerm} />} />\n                <Route path=\"/add/db\" component={() => <AddDatabase />} />\n                <Route path=\"/edit/db\" component={() => <EditDatabase />} />\n                <Route path=\"/list/cron\" component={props => <CronJobs {...props} changeSearchTerm={handleSearchTerm} />} />\n                <Route path=\"/add/cron\" component={() => <AddCronJob />} />\n                <Route path=\"/edit/cron\" component={() => <EditCronJob />} />\n                <Route exact path=\"/list/backup\" component={props => <BackupWrapper {...props} changeSearchTerm={handleSearchTerm} />} />\n                <Route exact path=\"/list/backup/exclusions\" component={props => <BackupExclusions {...props} changeSearchTerm={handleSearchTerm} />} />\n                <Route exact path=\"/edit/backup/exclusions\" component={EditBackupExclusions} />\n                <Route path=\"/search/\" component={props => <Search {...props} changeSearchTerm={handleSearchTerm} searchTerm={searchTerm} />} />\n              </Switch>\n            )}\n      </div>\n      <div className=\"fixed-buttons\">\n        <div className=\"hotkey-button\">\n          <button onClick={() => hotkeysList.classList.toggle('hide')}>\n            <FontAwesomeIcon icon=\"ellipsis-h\" />\n          </button>\n        </div>\n        <div className=\"scroll-to-top\">\n          <button onClick={() => scrollToTop()}>\n            <FontAwesomeIcon icon=\"long-arrow-alt-up\" />\n          </button>\n        </div>\n      </div>\n      <Hotkeys reference={(inp) => setHotkeysList(inp)} toggleHotkeys={() => hotkeysList.classList.toggle('hide')} />\n    </div>\n  );\n}\n\nexport default ControlPanelContent;\n","import React, { useState } from 'react';\nimport { addActiveElement } from 'src/actions/MainNavigation/mainNavigationActions';\nimport { logout } from 'src/actions/Session/sessionActions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useHistory } from 'react-router-dom';\nimport Spinner from '../Spinner/Spinner';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\n\nimport './TopPanel.scss';\n\nconst TopPanel = ({ menuItems = [], extraMenuItems = [] }) => {\n  const mainNavigation = useSelector(state => state.mainNavigation);\n  const [loading, setLoading] = useState(false);\n  const { i18n, userName } = useSelector(state => state.session);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const className = cls => {\n    let className = 'nav-link';\n\n    if (mainNavigation.activeElement === cls) {\n      return className += ' active';\n    }\n\n    return className;\n  }\n\n  const renderMenuItems = () => {\n    if (!menuItems.length) return;\n\n    return menuItems.map(({ route, name }) => (\n      <div className={className(route)} key={name}>\n        <button onClick={event => handleState(event, route)}>{name}</button>\n      </div>\n    ));\n  }\n\n  const renderExtraMenuItems = () => {\n    if (!extraMenuItems.length) return;\n\n    return extraMenuItems.map(({ link, text, type }, index) => (\n      <div className=\"nav-link\" key={index}>\n        {\n          type === 'download'\n            ? <a href={`/api/v1${link}`} target=\"_blank\" rel=\"noopener noreferrer\">{text}</a>\n            : <Link to={link} target=\"_blank\">{text}</Link>\n        }\n      </div>\n    ));\n  }\n\n  const handleState = (event, route) => {\n    event.preventDefault();\n    history.push(route);\n    dispatch(addActiveElement(route));\n  }\n\n  const signOut = () => {\n    setLoading(true);\n\n    dispatch(logout())\n      .then(() => {\n        history.push('/login/');\n        setLoading(false);\n      },\n        error => {\n          setLoading(false);\n          console.error(error);\n        });\n  }\n\n  return (\n    <div className=\"panel-wrapper\">\n      {loading && <Spinner />}\n\n      <div className=\"top-panel\">\n        <div className=\"container left-menu\">\n          <div className=\"logo\">\n            <Link to=\"/list/user/\">\n              <div className=\"logo-img\">\n                <img src=\"/images/white_logo.png\" alt=\"Logo\" />\n              </div>\n            </Link>\n          </div>\n\n          <PerfectScrollbar>\n            {renderMenuItems()}\n            {renderExtraMenuItems()}\n          </PerfectScrollbar>\n        </div>\n\n        <div className=\"container profile-menu\">\n          <div><Link to={`/edit/user?user=${userName}`}>{userName}</Link></div>\n          <div><button className=\"log-out\" onClick={signOut}>{i18n['Log out']}</button></div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default TopPanel;\n","import axios from \"axios\";\n\nconst BASE_URL = window.location.origin;\n\nexport const getWebLogs = uri => {\n  return axios.get(BASE_URL + '/api/v1' +uri);\n}","import React, { useEffect, useState } from 'react';\n\nimport { addActiveElement } from 'src/actions/MainNavigation/mainNavigationActions';\nimport TopPanel from 'src/components/TopPanel/TopPanel';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport QueryString from 'qs';\n\nimport './WebLogs.scss';\nimport { getWebLogs } from 'src/ControlPanelService/WebLogs';\nimport Spinner from 'src/components/Spinner/Spinner';\nimport { Helmet } from 'react-helmet';\nimport HtmlParser from 'react-html-parser';\n\nexport default function WebLogs() {\n  const { i18n, userName } = useSelector(state => state.session);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const mainNavigation = useSelector(state => state.mainNavigation);\n  const [domain, setDomain] = useState();\n  const [state, setState] = useState({\n    data: \"\",\n    prefix: \"\",\n    loading: false\n  });\n\n  useEffect(() => {\n    if (!userName) {\n      history.push('/login/');\n    }\n  }, []);\n\n  useEffect(() => {\n    let parsedQueryString = QueryString.parse(history.location.search, { ignoreQueryPrefix: true });\n    const { domain, type } = parsedQueryString;\n\n    if (!parsedQueryString && !domain && !type) {\n      return history.goBack();\n    }\n\n    setDomain(domain);\n    let uri = `/list/web-log/?domain=${domain}&type=${type}`;\n    fetchData(uri);\n\n    dispatch(addActiveElement(`/list/web-log/?domain=${domain}&type=${type}`));\n  }, [mainNavigation.activeElement]);\n\n  const fetchData = uri => {\n    setState({\n      ...state,\n      loading: true\n    });\n\n    getWebLogs(uri)\n      .then(result => {\n        if (result.data) {\n          setState({ ...state, data: result.data.data, prefix: result.data.prefix, loading: false });\n        }\n      })\n      .catch(error => {\n        console.error(error);\n        setState({ ...state, loading: false });\n      });\n  }\n\n  const menuItems = [\n    {\n      route: `/list/web-log/?domain=${domain}&type=access`,\n      name: i18n['AccessLog']\n    },\n    {\n      route: `/list/web-log/?domain=${domain}&type=error`,\n      name: i18n['ErrorLog']\n    }\n  ];\n\n  const extraMenuItems = [\n    {\n      link: `/download/web-log/?domain=${domain ?? ''}&type=access`,\n      type: 'download',\n      text: i18n['Download AccessLog']\n    },\n    {\n      link: `/download/web-log/?domain=${domain ?? ''}&type=error`,\n      type: 'download',\n      text: i18n['Download ErrorLog'],\n    }\n  ];\n\n  return (\n    <div className=\"web-logs\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.WEB}`}</title>\n      </Helmet>\n      <TopPanel menuItems={menuItems} extraMenuItems={extraMenuItems} />\n      <div className=\"content\">\n        <h6><b>{state.prefix}</b></h6>\n        <br />\n        {\n          state.loading\n            ? <Spinner />\n            : (\n              <pre>\n                {HtmlParser(state.data)}\n              </pre>\n            )\n        }\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\n\nimport '../AddItemLayout/AddItemLayout.scss';\nimport './LoginLayout.scss';\n\nconst LoginLayout = ({ children }) => {\n  return (\n    <div className=\"login-layout\">\n      {children}\n    </div>\n  );\n}\n\nexport default LoginLayout;","import React, { useEffect, useState } from 'react';\n\nimport { Link, useHistory } from 'react-router-dom';\nimport Spinner from '../Spinner/Spinner';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { login } from '../../actions/Session/sessionActions';\nimport LoginLayout from '../ControlPanel/LoginLayout/LoginLayout';\nimport TextInput from '../ControlPanel/AddItemLayout/Form/TextInput/TextInput';\n\nimport './Login.scss';\nimport { Helmet } from 'react-helmet';\n\nexport default function LoginForm() {\n  const { i18n } = useSelector(state => state.session);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const [formValues, setFormValues] = useState({\n    user: '',\n    password: ''\n  });\n  const session = useSelector(state => state.session);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  useEffect(() => {\n    if (session.error) {\n      setErrorMessage(session.error);\n      return;\n    }\n\n    if (session.token && session.userName) {\n      history.push('/list/user/');\n    }\n  }, [session]);\n\n  const submitHandler = event => {\n    event.preventDefault();\n    const { user, password } = formValues;\n\n    setLoading(true);\n\n    dispatch(login(user, password))\n      .then((res) => {\n        setLoading(false);\n      });\n  }\n\n  const changeInputHandler = event => {\n    const { value, name } = event.target;\n\n    setFormValues({\n      ...formValues,\n      [name]: value\n    });\n  }\n\n  return (\n    <div className=\"login-page\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.LOGIN ?? 'LOGIN'}`}</title>\n      </Helmet>\n      {loading && <Spinner />}\n      <div className=\"login-form-wrapper\">\n        <LoginLayout>\n          <form onSubmit={submitHandler}>\n            <div className=\"c1\">\n              <Link to=\"/\">\n                <img src=\"/images/logo.png\" alt=\"Logo\" />\n              </Link>\n            </div>\n            <div className=\"c2\">\n              <TextInput\n                onChange={changeInputHandler}\n                title={i18n['Username'] ?? 'Username'}\n                value={formValues.user}\n                name=\"user\"\n                id=\"user\" />\n\n              <TextInput\n                onChange={changeInputHandler}\n                title={i18n['Password'] ?? 'Password'}\n                value={formValues.password}\n                optionalTitle={(\n                  <Link className=\"forgot-password\" tabIndex=\"-1\" to=\"/reset\">\n                    {i18n['forgot password'] ?? 'forgot password'}\n                  </Link>\n                )}\n                name=\"password\"\n                type=\"password\"\n                id=\"password\" />\n\n              <button type=\"submit\" disabled={loading} className={loading ? 'disabled' : ''}>\n                {i18n['Log in'] ?? 'Log in'}\n              </button>\n\n              <div className=\"error-message\">{errorMessage}</div>\n            </div>\n          </form>\n\n          <span>\n            <a href=\"http://vestacp.com/\">vestacp.com</a>\n          </span>\n        </LoginLayout>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\n\nimport { addActiveElement } from 'src/actions/MainNavigation/mainNavigationActions';\nimport TopPanel from 'src/components/TopPanel/TopPanel';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { getServiceLogs } from 'src/ControlPanelService/Server';\nimport Spinner from 'src/components/Spinner/Spinner';\nimport { Helmet } from 'react-helmet';\nimport ReactHtmlParser from 'react-html-parser';\n\nimport './styles.scss';\nimport QueryString from 'qs';\n\nconst ServiceInfo = () => {\n  const { i18n, userName } = useSelector(state => state.session);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [state, setState] = useState({\n    data: \"\",\n    loading: false\n  });\n\n  useEffect(() => {\n    if (!userName) {\n      history.push('/login/');\n    }\n  }, [userName]);\n\n  useEffect(() => {\n    let queryParams = QueryString.parse(history.location.search, { ignoreQueryPrefix: true });\n\n    if (!queryParams.srv) {\n      fetchData('cpu');\n      dispatch(addActiveElement('/list/server/service/?srv=cpu'));\n      return;\n    }\n\n    if (!menuItems.find(item => item.service === queryParams.srv)) {\n      dispatch(addActiveElement('/list/server/service/?srv=cpu'));\n      history.push('/list/server/service/?srv=cpu');\n      return;\n    }\n\n    fetchData(queryParams.srv);\n    dispatch(addActiveElement(`/list/server/service/?srv=${queryParams.srv}`));\n  }, [history.location.search]);\n\n  const fetchData = serviceName => {\n    setState({ ...state, loading: true });\n\n    getServiceLogs(serviceName)\n      .then(result => {\n        setState({ ...state, data: result.data.service_log, loading: false });\n      })\n      .catch(error => {\n        console.error(error);\n        setState({ ...state, loading: false });\n      });\n  }\n\n  const menuItems = [\n    {\n      route: '/list/server/service/?srv=cpu',\n      service: 'cpu',\n      name: i18n['CPU']\n    },\n    {\n      route: '/list/server/service/?srv=mem',\n      service: 'mem',\n      name: i18n['MEMORY']\n    },\n    {\n      route: '/list/server/service/?srv=disk',\n      service: 'disk',\n      name: i18n['DISK']\n    },\n    {\n      route: '/list/server/service/?srv=net',\n      service: 'net',\n      name: i18n['NETWORK']\n    },\n    {\n      route: '/list/server/service/?srv=web',\n      service: 'web',\n      name: i18n['WEB']\n    },\n    {\n      route: '/list/server/service/?srv=dns',\n      service: 'dns',\n      name: i18n['DNS']\n    },\n    {\n      route: '/list/server/service/?srv=mail',\n      service: 'mail',\n      name: i18n['MAIL']\n    },\n    {\n      route: '/list/server/service/?srv=db',\n      service: 'db',\n      name: i18n['DB']\n    }\n  ];\n\n  return (\n    <div className=\"service-info\">\n      <Helmet>\n        <title>{`Vesta - ${i18n.SERVER}`}</title>\n      </Helmet>\n      <TopPanel menuItems={menuItems} />\n      <div className=\"content\">\n        {\n          state.loading\n            ? <Spinner />\n            : (<pre>\n              {state.data && ReactHtmlParser(state.data)}\n            </pre>)\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default ServiceInfo;\n","import React, { useEffect, useState } from 'react';\n\nimport TextInput from 'src/components/ControlPanel/AddItemLayout/Form/TextInput/TextInput';\nimport Password from 'src/components/ControlPanel/AddItemLayout/Form/Password/Password';\nimport LoginLayout from 'src/components/ControlPanel/LoginLayout/LoginLayout';\nimport { resetPassword } from 'src/ControlPanelService/ResetPassword';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport { reset } from 'src/actions/Session/sessionActions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Spinner from 'src/components/Spinner/Spinner';\nimport ReactHtmlParser from 'react-html-parser';\nimport { Helmet } from 'react-helmet';\nimport QueryString from 'qs';\n\nexport default function ForgotPassword() {\n  const { i18n } = useSelector(state => state.session);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const [state, setState] = useState({\n    action: '',\n    user: '',\n    code: '',\n  });\n  const session = useSelector(state => state.session);\n  const location = useLocation();\n  const [errorMessage, setErrorMessage] = useState('');\n\n  useEffect(() => {\n    const parsedQueryString = QueryString.parse(location.search, { ignoreQueryPrefix: true });\n\n    setState({\n      ...state,\n      action: parsedQueryString.action || '',\n      user: parsedQueryString.user || '',\n      code: parsedQueryString.code || ''\n    });\n  }, []);\n\n  useEffect(() => {\n    if (session.error) {\n      setErrorMessage(session.error);\n      return;\n    }\n\n    if (session.token && session.userName) {\n      history.push('/list/user/');\n    }\n  }, [session]);\n\n  const submitHandler = event => {\n    event.preventDefault();\n\n    if (!state.code && !state.user) return;\n\n    if (!state.action && state.user) {\n      completeStep1();\n      return;\n    }\n\n    if (state.action === 'code' && state.user && state.code) {\n      completeStep2();\n      return;\n    }\n\n    setLoading(true);\n    const data = { user: state.user, code: state.code };\n\n    for (var [name, value] of (new FormData(event.target)).entries()) {\n      data[name] = value;\n    }\n\n    dispatch(reset(data))\n      .then(res => {\n        if (res.error) {\n          setErrorMessage(res.error);\n        } else {\n          history.push('/login');\n          setErrorMessage('');\n        }\n\n        setLoading(false);\n      });\n  }\n\n  const changeInputHandler = event => {\n    const { value, name } = event.target;\n\n    setState({ ...state, [name]: value });\n  }\n\n  const completeStep1 = () => {\n    if (!state.user) return;\n    setLoading(true);\n\n    resetPassword(state.user)\n      .then(res => {\n        setErrorMessage(res.data.error || '');\n        setState({ ...state, action: 'code' });\n        setLoading(false);\n      })\n      .catch(error => {\n        console.error(error);\n        setLoading(false);\n      });\n  }\n\n  const completeStep2 = () => {\n    setState({ ...state, action: 'confirm' });\n  }\n\n  return (\n    <div className=\"login-page\">\n      <Helmet>\n        <title>{`Vesta - ${i18n['RESET PASSWORD']}`}</title>\n      </Helmet>\n      {loading && <Spinner />}\n      <div className=\"login-form-wrapper\">\n        <LoginLayout>\n          <form onSubmit={submitHandler}>\n            <div className=\"c1\">\n              <Link to=\"/\">\n                <img src=\"/images/logo.png\" alt=\"Logo\" />\n              </Link>\n            </div>\n            <div className=\"c2\">\n              {\n                !state.action && (\n                  <>\n                    <TextInput\n                      onChange={changeInputHandler}\n                      title={i18n['Username']}\n                      value={state.user}\n                      name=\"user\"\n                      id=\"user\" />\n\n                    <div className=\"buttons-wrapper\">\n                      <button className=\"add\" type=\"button\" onClick={completeStep1}>{i18n.Submit}</button>\n                      <button className=\"back\" type=\"button\" onClick={() => history.push('/login')}>{i18n.Back}</button>\n                    </div>\n                  </>\n                )\n              }\n\n              {\n                state.action === 'code' && (\n                  <>\n                    <span>{ReactHtmlParser(i18n['RESET_CODE_SENT'])}</span><br />\n\n                    <TextInput\n                      onChange={changeInputHandler}\n                      title={i18n['Reset Code']}\n                      value={state.code}\n                      name=\"code\"\n                      id=\"code\" />\n\n                    <div className=\"buttons-wrapper\">\n                      <button className=\"add\" type=\"button\" onClick={completeStep2}>{i18n.Confirm}</button>\n                      <button className=\"back\" type=\"button\" onClick={() => setState({ ...state, action: '', code: '', user: '' })}>{i18n.Back}</button>\n                    </div>\n                  </>\n                )\n              }\n\n              {\n                state.action === 'confirm' && (\n                  <>\n                    <Password name='password' title={i18n['New Password']} showGenerationButton={false} tabIndex={1} />\n\n                    <Password name='password_confirm' title={i18n['Confirm Password']} showGenerationButton={false} tabIndex={2} />\n\n                    <div className=\"buttons-wrapper\">\n                      <button className=\"add\" type=\"submit\" style={{ height: '31px' }}>{i18n.Reset}</button>\n                      <button className=\"back\" type=\"button\" onClick={() => setState({ ...state, action: 'code', code: '', user: state.user })}>{i18n.Back}</button>\n                    </div>\n                  </>\n                )\n              }\n\n              <div className=\"error-message\">{errorMessage}</div>\n            </div>\n          </form>\n\n          <span>\n            <a href=\"http://vestacp.com/\">vestacp.com</a>\n          </span>\n        </LoginLayout>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport FileManager from '../FileManager/FileManager';\nimport { Route, Switch, useHistory, Redirect } from \"react-router\";\nimport Preview from '../../components/Preview/Preview';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport * as Icon from '@fortawesome/free-solid-svg-icons';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap.min';\nimport './App.scss';\nimport ControlPanelContent from '../ControlPanelContent/ControlPanelContent';\nimport WebLogs from '../WebLogs/WebLogs';\nimport LoginForm from 'src/components/Login/LoginForm';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { checkAuthHandler } from 'src/actions/Session/sessionActions';\nimport ServiceInfo from 'src/containers/ServiceInfo';\nimport ForgotPassword from 'src/components/ForgotPassword';\nimport Spinner from 'src/components/Spinner/Spinner';\n\nlibrary.add(\n  Icon.faBook,\n  Icon.faDownload,\n  Icon.faFile,\n  Icon.faFileAlt,\n  Icon.faFolderOpen,\n  Icon.faImage,\n  Icon.faEllipsisH,\n  Icon.faFolder,\n  Icon.faItalic,\n  Icon.faUser,\n  Icon.faCopy,\n  Icon.faPaste,\n  Icon.faTrash,\n  Icon.faBoxOpen,\n  Icon.faArrowDown,\n  Icon.faArrowUp,\n  Icon.faBell,\n  Icon.faPlus,\n  Icon.faAngleRight,\n  Icon.faStar,\n  Icon.faUserLock,\n  Icon.faPen,\n  Icon.faLock,\n  Icon.faTimes,\n  Icon.faSearch,\n  Icon.faCog,\n  Icon.faList,\n  Icon.faWrench,\n  Icon.faFileDownload,\n  Icon.faPause,\n  Icon.faPlay,\n  Icon.faCogs,\n  Icon.faStop,\n  Icon.faUnlock,\n  Icon.faLongArrowAltUp,\n  Icon.faEye,\n  Icon.faEyeSlash,\n  Icon.faLongArrowAltRight,\n  Icon.faCaretDown,\n  Icon.faCaretUp,\n  Icon.faInfinity,\n  Icon.faPlay\n);\n\nconst App = () => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const session = useSelector(state => state.session);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!Object.entries(session.i18n).length) {\n      dispatch(checkAuthHandler())\n        .then(token => {\n          setLoading(false);\n        }, (error) => {\n          console.error(error);\n          return history.push('/login');\n        });\n    }\n  }, [dispatch, history, session]);\n\n  const AuthenticatedRoute = ({ authenticated, ...rest }) => {\n    return (\n      <Route {...rest} render={props =>\n        authenticated\n          ? <rest.component {...props} />\n          : <Redirect to=\"/login\" />} />\n    );\n  }\n\n  return (\n    <div className=\"App\">\n      {\n        loading\n          ? <Spinner />\n          : (\n            <Switch>\n              <Route path=\"/login\" exact component={LoginForm} />\n              <Route path=\"/reset\" exact component={ForgotPassword} />\n              <Route\n                path=\"/list/directory/\"\n                exact\n                component={FileManager} />\n              <Route\n                path=\"/list/directory/preview/\"\n                exact\n                component={Preview} />\n              <AuthenticatedRoute\n                path=\"/list/server/service/\"\n                authenticated={session.userName}\n                component={ServiceInfo} />\n              <AuthenticatedRoute\n                path=\"/list/web-log/\"\n                exact\n                authenticated={session.userName}\n                component={WebLogs} />\n              <AuthenticatedRoute\n                path=\"/\"\n                authenticated={session.userName}\n                loading={loading}\n                component={ControlPanelContent} />\n            </Switch>\n          )\n      }\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport configureStore from './store';\nimport './index.css';\nimport App from './containers/App/App';\nimport * as serviceWorker from './containers/App/serviceWorker';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n  <Provider store={configureStore()}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { composeWithDevTools } from 'redux-devtools-extension';\nimport { createStore, applyMiddleware } from 'redux';\nimport rootReducer from './reducers/rootReducer';\nimport thunk from 'redux-thunk';\n\nexport default function configureStore() {\n  return createStore(\n    rootReducer,\n    composeWithDevTools(applyMiddleware(thunk))\n  );\n}"],"sourceRoot":""}